{
  "version": 3,
  "sources": ["../../node_modules/remarkable/dist/esm/index.browser.js", "../../src/parser.js", "../../src/search.js", "../../src/toc.js", "../../src/headings.js", "../../src/directives.js", "../../src/helper.js", "../../src/main.js"],
  "sourcesContent": ["var textarea;\n\nfunction decodeEntity(name) {\n  textarea = textarea || document.createElement('textarea');\n  textarea.innerHTML = '&' + name + ';';\n  return textarea.value;\n}\n\n/**\n * Utility functions\n */\n\nfunction typeOf(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nfunction isString(obj) {\n  return typeOf(obj) === '[object String]';\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return object\n    ? hasOwn.call(object, key)\n    : false;\n}\n\n// Extend objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = [].slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar UNESCAPE_MD_RE = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\nvar NAMED_ENTITY_RE   = /&([a-z#][a-z0-9]{1,31});/gi;\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n  var decoded = decodeEntity(name);\n\n  if (name !== decoded) {\n    return decoded;\n  } else if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16)\n    :\n      parseInt(name.slice(1), 10);\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n  return match;\n}\n\nfunction replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(NAMED_ENTITY_RE, replaceEntityPattern);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n  isString: isString,\n  has: has,\n  assign: assign,\n  unescapeMd: unescapeMd,\n  isValidEntityCode: isValidEntityCode,\n  fromCodePoint: fromCodePoint,\n  replaceEntities: replaceEntities,\n  escapeHtml: escapeHtml\n});\n\n/**\n * Renderer rules cache\n */\n\nvar rules = {};\n\n/**\n * Blockquotes\n */\n\nrules.blockquote_open = function(/* tokens, idx, options, env */) {\n  return '<blockquote>\\n';\n};\n\nrules.blockquote_close = function(tokens, idx /*, options, env */) {\n  return '</blockquote>' + getBreak(tokens, idx);\n};\n\n/**\n * Code\n */\n\nrules.code = function(tokens, idx /*, options, env */) {\n  if (tokens[idx].block) {\n    return '<pre><code>' + escapeHtml(tokens[idx].content) + '</code></pre>' + getBreak(tokens, idx);\n  }\n  return '<code>' + escapeHtml(tokens[idx].content) + '</code>';\n};\n\n/**\n * Fenced code blocks\n */\n\nrules.fence = function(tokens, idx, options, env, instance) {\n  var token = tokens[idx];\n  var langClass = '';\n  var langPrefix = options.langPrefix;\n  var langName = '', fences, fenceName;\n  var highlighted;\n\n  if (token.params) {\n\n    //\n    // ```foo bar\n    //\n    // Try custom renderer \"foo\" first. That will simplify overwrite\n    // for diagrams, latex, and any other fenced block with custom look\n    //\n\n    fences = token.params.split(/\\s+/g);\n    fenceName = fences.join(' ');\n\n    if (has(instance.rules.fence_custom, fences[0])) {\n      return instance.rules.fence_custom[fences[0]](tokens, idx, options, env, instance);\n    }\n\n    langName = escapeHtml(replaceEntities(unescapeMd(fenceName)));\n    langClass = ' class=\"' + langPrefix + langName + '\"';\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight.apply(options.highlight, [ token.content ].concat(fences))\n      || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  return '<pre><code' + langClass + '>'\n        + highlighted\n        + '</code></pre>'\n        + getBreak(tokens, idx);\n};\n\nrules.fence_custom = {};\n\n/**\n * Headings\n */\n\nrules.heading_open = function(tokens, idx /*, options, env */) {\n  return '<h' + tokens[idx].hLevel + '>';\n};\nrules.heading_close = function(tokens, idx /*, options, env */) {\n  return '</h' + tokens[idx].hLevel + '>\\n';\n};\n\n/**\n * Horizontal rules\n */\n\nrules.hr = function(tokens, idx, options /*, env */) {\n  return (options.xhtmlOut ? '<hr />' : '<hr>') + getBreak(tokens, idx);\n};\n\n/**\n * Bullets\n */\n\nrules.bullet_list_open = function(/* tokens, idx, options, env */) {\n  return '<ul>\\n';\n};\nrules.bullet_list_close = function(tokens, idx /*, options, env */) {\n  return '</ul>' + getBreak(tokens, idx);\n};\n\n/**\n * List items\n */\n\nrules.list_item_open = function(/* tokens, idx, options, env */) {\n  return '<li>';\n};\nrules.list_item_close = function(/* tokens, idx, options, env */) {\n  return '</li>\\n';\n};\n\n/**\n * Ordered list items\n */\n\nrules.ordered_list_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  var order = token.order > 1 ? ' start=\"' + token.order + '\"' : '';\n  return '<ol' + order + '>\\n';\n};\nrules.ordered_list_close = function(tokens, idx /*, options, env */) {\n  return '</ol>' + getBreak(tokens, idx);\n};\n\n/**\n * Paragraphs\n */\n\nrules.paragraph_open = function(tokens, idx /*, options, env */) {\n  return tokens[idx].tight ? '' : '<p>';\n};\nrules.paragraph_close = function(tokens, idx /*, options, env */) {\n  var addBreak = !(tokens[idx].tight && idx && tokens[idx - 1].type === 'inline' && !tokens[idx - 1].content);\n  return (tokens[idx].tight ? '' : '</p>') + (addBreak ? getBreak(tokens, idx) : '');\n};\n\n/**\n * Links\n */\n\nrules.link_open = function(tokens, idx, options /* env */) {\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var target = options.linkTarget ? (' target=\"' + options.linkTarget + '\"') : '';\n  return '<a href=\"' + escapeHtml(tokens[idx].href) + '\"' + title + target + '>';\n};\nrules.link_close = function(/* tokens, idx, options, env */) {\n  return '</a>';\n};\n\n/**\n * Images\n */\n\nrules.image = function(tokens, idx, options /*, env */) {\n  var src = ' src=\"' + escapeHtml(tokens[idx].src) + '\"';\n  var title = tokens[idx].title ? (' title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\"') : '';\n  var alt = ' alt=\"' + (tokens[idx].alt ? escapeHtml(replaceEntities(unescapeMd(tokens[idx].alt))) : '') + '\"';\n  var suffix = options.xhtmlOut ? ' /' : '';\n  return '<img' + src + alt + title + suffix + '>';\n};\n\n/**\n * Tables\n */\n\nrules.table_open = function(/* tokens, idx, options, env */) {\n  return '<table>\\n';\n};\nrules.table_close = function(/* tokens, idx, options, env */) {\n  return '</table>\\n';\n};\nrules.thead_open = function(/* tokens, idx, options, env */) {\n  return '<thead>\\n';\n};\nrules.thead_close = function(/* tokens, idx, options, env */) {\n  return '</thead>\\n';\n};\nrules.tbody_open = function(/* tokens, idx, options, env */) {\n  return '<tbody>\\n';\n};\nrules.tbody_close = function(/* tokens, idx, options, env */) {\n  return '</tbody>\\n';\n};\nrules.tr_open = function(/* tokens, idx, options, env */) {\n  return '<tr>';\n};\nrules.tr_close = function(/* tokens, idx, options, env */) {\n  return '</tr>\\n';\n};\nrules.th_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<th'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.th_close = function(/* tokens, idx, options, env */) {\n  return '</th>';\n};\nrules.td_open = function(tokens, idx /*, options, env */) {\n  var token = tokens[idx];\n  return '<td'\n    + (token.align ? ' style=\"text-align:' + token.align + '\"' : '')\n    + '>';\n};\nrules.td_close = function(/* tokens, idx, options, env */) {\n  return '</td>';\n};\n\n/**\n * Bold\n */\n\nrules.strong_open = function(/* tokens, idx, options, env */) {\n  return '<strong>';\n};\nrules.strong_close = function(/* tokens, idx, options, env */) {\n  return '</strong>';\n};\n\n/**\n * Italicize\n */\n\nrules.em_open = function(/* tokens, idx, options, env */) {\n  return '<em>';\n};\nrules.em_close = function(/* tokens, idx, options, env */) {\n  return '</em>';\n};\n\n/**\n * Strikethrough\n */\n\nrules.del_open = function(/* tokens, idx, options, env */) {\n  return '<del>';\n};\nrules.del_close = function(/* tokens, idx, options, env */) {\n  return '</del>';\n};\n\n/**\n * Insert\n */\n\nrules.ins_open = function(/* tokens, idx, options, env */) {\n  return '<ins>';\n};\nrules.ins_close = function(/* tokens, idx, options, env */) {\n  return '</ins>';\n};\n\n/**\n * Highlight\n */\n\nrules.mark_open = function(/* tokens, idx, options, env */) {\n  return '<mark>';\n};\nrules.mark_close = function(/* tokens, idx, options, env */) {\n  return '</mark>';\n};\n\n/**\n * Super- and sub-script\n */\n\nrules.sub = function(tokens, idx /*, options, env */) {\n  return '<sub>' + escapeHtml(tokens[idx].content) + '</sub>';\n};\nrules.sup = function(tokens, idx /*, options, env */) {\n  return '<sup>' + escapeHtml(tokens[idx].content) + '</sup>';\n};\n\n/**\n * Breaks\n */\n\nrules.hardbreak = function(tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\nrules.softbreak = function(tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n/**\n * Text\n */\n\nrules.text = function(tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n/**\n * Content\n */\n\nrules.htmlblock = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\nrules.htmltag = function(tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n/**\n * Abbreviations, initialism\n */\n\nrules.abbr_open = function(tokens, idx /*, options, env */) {\n  return '<abbr title=\"' + escapeHtml(replaceEntities(tokens[idx].title)) + '\">';\n};\nrules.abbr_close = function(/* tokens, idx, options, env */) {\n  return '</abbr>';\n};\n\n/**\n * Footnotes\n */\n\nrules.footnote_ref = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + n + '\" id=\"' + id + '\">[' + n + ']</a></sup>';\n};\nrules.footnote_block_open = function(tokens, idx, options) {\n  var hr = options.xhtmlOut\n    ? '<hr class=\"footnotes-sep\" />\\n'\n    : '<hr class=\"footnotes-sep\">\\n';\n  return hr + '<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n';\n};\nrules.footnote_block_close = function() {\n  return '</ol>\\n</section>\\n';\n};\nrules.footnote_open = function(tokens, idx) {\n  var id = Number(tokens[idx].id + 1).toString();\n  return '<li id=\"fn' + id + '\"  class=\"footnote-item\">';\n};\nrules.footnote_close = function() {\n  return '</li>\\n';\n};\nrules.footnote_anchor = function(tokens, idx) {\n  var n = Number(tokens[idx].id + 1).toString();\n  var id = 'fnref' + n;\n  if (tokens[idx].subId > 0) {\n    id += ':' + tokens[idx].subId;\n  }\n  return ' <a href=\"#' + id + '\" class=\"footnote-backref\">\u21A9</a>';\n};\n\n/**\n * Definition lists\n */\n\nrules.dl_open = function() {\n  return '<dl>\\n';\n};\nrules.dt_open = function() {\n  return '<dt>';\n};\nrules.dd_open = function() {\n  return '<dd>';\n};\nrules.dl_close = function() {\n  return '</dl>\\n';\n};\nrules.dt_close = function() {\n  return '</dt>\\n';\n};\nrules.dd_close = function() {\n  return '</dd>\\n';\n};\n\n/**\n * Helper functions\n */\n\nfunction nextToken(tokens, idx) {\n  if (++idx >= tokens.length - 2) {\n    return idx;\n  }\n  if ((tokens[idx].type === 'paragraph_open' && tokens[idx].tight) &&\n      (tokens[idx + 1].type === 'inline' && tokens[idx + 1].content.length === 0) &&\n      (tokens[idx + 2].type === 'paragraph_close' && tokens[idx + 2].tight)) {\n    return nextToken(tokens, idx + 2);\n  }\n  return idx;\n}\n\n/**\n * Check to see if `\\n` is needed before the next token.\n *\n * @param  {Array} `tokens`\n * @param  {Number} `idx`\n * @return {String} Empty string or newline\n * @api private\n */\n\nvar getBreak = rules.getBreak = function getBreak(tokens, idx) {\n  idx = nextToken(tokens, idx);\n  if (idx < tokens.length && tokens[idx].type === 'list_item_close') {\n    return '';\n  }\n  return '\\n';\n};\n\n/**\n * Renderer class. Renders HTML and exposes `rules` to allow\n * local modifications.\n */\n\nfunction Renderer() {\n  this.rules = assign({}, rules);\n\n  // exported helper, for custom rules only\n  this.getBreak = rules.getBreak;\n}\n\n/**\n * Render a string of inline HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = 0;\n  var result = '';\n\n  while (len--) {\n    result += _rules[tokens[i].type](tokens, i++, options, env, this);\n  }\n\n  return result;\n};\n\n/**\n * Render a string of HTML with the given `tokens` and\n * `options`.\n *\n * @param  {Array} `tokens`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @return {String}\n * @api public\n */\n\nRenderer.prototype.render = function (tokens, options, env) {\n  var _rules = this.rules;\n  var len = tokens.length, i = -1;\n  var result = '';\n\n  while (++i < len) {\n    if (tokens[i].type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else {\n      result += _rules[tokens[i].type](tokens, i, options, env, this);\n    }\n  }\n  return result;\n};\n\n/**\n * Ruler is a helper class for building responsibility chains from\n * parse rules. It allows:\n *\n *   - easy stack rules chains\n *   - getting main chain and named chains content (as arrays of functions)\n *\n * Helper methods, should not be used directly.\n * @api private\n */\n\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // { name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ] }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - digital anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n/**\n * Find the index of a rule by `name`.\n *\n * @param  {String} `name`\n * @return {Number} Index of the given `name`\n * @api private\n */\n\nRuler.prototype.__find__ = function (name) {\n  var len = this.__rules__.length;\n  var i = -1;\n\n  while (len--) {\n    if (this.__rules__[++i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n/**\n * Build the rules lookup cache\n *\n * @api private\n */\n\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) {\n      return;\n    }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) {\n        return;\n      }\n\n      if (chain && rule.alt.indexOf(chain) < 0) {\n        return;\n      }\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n/**\n * Ruler public methods\n * ------------------------------------------------\n */\n\n/**\n * Replace rule function\n *\n * @param  {String} `name` Rule name\n * @param  {Function `fn`\n * @param  {Object} `options`\n * @api private\n */\n\nRuler.prototype.at = function (name, fn, options) {\n  var idx = this.__find__(name);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + name);\n  }\n\n  this.__rules__[idx].fn = fn;\n  this.__rules__[idx].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain before given the `ruleName`.\n *\n * @param  {String}   `beforeName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var idx = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + beforeName);\n  }\n\n  this.__rules__.splice(idx, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the chain after the given `ruleName`.\n *\n * @param  {String}   `afterName`\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @api private\n */\n\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var idx = this.__find__(afterName);\n  var opt = options || {};\n\n  if (idx === -1) {\n    throw new Error('Parser rule not found: ' + afterName);\n  }\n\n  this.__rules__.splice(idx + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Add a rule to the end of chain.\n *\n * @param  {String}   `ruleName`\n * @param  {Function} `fn`\n * @param  {Object}   `options`\n * @return {String}\n */\n\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Enable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to enable\n * @param  {Boolean} `strict` If `true`, all non listed rules will be disabled.\n * @api private\n */\n\nRuler.prototype.enable = function (list, strict) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // In strict mode disable all existing rules first\n  if (strict) {\n    this.__rules__.forEach(function (rule) {\n      rule.enabled = false;\n    });\n  }\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Disable a rule or list of rules.\n *\n * @param  {String|Array} `list` Name or array of rule names to disable\n * @api private\n */\n\nRuler.prototype.disable = function (list) {\n  list = !Array.isArray(list)\n    ? [ list ]\n    : list;\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n    if (idx < 0) {\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n  }, this);\n\n  this.__cache__ = null;\n};\n\n/**\n * Get a rules list as an array of functions.\n *\n * @param  {String} `chainName`\n * @return {Object}\n * @api private\n */\n\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n  return this.__cache__[chainName] || [];\n};\n\nfunction block(state) {\n\n  if (state.inlineMode) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.replace(/\\n/g, ' ').trim(),\n      level: 0,\n      lines: [ 0, 1 ],\n      children: []\n    });\n\n  } else {\n    state.block.parse(state.src, state.options, state.env, state.tokens);\n  }\n}\n\n// Inline parser state\n\nfunction StateInline(src, parserInline, options, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.options = options;\n  this.parser = parserInline;\n  this.tokens = outTokens;\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  this.cache = [];        // Stores { start: end } pairs. Useful for backtrack\n                          // optimization of pairs parse (emphasis, strikes).\n\n  // Link parser state vars\n\n  this.isInLabel = false; // Set true when seek link label - we should disable\n                          // \"paired\" rules (emphasis, strikes) to not skip\n                          // tailing `]`\n\n  this.linkLevel = 0;     // Increment for each nesting link. Used to prevent\n                          // nesting in definitions\n\n  this.linkContent = '';  // Temporary storage for link url\n\n  this.labelUnmatchedScopes = 0; // Track unpaired `[` for link labels\n                                 // (backtrack optimization)\n}\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  this.tokens.push({\n    type: 'text',\n    content: this.pending,\n    level: this.pendingLevel\n  });\n  this.pending = '';\n};\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (token) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  this.tokens.push(token);\n  this.pendingLevel = this.level;\n};\n\n// Store value to cache.\n// !!! Implementation has parser-specific optimizations\n// !!! keys MUST be integer, >= 0; values MUST be integer, > 0\n//\nStateInline.prototype.cacheSet = function (key, val) {\n  for (var i = this.cache.length; i <= key; i++) {\n    this.cache.push(0);\n  }\n\n  this.cache[key] = val;\n};\n\n// Get cache value\n//\nStateInline.prototype.cacheGet = function (key) {\n  return key < this.cache.length ? this.cache[key] : 0;\n};\n\n/**\n * Parse link labels\n *\n * This function assumes that first character (`[`) already matches;\n * returns the end of the label.\n *\n * @param  {Object} state\n * @param  {Number} start\n * @api private\n */\n\nfunction parseLinkLabel(state, start) {\n  var level, found, marker,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos,\n      oldFlag = state.isInLabel;\n\n  if (state.isInLabel) { return -1; }\n\n  if (state.labelUnmatchedScopes) {\n    state.labelUnmatchedScopes--;\n    return -1;\n  }\n\n  state.pos = start + 1;\n  state.isInLabel = true;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5B /* [ */) {\n      level++;\n    } else if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n    state.labelUnmatchedScopes = 0;\n  } else {\n    state.labelUnmatchedScopes = level - 1;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n  state.isInLabel = oldFlag;\n\n  return labelEnd;\n}\n\n// Parse abbreviation definitions, i.e. `*[abbr]: description`\n\n\nfunction parseAbbr(str, parserInline, options, env) {\n  var state, labelEnd, pos, max, label, title;\n\n  if (str.charCodeAt(0) !== 0x2A/* * */) { return -1; }\n  if (str.charCodeAt(1) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parserInline, options, env, []);\n  labelEnd = parseLinkLabel(state, 1);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // abbr title is always one line, so looking for ending \"\\n\" here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x0A) { break; }\n  }\n\n  label = str.slice(2, labelEnd);\n  title = str.slice(labelEnd + 2, pos).trim();\n  if (title.length === 0) { return -1; }\n  if (!env.abbreviations) { env.abbreviations = {}; }\n  // prepend ':' to avoid conflict with Object.prototype members\n  if (typeof env.abbreviations[':' + label] === 'undefined') {\n    env.abbreviations[':' + label] = title;\n  }\n\n  return pos;\n}\n\nfunction abbr(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Parse inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i].type === 'inline' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseAbbr(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n}\n\nfunction normalizeLink(url) {\n  var normalized = replaceEntities(url);\n  // We shouldn't care about the result of malformed URIs,\n  // and should not throw an exception.\n  try {\n    normalized = decodeURI(normalized);\n  } catch (err) {}\n  return encodeURI(normalized);\n}\n\n/**\n * Parse link destination\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nfunction parseLinkDestination(state, pos) {\n  var code, level, link,\n      start = pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = state.src.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return false; }\n      if (code === 0x3E /* > */) {\n        link = normalizeLink(unescapeMd(state.src.slice(start + 1, pos)));\n        if (!state.parser.validateLink(link)) { return false; }\n        state.pos = pos + 1;\n        state.linkContent = link;\n        return true;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return false;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control chars\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 1) { break; }\n    }\n\n    if (code === 0x29 /* ) */) {\n      level--;\n      if (level < 0) { break; }\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return false; }\n\n  link = unescapeMd(state.src.slice(start, pos));\n  if (!state.parser.validateLink(link)) { return false; }\n\n  state.linkContent = link;\n  state.pos = pos;\n  return true;\n}\n\n/**\n * Parse link title\n *\n *   - on success it returns a string and updates state.pos;\n *   - on failure it returns null\n *\n * @param  {Object} state\n * @param  {Number} pos\n * @api private\n */\n\nfunction parseLinkTitle(state, pos) {\n  var code,\n      start = pos,\n      max = state.posMax,\n      marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return false; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = state.src.charCodeAt(pos);\n    if (code === marker) {\n      state.pos = pos + 1;\n      state.linkContent = unescapeMd(state.src.slice(start + 1, pos));\n      return true;\n    }\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    pos++;\n  }\n\n  return false;\n}\n\nfunction normalizeReference(str) {\n  // use .toUpperCase() instead of .toLowerCase()\n  // here to avoid a conflict with Object.prototype\n  // members (most notably, `__proto__`)\n  return str.trim().replace(/\\s+/g, ' ').toUpperCase();\n}\n\nfunction parseReference(str, parser, options, env) {\n  var state, labelEnd, pos, max, code, start, href, title, label;\n\n  if (str.charCodeAt(0) !== 0x5B/* [ */) { return -1; }\n\n  if (str.indexOf(']:') === -1) { return -1; }\n\n  state = new StateInline(str, parser, options, env, []);\n  labelEnd = parseLinkLabel(state, 0);\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return -1; }\n\n  max = state.posMax;\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  if (!parseLinkDestination(state, pos)) { return -1; }\n  href = state.linkContent;\n  pos = state.pos;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (pos = pos + 1; pos < max; pos++) {\n    code = state.src.charCodeAt(pos);\n    if (code !== 0x20 && code !== 0x0A) { break; }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n    title = state.linkContent;\n    pos = state.pos;\n  } else {\n    title = '';\n    pos = start;\n  }\n\n  // ensure that the end of the line is empty\n  while (pos < max && state.src.charCodeAt(pos) === 0x20/* space */) { pos++; }\n  if (pos < max && state.src.charCodeAt(pos) !== 0x0A) { return -1; }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (typeof env.references[label] === 'undefined') {\n    env.references[label] = { title: title, href: href };\n  }\n\n  return pos;\n}\n\n\nfunction references(state) {\n  var tokens = state.tokens, i, l, content, pos;\n\n  state.env.references = state.env.references || {};\n\n  if (state.inlineMode) {\n    return;\n  }\n\n  // Scan definitions in paragraph inlines\n  for (i = 1, l = tokens.length - 1; i < l; i++) {\n    if (tokens[i].type === 'inline' &&\n        tokens[i - 1].type === 'paragraph_open' &&\n        tokens[i + 1].type === 'paragraph_close') {\n\n      content = tokens[i].content;\n      while (content.length) {\n        pos = parseReference(content, state.inline, state.options, state.env);\n        if (pos < 0) { break; }\n        content = content.slice(pos).trim();\n      }\n\n      tokens[i].content = content;\n      if (!content.length) {\n        tokens[i - 1].tight = true;\n        tokens[i + 1].tight = true;\n      }\n    }\n  }\n}\n\nfunction inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.inline.parse(tok.content, state.options, state.env, tok.children);\n    }\n  }\n}\n\nfunction footnote_block(state) {\n  var i, l, j, t, lastParagraph, list, tokens, current, currentLabel,\n      level = 0,\n      insideRef = false,\n      refTokens = {};\n\n  if (!state.env.footnotes) { return; }\n\n  state.tokens = state.tokens.filter(function(tok) {\n    if (tok.type === 'footnote_reference_open') {\n      insideRef = true;\n      current = [];\n      currentLabel = tok.label;\n      return false;\n    }\n    if (tok.type === 'footnote_reference_close') {\n      insideRef = false;\n      // prepend ':' to avoid conflict with Object.prototype members\n      refTokens[':' + currentLabel] = current;\n      return false;\n    }\n    if (insideRef) { current.push(tok); }\n    return !insideRef;\n  });\n\n  if (!state.env.footnotes.list) { return; }\n  list = state.env.footnotes.list;\n\n  state.tokens.push({\n    type: 'footnote_block_open',\n    level: level++\n  });\n  for (i = 0, l = list.length; i < l; i++) {\n    state.tokens.push({\n      type: 'footnote_open',\n      id: i,\n      level: level++\n    });\n\n    if (list[i].tokens) {\n      tokens = [];\n      tokens.push({\n        type: 'paragraph_open',\n        tight: false,\n        level: level++\n      });\n      tokens.push({\n        type: 'inline',\n        content: '',\n        level: level,\n        children: list[i].tokens\n      });\n      tokens.push({\n        type: 'paragraph_close',\n        tight: false,\n        level: --level\n      });\n    } else if (list[i].label) {\n      tokens = refTokens[':' + list[i].label];\n    }\n\n    state.tokens = state.tokens.concat(tokens);\n    if (state.tokens[state.tokens.length - 1].type === 'paragraph_close') {\n      lastParagraph = state.tokens.pop();\n    } else {\n      lastParagraph = null;\n    }\n\n    t = list[i].count > 0 ? list[i].count : 1;\n    for (j = 0; j < t; j++) {\n      state.tokens.push({\n        type: 'footnote_anchor',\n        id: i,\n        subId: j,\n        level: level\n      });\n    }\n\n    if (lastParagraph) {\n      state.tokens.push(lastParagraph);\n    }\n\n    state.tokens.push({\n      type: 'footnote_close',\n      level: --level\n    });\n  }\n  state.tokens.push({\n    type: 'footnote_block_close',\n    level: --level\n  });\n}\n\n// Enclose abbreviations in <abbr> tags\n//\n\nvar PUNCT_CHARS = ' \\n()[]\\'\".,!?-';\n\n\n// from Google closure library\n// http://closure-library.googlecode.com/git-history/docs/local_closure_goog_string_string.js.source.html#line1021\nfunction regEscape(s) {\n  return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1');\n}\n\n\nfunction abbr2(state) {\n  var i, j, l, tokens, token, text, nodes, pos, level, reg, m, regText,\n      blockTokens = state.tokens;\n\n  if (!state.env.abbreviations) { return; }\n  if (!state.env.abbrRegExp) {\n    regText = '(^|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])'\n            + '(' + Object.keys(state.env.abbreviations).map(function (x) {\n                      return x.substr(1);\n                    }).sort(function (a, b) {\n                      return b.length - a.length;\n                    }).map(regEscape).join('|') + ')'\n            + '($|[' + PUNCT_CHARS.split('').map(regEscape).join('') + '])';\n    state.env.abbrRegExp = new RegExp(regText, 'g');\n  }\n  reg = state.env.abbrRegExp;\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline') { continue; }\n    tokens = blockTokens[j].children;\n\n    // We scan from the end, to keep position when new tags added.\n    for (i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i];\n      if (token.type !== 'text') { continue; }\n\n      pos = 0;\n      text = token.content;\n      reg.lastIndex = 0;\n      level = token.level;\n      nodes = [];\n\n      while ((m = reg.exec(text))) {\n        if (reg.lastIndex > pos) {\n          nodes.push({\n            type: 'text',\n            content: text.slice(pos, m.index + m[1].length),\n            level: level\n          });\n        }\n\n        nodes.push({\n          type: 'abbr_open',\n          title: state.env.abbreviations[':' + m[2]],\n          level: level++\n        });\n        nodes.push({\n          type: 'text',\n          content: m[2],\n          level: level\n        });\n        nodes.push({\n          type: 'abbr_close',\n          level: --level\n        });\n        pos = reg.lastIndex - m[3].length;\n      }\n\n      if (!nodes.length) { continue; }\n\n      if (pos < text.length) {\n        nodes.push({\n          type: 'text',\n          content: text.slice(pos),\n          level: level\n        });\n      }\n\n      // replace current node\n      blockTokens[j].children = tokens = [].concat(tokens.slice(0, i), nodes, tokens.slice(i + 1));\n    }\n  }\n}\n\n// Simple typographical replacements\n//\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> \u00BD, \u00BC, \u00BE\n// - miltiplication 2 x 4 -> 2 \u00D7 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  'c': '\u00A9',\n  'r': '\u00AE',\n  'p': '\u00A7',\n  'tm': '\u2122'\n};\n\nfunction replaceScopedAbbr(str) {\n  if (str.indexOf('(') < 0) { return str; }\n\n  return str.replace(SCOPED_ABBR_RE, function(match, name) {\n    return SCOPED_ABBR[name.toLowerCase()];\n  });\n}\n\n\nfunction replace(state) {\n  var i, token, text, inlineTokens, blkIdx;\n\n  if (!state.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    inlineTokens = state.tokens[blkIdx].children;\n\n    for (i = inlineTokens.length - 1; i >= 0; i--) {\n      token = inlineTokens[i];\n      if (token.type === 'text') {\n        text = token.content;\n\n        text = replaceScopedAbbr(text);\n\n        if (RARE_RE.test(text)) {\n          text = text\n            .replace(/\\+-/g, '\u00B1')\n            // .., ..., ....... -> \u2026\n            // but ?..... & !..... -> ?.. & !..\n            .replace(/\\.{2,}/g, '\u2026').replace(/([?!])\u2026/g, '$1..')\n            .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n            // em-dash\n            .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n            // en-dash\n            .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n            .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n        }\n\n        token.content = text;\n      }\n    }\n  }\n}\n\n// Convert straight quotation marks to typographic ones\n//\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar PUNCT_RE = /[-\\s()\\[\\]]/;\nvar APOSTROPHE = '\u2019';\n\n// This function returns true if the character at `pos`\n// could be inside a word.\nfunction isLetter(str, pos) {\n  if (pos < 0 || pos >= str.length) { return false; }\n  return !PUNCT_RE.test(str[pos]);\n}\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\n\nfunction smartquotes(state) {\n  /*eslint max-depth:0*/\n  var i, token, text, t, pos, max, thisLevel, lastSpace, nextSpace, item,\n      canOpen, canClose, j, isSingle, blkIdx, tokens,\n      stack;\n\n  if (!state.options.typographer) { return; }\n\n  stack = [];\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    tokens = state.tokens[blkIdx].children;\n    stack.length = 0;\n\n    for (i = 0; i < tokens.length; i++) {\n      token = tokens[i];\n\n      if (token.type !== 'text' || QUOTE_TEST_RE.test(token.text)) { continue; }\n\n      thisLevel = tokens[i].level;\n\n      for (j = stack.length - 1; j >= 0; j--) {\n        if (stack[j].level <= thisLevel) { break; }\n      }\n      stack.length = j + 1;\n\n      text = token.content;\n      pos = 0;\n      max = text.length;\n\n      /*eslint no-labels:0,block-scoped-var:0*/\n      OUTER:\n      while (pos < max) {\n        QUOTE_RE.lastIndex = pos;\n        t = QUOTE_RE.exec(text);\n        if (!t) { break; }\n\n        lastSpace = !isLetter(text, t.index - 1);\n        pos = t.index + 1;\n        isSingle = (t[0] === \"'\");\n        nextSpace = !isLetter(text, pos);\n\n        if (!nextSpace && !lastSpace) {\n          // middle of word\n          if (isSingle) {\n            token.content = replaceAt(token.content, t.index, APOSTROPHE);\n          }\n          continue;\n        }\n\n        canOpen = !nextSpace;\n        canClose = !lastSpace;\n\n        if (canClose) {\n          // this could be a closing quote, rewind the stack to get a match\n          for (j = stack.length - 1; j >= 0; j--) {\n            item = stack[j];\n            if (stack[j].level < thisLevel) { break; }\n            if (item.single === isSingle && stack[j].level === thisLevel) {\n              item = stack[j];\n              if (isSingle) {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[2]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[3]);\n              } else {\n                tokens[item.token].content = replaceAt(tokens[item.token].content, item.pos, state.options.quotes[0]);\n                token.content = replaceAt(token.content, t.index, state.options.quotes[1]);\n              }\n              stack.length = j;\n              continue OUTER;\n            }\n          }\n        }\n\n        if (canOpen) {\n          stack.push({\n            token: i,\n            pos: t.index,\n            single: isSingle,\n            level: thisLevel\n          });\n        } else if (canClose && isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n      }\n    }\n  }\n}\n\n/**\n * Core parser `rules`\n */\n\nvar _rules = [\n  [ 'block',          block          ],\n  [ 'abbr',           abbr           ],\n  [ 'references',     references     ],\n  [ 'inline',         inline         ],\n  [ 'footnote_tail',  footnote_block  ],\n  [ 'abbr2',          abbr2          ],\n  [ 'replacements',   replace   ],\n  [ 'smartquotes',    smartquotes    ],\n];\n\n/**\n * Class for top level (`core`) parser rules\n *\n * @api private\n */\n\nfunction Core() {\n  this.options = {};\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n/**\n * Process rules with the given `state`\n *\n * @param  {Object} `state`\n * @api private\n */\n\nCore.prototype.process = function (state) {\n  var i, l, rules;\n  rules = this.ruler.getRules('');\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\n// Parser state class\n\nfunction StateBlock(src, parser, options, env, tokens) {\n  var ch, s, start, pos, len, indent, indent_found;\n\n  this.src = src;\n\n  // Shortcuts to simplify nested calls\n  this.parser = parser;\n\n  this.options = options;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // indent for each line\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent\n                       // (for example, if we are in list)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.parentType = 'root'; // if `list`, block parser stops on two newlines\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent = 0;\n  indent_found = false;\n\n  for (start = pos = indent = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (ch === 0x20/* space */) {\n        indent++;\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n\n      indent_found = false;\n      indent = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== 0x20/* space */) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, first, last, queue, shift,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  // Opt: don't use push queue for single line;\n  if (line + 1 === end) {\n    first = this.bMarks[line] + Math.min(this.tShift[line], indent);\n    last = keepLastLF ? this.eMarks[line] + 1 : this.eMarks[line];\n    return this.src.slice(first, last);\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    shift = this.tShift[line];\n    if (shift > indent) { shift = indent; }\n    if (shift < 0) { shift = 0; }\n\n    first = this.bMarks[line] + shift;\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    queue[i] = this.src.slice(first, last);\n  }\n\n  return queue.join('');\n};\n\n// Code block (4 spaces padded)\n\nfunction code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last;\n\n  if (state.tShift[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'code',\n    content: state.getLines(startLine, last, 4 + state.blkIndent, true),\n    block: true,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// fences (``` lang, ~~~ lang)\n\nfunction fences(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  params = state.src.slice(pos, max).trim();\n\n  if (params.indexOf('`') >= 0) { return false; }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.tShift[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.tShift[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.tShift[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n  state.tokens.push({\n    type: 'fence',\n    params: params,\n    content: state.getLines(startLine + 1, nextLine, len, true),\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// Block quotes\n\nfunction blockquote(state, startLine, endLine, silent) {\n  var nextLine, lastLineEmpty, oldTShift, oldBMarks, oldIndent, oldParentType, lines,\n      terminatorRules,\n      i, l, terminate,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos > max) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  // check if we have an empty blockquote\n  pos = pos < max ? state.skipSpaces(pos) : pos;\n  lastLineEmpty = pos >= max;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.parser.ruler.getRules('blockquote');\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */) {\n      // This line is inside the blockquote.\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      pos = pos < max ? state.skipSpaces(pos) : pos;\n      lastLineEmpty = pos >= max;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n\n    // A negative number means that this is a paragraph continuation;\n    //\n    // Any negative number will do the job here, but it's better for it\n    // to be large enough to make any bugs obvious.\n    state.tShift[nextLine] = -1337;\n  }\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  state.tokens.push({\n    type: 'blockquote_open',\n    lines: lines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.parser.tokenize(state, startLine, nextLine);\n  state.tokens.push({\n    type: 'blockquote_close',\n    level: --state.level\n  });\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n}\n\n// Horizontal rule\n\nfunction hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine];\n\n  pos += state.tShift[startLine];\n\n  if (pos > max) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 one\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && ch !== 0x20/* space */) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n  state.tokens.push({\n    type: 'hr',\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  return true;\n}\n\n// Lists\n\n// Search `[-+*][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  if (pos >= max) { return -1; }\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos arter marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max && state.src.charCodeAt(pos) !== 0x20/* space */) {\n    // \" 1.test \" - is not a list item\n    return -1;\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\n\nfunction list(state, startLine, endLine, silent) {\n  var nextLine,\n      indent,\n      oldTShift,\n      oldIndent,\n      oldTight,\n      oldParentType,\n      start,\n      posAfterMarker,\n      max,\n      indentAfterMarker,\n      markerValue,\n      markerCharCode,\n      isOrdered,\n      contentStart,\n      listTokIdx,\n      prevEmptyEnd,\n      listLines,\n      itemLines,\n      tight = true,\n      terminatorRules,\n      i, l, terminate;\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n  } else {\n    return false;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    state.tokens.push({\n      type: 'ordered_list_open',\n      order: markerValue,\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n  } else {\n    state.tokens.push({\n      type: 'bullet_list_open',\n      lines: listLines = [ startLine, 0 ],\n      level: state.level++\n    });\n  }\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.parser.ruler.getRules('list');\n\n  while (nextLine < endLine) {\n    contentStart = state.skipSpaces(posAfterMarker);\n    max = state.eMarks[nextLine];\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = contentStart - posAfterMarker;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // If indent is less than 1, assume that it's one, example:\n    //  \"-\\n  test\"\n    if (indentAfterMarker < 1) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = (posAfterMarker - state.bMarks[nextLine]) + indentAfterMarker;\n\n    // Run subparser & write tokens\n    state.tokens.push({\n      type: 'list_item_open',\n      lines: itemLines = [ startLine, 0 ],\n      level: state.level++\n    });\n\n    oldIndent = state.blkIndent;\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldParentType = state.parentType;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.blkIndent = indent;\n    state.tight = true;\n    state.parentType = 'list';\n\n    state.parser.tokenize(state, startLine, endLine, true);\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = oldIndent;\n    state.tShift[startLine] = oldTShift;\n    state.tight = oldTight;\n    state.parentType = oldParentType;\n\n    state.tokens.push({\n      type: 'list_item_close',\n      level: --state.level\n    });\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    if (state.isEmpty(nextLine)) {\n      break;\n    }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: isOrdered ? 'ordered_list_close' : 'bullet_list_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n}\n\n// Process footnote reference list\n\nfunction footnote(state, startLine, endLine, silent) {\n  var oldBMark, oldTShift, oldParentType, pos, label,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // line should be at least 5 chars - \"[^x]:\"\n  if (start + 4 > max) { return false; }\n\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos + 1 >= max || state.src.charCodeAt(++pos) !== 0x3A /* : */) { return false; }\n  if (silent) { return true; }\n  pos++;\n\n  if (!state.env.footnotes) { state.env.footnotes = {}; }\n  if (!state.env.footnotes.refs) { state.env.footnotes.refs = {}; }\n  label = state.src.slice(start + 2, pos - 2);\n  state.env.footnotes.refs[':' + label] = -1;\n\n  state.tokens.push({\n    type: 'footnote_reference_open',\n    label: label,\n    level: state.level++\n  });\n\n  oldBMark = state.bMarks[startLine];\n  oldTShift = state.tShift[startLine];\n  oldParentType = state.parentType;\n  state.tShift[startLine] = state.skipSpaces(pos) - pos;\n  state.bMarks[startLine] = pos;\n  state.blkIndent += 4;\n  state.parentType = 'footnote';\n\n  if (state.tShift[startLine] < state.blkIndent) {\n    state.tShift[startLine] += state.blkIndent;\n    state.bMarks[startLine] -= state.blkIndent;\n  }\n\n  state.parser.tokenize(state, startLine, endLine, true);\n\n  state.parentType = oldParentType;\n  state.blkIndent -= 4;\n  state.tShift[startLine] = oldTShift;\n  state.bMarks[startLine] = oldBMark;\n\n  state.tokens.push({\n    type: 'footnote_reference_close',\n    level: --state.level\n  });\n\n  return true;\n}\n\n// heading (#, ##, ...)\n\nfunction heading(state, startLine, endLine, silent) {\n  var ch, level, tmp,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  if (pos >= max) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && ch !== 0x20/* space */)) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipCharsBack(max, 0x20, pos); // space\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && state.src.charCodeAt(tmp - 1) === 0x20/* space */) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  state.tokens.push({ type: 'heading_open',\n    hLevel: level,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n\n  // only if header is not empty\n  if (pos < max) {\n    state.tokens.push({\n      type: 'inline',\n      content: state.src.slice(pos, max).trim(),\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n  }\n  state.tokens.push({ type: 'heading_close', hLevel: level, level: state.level });\n\n  return true;\n}\n\n// lheading (---, ===)\n\nfunction lheading(state, startLine, endLine/*, silent*/) {\n  var marker, pos, max,\n      next = startLine + 1;\n\n  if (next >= endLine) { return false; }\n  if (state.tShift[next] < state.blkIndent) { return false; }\n\n  // Scan next line\n\n  if (state.tShift[next] - state.blkIndent > 3) { return false; }\n\n  pos = state.bMarks[next] + state.tShift[next];\n  max = state.eMarks[next];\n\n  if (pos >= max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x2D/* - */ && marker !== 0x3D/* = */) { return false; }\n\n  pos = state.skipChars(pos, marker);\n\n  pos = state.skipSpaces(pos);\n\n  if (pos < max) { return false; }\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n\n  state.line = next + 1;\n  state.tokens.push({\n    type: 'heading_open',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    lines: [ startLine, state.line ],\n    level: state.level\n  });\n  state.tokens.push({\n    type: 'inline',\n    content: state.src.slice(pos, state.eMarks[startLine]).trim(),\n    level: state.level + 1,\n    lines: [ startLine, state.line - 1 ],\n    children: []\n  });\n  state.tokens.push({\n    type: 'heading_close',\n    hLevel: marker === 0x3D/* = */ ? 1 : 2,\n    level: state.level\n  });\n\n  return true;\n}\n\n// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\nvar html_blocks = {};\n\n[\n  'article',\n  'aside',\n  'button',\n  'blockquote',\n  'body',\n  'canvas',\n  'caption',\n  'col',\n  'colgroup',\n  'dd',\n  'div',\n  'dl',\n  'dt',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'hr',\n  'iframe',\n  'li',\n  'map',\n  'object',\n  'ol',\n  'output',\n  'p',\n  'pre',\n  'progress',\n  'script',\n  'section',\n  'style',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'tr',\n  'thead',\n  'ul',\n  'video'\n].forEach(function (name) { html_blocks[name] = true; });\n\n// HTML block\n\n\nvar HTML_TAG_OPEN_RE = /^<([a-zA-Z]{1,15})[\\s\\/>]/;\nvar HTML_TAG_CLOSE_RE = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\n\nfunction isLetter$1(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\nfunction htmlblock(state, startLine, endLine, silent) {\n  var ch, match, nextLine,\n      pos = state.bMarks[startLine],\n      max = state.eMarks[startLine],\n      shift = state.tShift[startLine];\n\n  pos += shift;\n\n  if (!state.options.html) { return false; }\n\n  if (shift > 3 || pos + 2 >= max) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  ch = state.src.charCodeAt(pos + 1);\n\n  if (ch === 0x21/* ! */ || ch === 0x3F/* ? */) {\n    // Directive start / comment start / processing instruction start\n    if (silent) { return true; }\n\n  } else if (ch === 0x2F/* / */ || isLetter$1(ch)) {\n\n    // Probably start or end of tag\n    if (ch === 0x2F/* \\ */) {\n      // closing tag\n      match = state.src.slice(pos, max).match(HTML_TAG_CLOSE_RE);\n      if (!match) { return false; }\n    } else {\n      // opening tag\n      match = state.src.slice(pos, max).match(HTML_TAG_OPEN_RE);\n      if (!match) { return false; }\n    }\n    // Make sure tag name is valid\n    if (html_blocks[match[1].toLowerCase()] !== true) { return false; }\n    if (silent) { return true; }\n\n  } else {\n    return false;\n  }\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till empty line (block end).\n  nextLine = startLine + 1;\n  while (nextLine < state.lineMax && !state.isEmpty(nextLine)) {\n    nextLine++;\n  }\n\n  state.line = nextLine;\n  state.tokens.push({\n    type: 'htmlblock',\n    level: state.level,\n    lines: [ startLine, state.line ],\n    content: state.getLines(startLine, nextLine, 0, true)\n  });\n\n  return true;\n}\n\n// GFM table, non-standard\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, rows, cell,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least three lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n\n  // first character of the second line should be '|' or '-'\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  lineText = getLine(state, startLine + 1);\n  if (!/^[-:| ]+$/.test(lineText)) { return false; }\n\n  rows = lineText.split('|');\n  if (rows <= 2) { return false; }\n  aligns = [];\n  for (i = 0; i < rows.length; i++) {\n    t = rows[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === rows.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n  if (aligns.length !== rows.length) { return false; }\n  if (silent) { return true; }\n\n  state.tokens.push({\n    type: 'table_open',\n    lines: tableLines = [ startLine, 0 ],\n    level: state.level++\n  });\n  state.tokens.push({\n    type: 'thead_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n\n  state.tokens.push({\n    type: 'tr_open',\n    lines: [ startLine, startLine + 1 ],\n    level: state.level++\n  });\n  for (i = 0; i < rows.length; i++) {\n    state.tokens.push({\n      type: 'th_open',\n      align: aligns[i],\n      lines: [ startLine, startLine + 1 ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: rows[i].trim(),\n      lines: [ startLine, startLine + 1 ],\n      level: state.level,\n      children: []\n    });\n    state.tokens.push({ type: 'th_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tr_close', level: --state.level });\n  state.tokens.push({ type: 'thead_close', level: --state.level });\n\n  state.tokens.push({\n    type: 'tbody_open',\n    lines: tbodyLines = [ startLine + 2, 0 ],\n    level: state.level++\n  });\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.tShift[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    rows = lineText.replace(/^\\||\\|$/g, '').split('|');\n\n    state.tokens.push({ type: 'tr_open', level: state.level++ });\n    for (i = 0; i < rows.length; i++) {\n      state.tokens.push({ type: 'td_open', align: aligns[i], level: state.level++ });\n      // 0x7c === '|'\n      cell = rows[i].substring(\n          rows[i].charCodeAt(0) === 0x7c ? 1 : 0,\n          rows[i].charCodeAt(rows[i].length - 1) === 0x7c ? rows[i].length - 1 : rows[i].length\n      ).trim();\n      state.tokens.push({\n        type: 'inline',\n        content: cell,\n        level: state.level,\n        children: []\n      });\n      state.tokens.push({ type: 'td_close', level: --state.level });\n    }\n    state.tokens.push({ type: 'tr_close', level: --state.level });\n  }\n  state.tokens.push({ type: 'tbody_close', level: --state.level });\n  state.tokens.push({ type: 'table_close', level: --state.level });\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n}\n\n// Definition lists\n\n// Search `[:~][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipMarker(state, line) {\n  var pos, marker,\n      start = state.bMarks[line] + state.tShift[line],\n      max = state.eMarks[line];\n\n  if (start >= max) { return -1; }\n\n  // Check bullet\n  marker = state.src.charCodeAt(start++);\n  if (marker !== 0x7E/* ~ */ && marker !== 0x3A/* : */) { return -1; }\n\n  pos = state.skipSpaces(start);\n\n  // require space after \":\"\n  if (start === pos) { return -1; }\n\n  // no empty definitions, e.g. \"  : \"\n  if (pos >= max) { return -1; }\n\n  return pos;\n}\n\nfunction markTightParagraphs$1(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].tight = true;\n      state.tokens[i].tight = true;\n      i += 2;\n    }\n  }\n}\n\nfunction deflist(state, startLine, endLine, silent) {\n  var contentStart,\n      ddLine,\n      dtLine,\n      itemLines,\n      listLines,\n      listTokIdx,\n      nextLine,\n      oldIndent,\n      oldDDIndent,\n      oldParentType,\n      oldTShift,\n      oldTight,\n      prevEmptyEnd,\n      tight;\n\n  if (silent) {\n    // quirk: validation mode validates a dd block only, not a whole deflist\n    if (state.ddIndent < 0) { return false; }\n    return skipMarker(state, startLine) >= 0;\n  }\n\n  nextLine = startLine + 1;\n  if (state.isEmpty(nextLine)) {\n    if (++nextLine > endLine) { return false; }\n  }\n\n  if (state.tShift[nextLine] < state.blkIndent) { return false; }\n  contentStart = skipMarker(state, nextLine);\n  if (contentStart < 0) { return false; }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  state.tokens.push({\n    type: 'dl_open',\n    lines: listLines = [ startLine, 0 ],\n    level: state.level++\n  });\n\n  //\n  // Iterate list items\n  //\n\n  dtLine = startLine;\n  ddLine = nextLine;\n\n  // One definition list can contain multiple DTs,\n  // and one DT can be followed by multiple DDs.\n  //\n  // Thus, there is two loops here, and label is\n  // needed to break out of the second one\n  //\n  /*eslint no-labels:0,block-scoped-var:0*/\n  OUTER:\n  for (;;) {\n    tight = true;\n    prevEmptyEnd = false;\n\n    state.tokens.push({\n      type: 'dt_open',\n      lines: [ dtLine, dtLine ],\n      level: state.level++\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: state.getLines(dtLine, dtLine + 1, state.blkIndent, false).trim(),\n      level: state.level + 1,\n      lines: [ dtLine, dtLine ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'dt_close',\n      level: --state.level\n    });\n\n    for (;;) {\n      state.tokens.push({\n        type: 'dd_open',\n        lines: itemLines = [ nextLine, 0 ],\n        level: state.level++\n      });\n\n      oldTight = state.tight;\n      oldDDIndent = state.ddIndent;\n      oldIndent = state.blkIndent;\n      oldTShift = state.tShift[ddLine];\n      oldParentType = state.parentType;\n      state.blkIndent = state.ddIndent = state.tShift[ddLine] + 2;\n      state.tShift[ddLine] = contentStart - state.bMarks[ddLine];\n      state.tight = true;\n      state.parentType = 'deflist';\n\n      state.parser.tokenize(state, ddLine, endLine, true);\n\n      // If any of list item is tight, mark list as tight\n      if (!state.tight || prevEmptyEnd) {\n        tight = false;\n      }\n      // Item become loose if finish with empty line,\n      // but we should filter last element, because it means list finish\n      prevEmptyEnd = (state.line - ddLine) > 1 && state.isEmpty(state.line - 1);\n\n      state.tShift[ddLine] = oldTShift;\n      state.tight = oldTight;\n      state.parentType = oldParentType;\n      state.blkIndent = oldIndent;\n      state.ddIndent = oldDDIndent;\n\n      state.tokens.push({\n        type: 'dd_close',\n        level: --state.level\n      });\n\n      itemLines[1] = nextLine = state.line;\n\n      if (nextLine >= endLine) { break OUTER; }\n\n      if (state.tShift[nextLine] < state.blkIndent) { break OUTER; }\n      contentStart = skipMarker(state, nextLine);\n      if (contentStart < 0) { break; }\n\n      ddLine = nextLine;\n\n      // go to the next loop iteration:\n      // insert DD tag and repeat checking\n    }\n\n    if (nextLine >= endLine) { break; }\n    dtLine = nextLine;\n\n    if (state.isEmpty(dtLine)) { break; }\n    if (state.tShift[dtLine] < state.blkIndent) { break; }\n\n    ddLine = dtLine + 1;\n    if (ddLine >= endLine) { break; }\n    if (state.isEmpty(ddLine)) { ddLine++; }\n    if (ddLine >= endLine) { break; }\n\n    if (state.tShift[ddLine] < state.blkIndent) { break; }\n    contentStart = skipMarker(state, ddLine);\n    if (contentStart < 0) { break; }\n\n    // go to the next loop iteration:\n    // insert DT and DD tags and repeat checking\n  }\n\n  // Finilize list\n  state.tokens.push({\n    type: 'dl_close',\n    level: --state.level\n  });\n  listLines[1] = nextLine;\n\n  state.line = nextLine;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs$1(state, listTokIdx);\n  }\n\n  return true;\n}\n\n// Paragraph\n\nfunction paragraph(state, startLine/*, endLine*/) {\n  var endLine, content, terminate, i, l,\n      nextLine = startLine + 1,\n      terminatorRules;\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  if (nextLine < endLine && !state.isEmpty(nextLine)) {\n    terminatorRules = state.parser.ruler.getRules('paragraph');\n\n    for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n      // this would be a code block normally, but after paragraph\n      // it's considered a lazy continuation regardless of what's there\n      if (state.tShift[nextLine] - state.blkIndent > 3) { continue; }\n\n      // Some tags can terminate paragraph without empty line.\n      terminate = false;\n      for (i = 0, l = terminatorRules.length; i < l; i++) {\n        if (terminatorRules[i](state, nextLine, endLine, true)) {\n          terminate = true;\n          break;\n        }\n      }\n      if (terminate) { break; }\n    }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n  if (content.length) {\n    state.tokens.push({\n      type: 'paragraph_open',\n      tight: false,\n      lines: [ startLine, state.line ],\n      level: state.level\n    });\n    state.tokens.push({\n      type: 'inline',\n      content: content,\n      level: state.level + 1,\n      lines: [ startLine, state.line ],\n      children: []\n    });\n    state.tokens.push({\n      type: 'paragraph_close',\n      tight: false,\n      level: state.level\n    });\n  }\n\n  return true;\n}\n\n/**\n * Parser rules\n */\n\nvar _rules$1 = [\n  [ 'code',       code ],\n  [ 'fences',     fences,     [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'blockquote', blockquote, [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'hr',         hr,         [ 'paragraph', 'blockquote', 'list' ] ],\n  [ 'list',       list,       [ 'paragraph', 'blockquote' ] ],\n  [ 'footnote',   footnote,   [ 'paragraph' ] ],\n  [ 'heading',    heading,    [ 'paragraph', 'blockquote' ] ],\n  [ 'lheading',   lheading ],\n  [ 'htmlblock',  htmlblock,  [ 'paragraph', 'blockquote' ] ],\n  [ 'table',      table,      [ 'paragraph' ] ],\n  [ 'deflist',    deflist,    [ 'paragraph' ] ],\n  [ 'paragraph',  paragraph ]\n];\n\n/**\n * Block Parser class\n *\n * @api private\n */\n\nfunction ParserBlock() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules$1.length; i++) {\n    this.ruler.push(_rules$1[i][0], _rules$1[i][1], {\n      alt: (_rules$1[i][2] || []).slice()\n    });\n  }\n}\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state` Has properties like `src`, `parser`, `options` etc\n * @param  {Number} `startLine`\n * @param  {Number} `endLine`\n * @api private\n */\n\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var line = startLine;\n  var hasEmptyLines = false;\n  var ok, i;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) {\n      break;\n    }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.tShift[line] < state.blkIndent) {\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) {\n        break;\n      }\n    }\n\n    // set state.tight iff we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n\n      // two empty lines should stop the parser in list mode\n      if (line < endLine && state.parentType === 'list' && state.isEmpty(line)) { break; }\n      state.line = line;\n    }\n  }\n};\n\nvar TABS_SCAN_RE = /[\\n\\t]/g;\nvar NEWLINES_RE  = /\\r[\\n\\u0085]|[\\u2424\\u2028\\u0085]/g;\nvar SPACES_RE    = /\\u00a0/g;\n\n/**\n * Tokenize the given `str`.\n *\n * @param  {String} `str` Source string\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserBlock.prototype.parse = function (str, options, env, outTokens) {\n  var state, lineStart = 0, lastTabPos = 0;\n  if (!str) { return []; }\n\n  // Normalize spaces\n  str = str.replace(SPACES_RE, ' ');\n\n  // Normalize newlines\n  str = str.replace(NEWLINES_RE, '\\n');\n\n  // Replace tabs with proper number of spaces (1..4)\n  if (str.indexOf('\\t') >= 0) {\n    str = str.replace(TABS_SCAN_RE, function (match, offset) {\n      var result;\n      if (str.charCodeAt(offset) === 0x0A) {\n        lineStart = offset + 1;\n        lastTabPos = 0;\n        return match;\n      }\n      result = '    '.slice((offset - lineStart - lastTabPos) % 4);\n      lastTabPos = offset - lineStart + 1;\n      return result;\n    });\n  }\n\n  state = new StateBlock(str, this, options, env, outTokens);\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x5C/* \\ */:\n    case 0x60/* ` */:\n    case 0x2A/* * */:\n    case 0x5F/* _ */:\n    case 0x5E/* ^ */:\n    case 0x5B/* [ */:\n    case 0x5D/* ] */:\n    case 0x21/* ! */:\n    case 0x26/* & */:\n    case 0x3C/* < */:\n    case 0x3E/* > */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x40/* @ */:\n    case 0x7E/* ~ */:\n    case 0x2B/* + */:\n    case 0x3D/* = */:\n    case 0x3A/* : */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n}\n\n// Proceess '\\n'\n\nfunction newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        // Strip out all trailing spaces on this line.\n        for (var i = pmax - 2; i >= 0; i--) {\n          if (state.pending.charCodeAt(i) !== 0x20) {\n            state.pending = state.pending.substring(0, i + 1);\n            break;\n          }\n        }\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push({\n          type: 'softbreak',\n          level: state.level\n        });\n      }\n\n    } else {\n      state.push({\n        type: 'softbreak',\n        level: state.level\n      });\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n  state.pos = pos;\n  return true;\n}\n\n// Proceess escaped chars and hardbreaks\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function(ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nfunction escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push({\n          type: 'hardbreak',\n          level: state.level\n        });\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max && state.src.charCodeAt(pos) === 0x20) { pos++; }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n}\n\n// Parse backticks\n\nfunction backticks(state, silent) {\n  var start, max, marker, matchStart, matchEnd,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        state.push({\n          type: 'code',\n          content: state.src.slice(pos, matchStart)\n                              .replace(/[ \\n]+/g, ' ')\n                              .trim(),\n          block: false,\n          level: state.level\n        });\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n}\n\n// Process ~~deleted text~~\n\nfunction del(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x7E/* ~ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x7E/* ~ */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x7E/* ~ */) { pos++; }\n  if (pos > start + 3) {\n    // sequence of 4+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x7E/* ~ */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x7E/* ~ */ && lastChar !== 0x7E/* ~ */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '~~'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '~~'\n            stack++;\n          } // else {\n            //  // standalone ' ~~ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'del_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'del_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process ++inserted text++\n\nfunction ins(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x2B/* + */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x2B/* + */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x2B/* + */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x2B/* + */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x2B/* + */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x2B/* + */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x2B/* + */ && lastChar !== 0x2B/* + */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '++'\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '++'\n            stack++;\n          } // else {\n            //  // standalone ' ++ ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'ins_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'ins_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process ==highlighted text==\n\nfunction mark(state, silent) {\n  var found,\n      pos,\n      stack,\n      max = state.posMax,\n      start = state.pos,\n      lastChar,\n      nextChar;\n\n  if (state.src.charCodeAt(start) !== 0x3D/* = */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 4 >= max) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x3D/* = */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n  nextChar = state.src.charCodeAt(start + 2);\n\n  if (lastChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x3D/* = */) { return false; }\n  if (nextChar === 0x20 || nextChar === 0x0A) { return false; }\n\n  pos = start + 2;\n  while (pos < max && state.src.charCodeAt(pos) === 0x3D/* = */) { pos++; }\n  if (pos !== start + 2) {\n    // sequence of 3+ markers taking as literal, same as in a emphasis\n    state.pos += pos - start;\n    if (!silent) { state.pending += state.src.slice(start, pos); }\n    return true;\n  }\n\n  state.pos = start + 2;\n  stack = 1;\n\n  while (state.pos + 1 < max) {\n    if (state.src.charCodeAt(state.pos) === 0x3D/* = */) {\n      if (state.src.charCodeAt(state.pos + 1) === 0x3D/* = */) {\n        lastChar = state.src.charCodeAt(state.pos - 1);\n        nextChar = state.pos + 2 < max ? state.src.charCodeAt(state.pos + 2) : -1;\n        if (nextChar !== 0x3D/* = */ && lastChar !== 0x3D/* = */) {\n          if (lastChar !== 0x20 && lastChar !== 0x0A) {\n            // closing '=='\n            stack--;\n          } else if (nextChar !== 0x20 && nextChar !== 0x0A) {\n            // opening '=='\n            stack++;\n          } // else {\n            //  // standalone ' == ' indented with spaces\n            // }\n          if (stack <= 0) {\n            found = true;\n            break;\n          }\n        }\n      }\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 2;\n\n  if (!silent) {\n    state.push({ type: 'mark_open', level: state.level++ });\n    state.parser.tokenize(state);\n    state.push({ type: 'mark_close', level: --state.level });\n  }\n\n  state.pos = state.posMax + 2;\n  state.posMax = max;\n  return true;\n}\n\n// Process *this* and _that_\n\nfunction isAlphaNum(code) {\n  return (code >= 0x30 /* 0 */ && code <= 0x39 /* 9 */) ||\n         (code >= 0x41 /* A */ && code <= 0x5A /* Z */) ||\n         (code >= 0x61 /* a */ && code <= 0x7A /* z */);\n}\n\n// parse sequence of emphasis markers,\n// \"start\" should point at a valid marker\nfunction scanDelims(state, start) {\n  var pos = start, lastChar, nextChar, count,\n      can_open = true,\n      can_close = true,\n      max = state.posMax,\n      marker = state.src.charCodeAt(start);\n\n  lastChar = start > 0 ? state.src.charCodeAt(start - 1) : -1;\n\n  while (pos < max && state.src.charCodeAt(pos) === marker) { pos++; }\n  if (pos >= max) { can_open = false; }\n  count = pos - start;\n\n  if (count >= 4) {\n    // sequence of four or more unescaped markers can't start/end an emphasis\n    can_open = can_close = false;\n  } else {\n    nextChar = pos < max ? state.src.charCodeAt(pos) : -1;\n\n    // check whitespace conditions\n    if (nextChar === 0x20 || nextChar === 0x0A) { can_open = false; }\n    if (lastChar === 0x20 || lastChar === 0x0A) { can_close = false; }\n\n    if (marker === 0x5F /* _ */) {\n      // check if we aren't inside the word\n      if (isAlphaNum(lastChar)) { can_open = false; }\n      if (isAlphaNum(nextChar)) { can_close = false; }\n    }\n  }\n\n  return {\n    can_open: can_open,\n    can_close: can_close,\n    delims: count\n  };\n}\n\nfunction emphasis(state, silent) {\n  var startCount,\n      count,\n      found,\n      oldCount,\n      newCount,\n      stack,\n      res,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker !== 0x5F/* _ */ && marker !== 0x2A /* * */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n\n  res = scanDelims(state, start);\n  startCount = res.delims;\n  if (!res.can_open) {\n    state.pos += startCount;\n    if (!silent) { state.pending += state.src.slice(start, state.pos); }\n    return true;\n  }\n\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + startCount;\n  stack = [ startCount ];\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === marker) {\n      res = scanDelims(state, state.pos);\n      count = res.delims;\n      if (res.can_close) {\n        oldCount = stack.pop();\n        newCount = count;\n\n        while (oldCount !== newCount) {\n          if (newCount < oldCount) {\n            stack.push(oldCount - newCount);\n            break;\n          }\n\n          // assert(newCount > oldCount)\n          newCount -= oldCount;\n\n          if (stack.length === 0) { break; }\n          state.pos += oldCount;\n          oldCount = stack.pop();\n        }\n\n        if (stack.length === 0) {\n          startCount = oldCount;\n          found = true;\n          break;\n        }\n        state.pos += count;\n        continue;\n      }\n\n      if (res.can_open) { stack.push(count); }\n      state.pos += count;\n      continue;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found) {\n    // parser failed to find ending tag, so it's not valid emphasis\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + startCount;\n\n  if (!silent) {\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_open', level: state.level++ });\n    }\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_open', level: state.level++ });\n    }\n\n    state.parser.tokenize(state);\n\n    if (startCount === 1 || startCount === 3) {\n      state.push({ type: 'em_close', level: --state.level });\n    }\n    if (startCount === 2 || startCount === 3) {\n      state.push({ type: 'strong_close', level: --state.level });\n    }\n  }\n\n  state.pos = state.posMax + startCount;\n  state.posMax = max;\n  return true;\n}\n\n// Process ~subscript~\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction sub(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sub',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process ^superscript^\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE$1 = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction sup(state, silent) {\n  var found,\n      content,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x5E/* ^ */) {\n      found = true;\n      break;\n    }\n\n    state.parser.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  if (!silent) {\n    state.push({\n      type: 'sup',\n      level: state.level,\n      content: content.replace(UNESCAPE_RE$1, '$1')\n    });\n  }\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process [links](<to> \"stuff\")\n\n\nfunction links(state, silent) {\n  var labelStart,\n      labelEnd,\n      label,\n      href,\n      title,\n      pos,\n      ref,\n      code,\n      isImage = false,\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (marker === 0x21/* ! */) {\n    isImage = true;\n    marker = state.src.charCodeAt(++start);\n  }\n\n  if (marker !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 1;\n  labelEnd = parseLinkLabel(state, start);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    if (parseLinkDestination(state, pos)) {\n      href = state.linkContent;\n      pos = state.pos;\n    } else {\n      href = '';\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    if (pos < max && start !== pos && parseLinkTitle(state, pos)) {\n      title = state.linkContent;\n      pos = state.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (code !== 0x20 && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n\n    // do not allow nested reference links\n    if (state.linkLevel > 0) { return false; }\n\n    // [foo]  [bar]\n    //      ^^ optional whitespace (can include newlines)\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (code !== 0x20 && code !== 0x0A) { break; }\n    }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = start - 1;\n      }\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) {\n      if (typeof label === 'undefined') {\n        pos = labelEnd + 1;\n      }\n      label = state.src.slice(labelStart, labelEnd);\n    }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    if (isImage) {\n      state.push({\n        type: 'image',\n        src: href,\n        title: title,\n        alt: state.src.substr(labelStart, labelEnd - labelStart),\n        level: state.level\n      });\n    } else {\n      state.push({\n        type: 'link_open',\n        href: href,\n        title: title,\n        level: state.level++\n      });\n      state.linkLevel++;\n      state.parser.tokenize(state);\n      state.linkLevel--;\n      state.push({ type: 'link_close', level: --state.level });\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// Process inline footnotes (^[...])\n\n\nfunction footnote_inline(state, silent) {\n  var labelStart,\n      labelEnd,\n      footnoteId,\n      oldLength,\n      max = state.posMax,\n      start = state.pos;\n\n  if (start + 2 >= max) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  labelStart = start + 2;\n  labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so it's not a valid note\n  if (labelEnd < 0) { return false; }\n\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n    footnoteId = state.env.footnotes.list.length;\n\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      level: state.level\n    });\n    state.linkLevel++;\n    oldLength = state.tokens.length;\n    state.parser.tokenize(state);\n    state.env.footnotes.list[footnoteId] = { tokens: state.tokens.splice(oldLength) };\n    state.linkLevel--;\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n  return true;\n}\n\n// Process footnote references ([^...])\n\nfunction footnote_ref(state, silent) {\n  var label,\n      pos,\n      footnoteId,\n      footnoteSubId,\n      max = state.posMax,\n      start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) { return false; }\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n  if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n  if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n  if (state.level >= state.options.maxNesting) { return false; }\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charCodeAt(pos) === 0x20) { return false; }\n    if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n      break;\n    }\n  }\n\n  if (pos === start + 2) { return false; } // no empty footnote labels\n  if (pos >= max) { return false; }\n  pos++;\n\n  label = state.src.slice(start + 2, pos - 1);\n  if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n  if (!silent) {\n    if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n    if (state.env.footnotes.refs[':' + label] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n      state.env.footnotes.refs[':' + label] = footnoteId;\n    } else {\n      footnoteId = state.env.footnotes.refs[':' + label];\n    }\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count;\n    state.env.footnotes.list[footnoteId].count++;\n\n    state.push({\n      type: 'footnote_ref',\n      id: footnoteId,\n      subId: footnoteSubId,\n      level: state.level\n    });\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n}\n\n// List of valid url schemas, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#autolinks\n\nvar url_schemas = [\n  'coap',\n  'doi',\n  'javascript',\n  'aaa',\n  'aaas',\n  'about',\n  'acap',\n  'cap',\n  'cid',\n  'crid',\n  'data',\n  'dav',\n  'dict',\n  'dns',\n  'file',\n  'ftp',\n  'geo',\n  'go',\n  'gopher',\n  'h323',\n  'http',\n  'https',\n  'iax',\n  'icap',\n  'im',\n  'imap',\n  'info',\n  'ipp',\n  'iris',\n  'iris.beep',\n  'iris.xpc',\n  'iris.xpcs',\n  'iris.lwz',\n  'ldap',\n  'mailto',\n  'mid',\n  'msrp',\n  'msrps',\n  'mtqp',\n  'mupdate',\n  'news',\n  'nfs',\n  'ni',\n  'nih',\n  'nntp',\n  'opaquelocktoken',\n  'pop',\n  'pres',\n  'rtsp',\n  'service',\n  'session',\n  'shttp',\n  'sieve',\n  'sip',\n  'sips',\n  'sms',\n  'snmp',\n  'soap.beep',\n  'soap.beeps',\n  'tag',\n  'tel',\n  'telnet',\n  'tftp',\n  'thismessage',\n  'tn3270',\n  'tip',\n  'tv',\n  'urn',\n  'vemmi',\n  'ws',\n  'wss',\n  'xcon',\n  'xcon-userid',\n  'xmlrpc.beep',\n  'xmlrpc.beeps',\n  'xmpp',\n  'z39.50r',\n  'z39.50s',\n  'adiumxtra',\n  'afp',\n  'afs',\n  'aim',\n  'apt',\n  'attachment',\n  'aw',\n  'beshare',\n  'bitcoin',\n  'bolo',\n  'callto',\n  'chrome',\n  'chrome-extension',\n  'com-eventbrite-attendee',\n  'content',\n  'cvs',\n  'dlna-playsingle',\n  'dlna-playcontainer',\n  'dtn',\n  'dvb',\n  'ed2k',\n  'facetime',\n  'feed',\n  'finger',\n  'fish',\n  'gg',\n  'git',\n  'gizmoproject',\n  'gtalk',\n  'hcp',\n  'icon',\n  'ipn',\n  'irc',\n  'irc6',\n  'ircs',\n  'itms',\n  'jar',\n  'jms',\n  'keyparc',\n  'lastfm',\n  'ldaps',\n  'magnet',\n  'maps',\n  'market',\n  'message',\n  'mms',\n  'ms-help',\n  'msnim',\n  'mumble',\n  'mvn',\n  'notes',\n  'oid',\n  'palm',\n  'paparazzi',\n  'platform',\n  'proxy',\n  'psyc',\n  'query',\n  'res',\n  'resource',\n  'rmi',\n  'rsync',\n  'rtmp',\n  'secondlife',\n  'sftp',\n  'sgn',\n  'skype',\n  'smb',\n  'soldat',\n  'spotify',\n  'ssh',\n  'steam',\n  'svn',\n  'teamspeak',\n  'things',\n  'udp',\n  'unreal',\n  'ut2004',\n  'ventrilo',\n  'view-source',\n  'webcal',\n  'wtai',\n  'wyciwyg',\n  'xfire',\n  'xri',\n  'ymsgr'\n];\n\n// Process autolinks '<protocol:...>'\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z.\\-]{1,25}):([^<>\\x00-\\x20]*)>/;\n\n\nfunction autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  linkMatch = tail.match(AUTOLINK_RE);\n\n  if (linkMatch) {\n    if (url_schemas.indexOf(linkMatch[1].toLowerCase()) < 0) { return false; }\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = normalizeLink(url);\n    if (!state.parser.validateLink(url)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  emailMatch = tail.match(EMAIL_RE);\n\n  if (emailMatch) {\n\n    url = emailMatch[0].slice(1, -1);\n\n    fullUrl = normalizeLink('mailto:' + url);\n    if (!state.parser.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      state.push({\n        type: 'link_open',\n        href: fullUrl,\n        level: state.level\n      });\n      state.push({\n        type: 'text',\n        content: url,\n        level: state.level + 1\n      });\n      state.push({ type: 'link_close', level: state.level });\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n}\n\n// Regexps to match html elements\n\nfunction replace$1(regex, options) {\n  regex = regex.source;\n  options = options || '';\n\n  return function self(name, val) {\n    if (!name) {\n      return new RegExp(regex, options);\n    }\n    val = val.source || val;\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\n\nvar attr_name     = /[a-zA-Z_:][a-zA-Z0-9:._-]*/;\n\nvar unquoted      = /[^\"'=<>`\\x00-\\x20]+/;\nvar single_quoted = /'[^']*'/;\nvar double_quoted = /\"[^\"]*\"/;\n\n/*eslint no-spaced-func:0*/\nvar attr_value  = replace$1(/(?:unquoted|single_quoted|double_quoted)/)\n                    ('unquoted', unquoted)\n                    ('single_quoted', single_quoted)\n                    ('double_quoted', double_quoted)\n                    ();\n\nvar attribute   = replace$1(/(?:\\s+attr_name(?:\\s*=\\s*attr_value)?)/)\n                    ('attr_name', attr_name)\n                    ('attr_value', attr_value)\n                    ();\n\nvar open_tag    = replace$1(/<[A-Za-z][A-Za-z0-9]*attribute*\\s*\\/?>/)\n                    ('attribute', attribute)\n                    ();\n\nvar close_tag   = /<\\/[A-Za-z][A-Za-z0-9]*\\s*>/;\nvar comment     = /<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/;\nvar processing  = /<[?].*?[?]>/;\nvar declaration = /<![A-Z]+\\s+[^>]*>/;\nvar cdata       = /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/;\n\nvar HTML_TAG_RE = replace$1(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)\n  ('open_tag', open_tag)\n  ('close_tag', close_tag)\n  ('comment', comment)\n  ('processing', processing)\n  ('declaration', declaration)\n  ('cdata', cdata)\n  ();\n\n// Process html tags\n\n\nfunction isLetter$2(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nfunction htmltag(state, silent) {\n  var ch, match, max, pos = state.pos;\n\n  if (!state.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter$2(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    state.push({\n      type: 'htmltag',\n      content: state.src.slice(pos, pos + match[0].length),\n      level: state.level\n    });\n  }\n  state.pos += match[0].length;\n  return true;\n}\n\n// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nfunction entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        var decoded = decodeEntity(match[1]);\n        if (match[1] !== decoded) {\n          if (!silent) { state.pending += decoded; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n}\n\n/**\n * Inline Parser `rules`\n */\n\nvar _rules$2 = [\n  [ 'text',            text ],\n  [ 'newline',         newline ],\n  [ 'escape',          escape ],\n  [ 'backticks',       backticks ],\n  [ 'del',             del ],\n  [ 'ins',             ins ],\n  [ 'mark',            mark ],\n  [ 'emphasis',        emphasis ],\n  [ 'sub',             sub ],\n  [ 'sup',             sup ],\n  [ 'links',           links ],\n  [ 'footnote_inline', footnote_inline ],\n  [ 'footnote_ref',    footnote_ref ],\n  [ 'autolink',        autolink ],\n  [ 'htmltag',         htmltag ],\n  [ 'entity',          entity ]\n];\n\n/**\n * Inline Parser class. Note that link validation is stricter\n * in Remarkable than what is specified by CommonMark. If you\n * want to change this you can use a custom validator.\n *\n * @api private\n */\n\nfunction ParserInline() {\n  this.ruler = new Ruler();\n  for (var i = 0; i < _rules$2.length; i++) {\n    this.ruler.push(_rules$2[i][0], _rules$2[i][1]);\n  }\n\n  // Can be overridden with a custom validator\n  this.validateLink = validateLink;\n}\n\n/**\n * Skip a single token by running all rules in validation mode.\n * Returns `true` if any rule reports success.\n *\n * @param  {Object} `state`\n * @api privage\n */\n\nParserInline.prototype.skipToken = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var pos = state.pos;\n  var i, cached_pos;\n\n  if ((cached_pos = state.cacheGet(pos)) > 0) {\n    state.pos = cached_pos;\n    return;\n  }\n\n  for (i = 0; i < len; i++) {\n    if (rules[i](state, true)) {\n      state.cacheSet(pos, state.pos);\n      return;\n    }\n  }\n\n  state.pos++;\n  state.cacheSet(pos, state.pos);\n};\n\n/**\n * Generate tokens for the given input range.\n *\n * @param  {Object} `state`\n * @api private\n */\n\nParserInline.prototype.tokenize = function (state) {\n  var rules = this.ruler.getRules('');\n  var len = rules.length;\n  var end = state.posMax;\n  var ok, i;\n\n  while (state.pos < end) {\n\n    // Try all possible rules.\n    // On success, the rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, false);\n\n      if (ok) {\n        break;\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n/**\n * Parse the given input string.\n *\n * @param  {String} `str`\n * @param  {Object} `options`\n * @param  {Object} `env`\n * @param  {Array} `outTokens`\n * @api private\n */\n\nParserInline.prototype.parse = function (str, options, env, outTokens) {\n  var state = new StateInline(str, this, options, env, outTokens);\n  this.tokenize(state);\n};\n\n/**\n * Validate the given `url` by checking for bad protocols.\n *\n * @param  {String} `url`\n * @return {Boolean}\n */\n\nfunction validateLink(url) {\n  var BAD_PROTOCOLS = [ 'vbscript', 'javascript', 'file', 'data' ];\n  var str = url.trim().toLowerCase();\n  // Care about digital entities \"javascript&#x3A;alert(1)\"\n  str = replaceEntities(str);\n  if (str.indexOf(':') !== -1 && BAD_PROTOCOLS.indexOf(str.split(':')[0]) !== -1) {\n    return false;\n  }\n  return true;\n}\n\n// Remarkable default options\n\nvar defaultConfig = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '\u00AB\u00BB' for Russian, '\u201E\u201C' for German.\n    quotes: '\u201C\u201D\u2018\u2019',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'replacements',\n        'smartquotes',\n        'references',\n        'abbr2',\n        'footnote_tail'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'footnote',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph',\n        'table'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'del',\n        'emphasis',\n        'entity',\n        'escape',\n        'footnote_ref',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n\n// Remarkable default options\n\nvar fullConfig = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '\u00AB\u00BB' for Russian, '\u201E\u201C' for German.\n    quotes:       '\u201C\u201D\u2018\u2019',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight:     null,\n\n    maxNesting:    20            // Internal protection, recursion limit\n  },\n\n  components: {\n    // Don't restrict core/block/inline rules\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n\n// Commonmark default options\n\nvar commonmarkConfig = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkTarget:   '',           // set target to open link in\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Set doubles to '\u00AB\u00BB' for Russian, '\u201E\u201C' for German.\n    quotes: '\u201C\u201D\u2018\u2019',\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if input not changed\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'block',\n        'inline',\n        'references',\n        'abbr2'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fences',\n        'heading',\n        'hr',\n        'htmlblock',\n        'lheading',\n        'list',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'htmltag',\n        'links',\n        'newline',\n        'text'\n      ]\n    }\n  }\n};\n\n/**\n * Preset configs\n */\n\nvar config = {\n  'default': defaultConfig,\n  'full': fullConfig,\n  'commonmark': commonmarkConfig\n};\n\n/**\n * The `StateCore` class manages state.\n *\n * @param {Object} `instance` Remarkable instance\n * @param {String} `str` Markdown string\n * @param {Object} `env`\n */\n\nfunction StateCore(instance, str, env) {\n  this.src = str;\n  this.env = env;\n  this.options = instance.options;\n  this.tokens = [];\n  this.inlineMode = false;\n\n  this.inline = instance.inline;\n  this.block = instance.block;\n  this.renderer = instance.renderer;\n  this.typographer = instance.typographer;\n}\n\n/**\n * The main `Remarkable` class. Create an instance of\n * `Remarkable` with a `preset` and/or `options`.\n *\n * @param {String} `preset` If no preset is given, `default` is used.\n * @param {Object} `options`\n */\n\nfunction Remarkable(preset, options) {\n  if (typeof preset !== 'string') {\n    options = preset;\n    preset = 'default';\n  }\n\n  if (options && options.linkify != null) {\n    console.warn(\n      'linkify option is removed. Use linkify plugin instead:\\n\\n' +\n      'import Remarkable from \\'remarkable\\';\\n' +\n      'import linkify from \\'remarkable/linkify\\';\\n' +\n      'new Remarkable().use(linkify)\\n'\n    );\n  }\n\n  this.inline   = new ParserInline();\n  this.block    = new ParserBlock();\n  this.core     = new Core();\n  this.renderer = new Renderer();\n  this.ruler    = new Ruler();\n\n  this.options  = {};\n  this.configure(config[preset]);\n  this.set(options || {});\n}\n\n/**\n * Set options as an alternative to passing them\n * to the constructor.\n *\n * ```js\n * md.set({typographer: true});\n * ```\n * @param {Object} `options`\n * @api public\n */\n\nRemarkable.prototype.set = function (options) {\n  assign(this.options, options);\n};\n\n/**\n * Batch loader for components rules states, and options\n *\n * @param  {Object} `presets`\n */\n\nRemarkable.prototype.configure = function (presets) {\n  var self = this;\n\n  if (!presets) { throw new Error('Wrong `remarkable` preset, check name/content'); }\n  if (presets.options) { self.set(presets.options); }\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enable(presets.components[name].rules, true);\n      }\n    });\n  }\n};\n\n/**\n * Use a plugin.\n *\n * ```js\n * var md = new Remarkable();\n *\n * md.use(plugin1)\n *   .use(plugin2, opts)\n *   .use(plugin3);\n * ```\n *\n * @param  {Function} `plugin`\n * @param  {Object} `options`\n * @return {Object} `Remarkable` for chaining\n */\n\nRemarkable.prototype.use = function (plugin, options) {\n  plugin(this, options);\n  return this;\n};\n\n\n/**\n * Parse the input `string` and return a tokens array.\n * Modifies `env` with definitions data.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parse = function (str, env) {\n  var state = new StateCore(this, str, env);\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * The main `.render()` method that does all the magic :)\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {String} Rendered HTML.\n */\n\nRemarkable.prototype.render = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parse(str, env), this.options, env);\n};\n\n/**\n * Parse the given content `string` as a single string.\n *\n * @param  {String} `string`\n * @param  {Object} `env`\n * @return {Array} Array of tokens\n */\n\nRemarkable.prototype.parseInline = function (str, env) {\n  var state = new StateCore(this, str, env);\n  state.inlineMode = true;\n  this.core.process(state);\n  return state.tokens;\n};\n\n/**\n * Render a single content `string`, without wrapping it\n * to paragraphs\n *\n * @param  {String} `str`\n * @param  {Object} `env`\n * @return {String}\n */\n\nRemarkable.prototype.renderInline = function (str, env) {\n  env = env || {};\n  return this.renderer.render(this.parseInline(str, env), this.options, env);\n};\n\nexport { Remarkable, utils };\n", "// ---------\n// parser.js is an async markdown-to-html parser.\n//   this is used before anything is ready (before the DOM) so search and pages can appear faster\n\nimport { Remarkable } from \"remarkable\"; // This is where the bulk of the filesize comes from\n\nexport class Parser {\n  constructor() {\n    // https://www.npmjs.com/package/remarkable-youtube\n    //     When video sources are from Youtube? or remarkable-embed\n    this.md = new Remarkable(\"full\", {\n      html: true,\n      typographer: false,\n    });\n    // Rules that we want to modify for custom directives\n    this.openEmRenderer = this.md.renderer.rules.em_open;\n    this.closeEmRenderer = this.md.renderer.rules.em_close;\n    this.closeHeadingRenderer = this.md.renderer.rules.heading_close;\n    this.injectedHeading = false;\n    this.injectedEm = false;\n    this.tagMap = {\n      r: \"red\",\n      b: \"blue\",\n      g: \"green\",\n      y: \"yellow\",\n      p: \"pink\",\n      t: \"teal\",\n      \"!\": \"spoiler\",\n    };\n    this.updateRules();\n  }\n\n  // For custom directives --> capture when the markdown has a special call either :{ in a heading or *:{ in text\n  updateRules() {\n    // Define new handlers for text\n    this.md.renderer.rules.heading_open = function (tokens, idx) {\n      if (tokens[idx + 1].content[0] == \":\") {\n        this.injectedHeading = true;\n        // Inject a span depending on the category\n        if (tokens[idx + 1].content[1] == \"{\") {\n          // parseJsonTag modifies tokens, so baseReturn should be recalculated.\n          let spanReturn = this.parseJsonTag(tokens, idx);\n          let baseReturn =\n            \"<h\" +\n            tokens[idx].hLevel +\n            ' id=\"' +\n            tokens[idx + 1].content.replace(/\\s+/g, \"-\").toLowerCase() +\n            '\">';\n          return spanReturn + baseReturn;\n        }\n      } else {\n        // Instead of the default handler, use this so we can use the id later for search\n        let baseReturn =\n          \"<h\" +\n          tokens[idx].hLevel +\n          ' id=\"' +\n          tokens[idx + 1].content.replace(/\\s+/g, \"-\").toLowerCase() +\n          '\">';\n        return baseReturn;\n      }\n    }.bind(this);\n\n    this.md.renderer.rules.em_open = function (tokens, idx, options, env) {\n      return this.parseTags(tokens, idx, options, env, this.openEmRenderer);\n    }.bind(this);\n\n    this.md.renderer.rules.heading_close = function (\n      tokens,\n      idx,\n      options,\n      env,\n    ) {\n      if (this.injectedHeading) {\n        this.injectedHeading = false;\n        let headingEnd = this.closeHeadingRenderer(tokens, idx, options, env);\n        // Change new line position or styling will mess up\n        return headingEnd.concat(\"</span>\").replace(/\\n/g, \" \") + \"\\n\";\n      } else {\n        return this.closeHeadingRenderer(tokens, idx, options, env);\n      }\n    }.bind(this);\n\n    this.md.renderer.rules.em_close = function (tokens, idx, options, env) {\n      if (this.injectedEm) {\n        this.injectedEm = false;\n        return \"</span>\";\n      } else {\n        return this.closeEmRenderer(tokens, idx, options, env);\n      }\n    }.bind(this);\n\n    this.parseKatex();\n  }\n\n  // Load a text file on a relative path\n  async loadFile(filePath) {\n    return new Promise(function (resolve, reject) {\n      let xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", filePath, true);\n      xhr.onload = function () {\n        if (this.status >= 200 && this.status < 300) {\n          resolve(xhr.response);\n        } else {\n          reject({\n            status: this.status,\n            statusText: xhr.statusText,\n          });\n        }\n      };\n      xhr.onerror = function () {\n        reject({\n          status: this.status,\n          statusText: xhr.statusText,\n        });\n      };\n      xhr.send();\n    });\n  }\n\n  async asyncRead(file) {\n    let fileData = await this.loadFile(file);\n    if (fileData.length <= 1 || fileData == null) {\n      return \"\";\n    }\n    return fileData;\n  }\n\n  // Parse a MD file with our custom rules\n  async parseGFM(file) {\n    //Read GFM file\n    let fileData = await this.loadFile(file + \".md\");\n    if (fileData.length <= 1 || fileData == null) {\n      return \"\";\n    }\n    let content = \"\";\n    //Return the HTML data\n    content = this.md.render(fileData);\n    return content;\n  }\n\n  // Custom directive handler for text. For this we can use the default one if we're not in a custom directive\n  parseTags(tokens, idx, options, env, fallback) {\n    // Check if first token is a :\n    //   if yes, apply changes\n    //   if not, use default handler\n    if (tokens[idx + 1].type == \"text\") {\n      if (tokens[idx + 1].content[0] == \":\") {\n        this.injectedEm = true;\n        // Inject a span depending on the category\n        if (tokens[idx + 1].content[1] == \"{\") {\n          return this.parseJsonTag(tokens, idx);\n        } else {\n          let tagToken = tokens[idx + 1].content[1];\n          tokens[idx + 1].content = tokens[idx + 1].content.slice(2);\n          return '<span class=\"' + this.tagMap[tagToken] + '\">';\n        }\n      } else {\n        return fallback(tokens, idx, options, env);\n      }\n    } else {\n      return fallback(tokens, idx, options, env);\n    }\n  }\n\n  // Custom directives use JSON-style data for options\n  parseJsonTag(tokens, idx) {\n    // Find index of closing bracket\n    let endingIndex = tokens[idx + 1].content.indexOf(\"}\");\n    let jsonTag = tokens[idx + 1].content.substring(1, endingIndex + 1);\n    tokens[idx + 1].content = tokens[idx + 1].content.slice(endingIndex + 2);\n    // Inline segments don't change if you only change their content\n    if (tokens[idx + 1].type == \"inline\") {\n      tokens[idx + 1].children[0].content = tokens[idx + 1].content;\n    }\n    let classOp = \"tagging\";\n    if (tokens[idx].type == \"em_open\") {\n      classOp = \"tagging-text\";\n    }\n    return '<span class=\"' + classOp + '\" data-tags=\"' + jsonTag + '\">';\n  }\n\n  // Based on the \"remarkable-katex\" package: https://github.com/bradhowes/remarkable-katex\n  //   This modification doesn't load the katex module, since it is only needed when a new page is being shown\n  //   Instead, Katex is treated as any other tags. This saves about 300kb on page load.\n  parseKatex() {\n    const backslash = \"\\\\\";\n    const delimiter = \"$\";\n    /**\n     * Parse '$$' as a block. Based off of similar method in remarkable.\n     */\n    const parseBlockKatex = (state, startLine, endLine) => {\n      let haveEndMarker = false;\n      let pos = state.bMarks[startLine] + state.tShift[startLine];\n      let max = state.eMarks[startLine];\n\n      if (pos + 1 > max) {\n        return false;\n      }\n\n      const marker = state.src.charAt(pos);\n      if (marker !== delimiter) {\n        return false;\n      }\n\n      // scan marker length\n      let mem = pos;\n      pos = state.skipChars(pos, marker);\n      let len = pos - mem;\n\n      if (len !== 2) {\n        return false;\n      }\n\n      // search end of block\n      let nextLine = startLine;\n\n      for (;;) {\n        ++nextLine;\n        if (nextLine >= endLine) {\n          break;\n        }\n\n        pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n        max = state.eMarks[nextLine];\n\n        if (pos < max && state.tShift[nextLine] < state.blkIndent) {\n          break;\n        }\n        if (state.src.charAt(pos) !== delimiter) {\n          continue;\n        }\n        if (state.tShift[nextLine] - state.blkIndent >= 4) {\n          continue;\n        }\n\n        pos = state.skipChars(pos, marker);\n        if (pos - mem < len) {\n          continue;\n        }\n\n        pos = state.skipSpaces(pos);\n        if (pos < max) {\n          continue;\n        }\n\n        haveEndMarker = true;\n        break;\n      }\n\n      // If a fence has heading spaces, they should be removed from its inner block\n      len = state.tShift[startLine];\n      state.line = nextLine + (haveEndMarker ? 1 : 0);\n      const content = state\n        .getLines(startLine + 1, nextLine, len, true)\n        .replace(/[ \\n]+/g, \" \")\n        .trim();\n\n      state.tokens.push({\n        type: \"katex\",\n        params: null,\n        content: content,\n        lines: [startLine, state.line],\n        level: state.level,\n        block: true,\n      });\n      return true;\n    };\n\n    /**\n     * Look for '$' or '$$' spans in Markdown text. Based off of the 'fenced' parser in remarkable.\n     */\n    const parseInlineKatex = (state, silent) => {\n      const start = state.pos;\n      const max = state.posMax;\n      let pos = start;\n\n      // Unexpected starting character\n      if (state.src.charAt(pos) !== delimiter) {\n        return false;\n      }\n\n      ++pos;\n      while (pos < max && state.src.charAt(pos) === delimiter) {\n        ++pos;\n      }\n\n      // Capture the length of the starting delimiter -- closing one must match in size\n      const marker = state.src.slice(start, pos);\n      if (marker.length > 2) {\n        return false;\n      }\n\n      const spanStart = pos;\n      let escapedDepth = 0;\n      while (pos < max) {\n        const char = state.src.charAt(pos);\n        if (\n          char === \"{\" &&\n          (pos == 0 || state.src.charAt(pos - 1) != backslash)\n        ) {\n          escapedDepth += 1;\n        } else if (\n          char === \"}\" &&\n          (pos == 0 || state.src.charAt(pos - 1) != backslash)\n        ) {\n          escapedDepth -= 1;\n          if (escapedDepth < 0) {\n            return false;\n          }\n        } else if (char === delimiter && escapedDepth === 0) {\n          const matchStart = pos;\n          let matchEnd = pos + 1;\n          while (matchEnd < max && state.src.charAt(matchEnd) === delimiter) {\n            ++matchEnd;\n          }\n\n          if (matchEnd - matchStart === marker.length) {\n            if (!silent) {\n              const content = state.src\n                .slice(spanStart, matchStart)\n                .replace(/[ \\n]+/g, \" \")\n                .trim();\n              state.push({\n                type: \"katex\",\n                content: content,\n                block: marker.length > 1,\n                level: state.level,\n              });\n            }\n            state.pos = matchEnd;\n            return true;\n          }\n        }\n        pos += 1;\n      }\n\n      if (!silent) {\n        state.pending += marker;\n      }\n      state.pos += marker.length;\n\n      return true;\n    };\n\n    this.md.inline.ruler.push(\"katex\", parseInlineKatex.bind(this), {});\n    this.md.block.ruler.push(\"katex\", parseBlockKatex.bind(this), {});\n    this.md.renderer.rules.katex = (tokens, idx) => {\n      return '<span class=\"tagging-katex\">' + tokens[idx].content + \"</span>\";\n    };\n    this.md.renderer.rules.katex.delimiter = delimiter;\n  }\n}\n", "// ---------\n// search.js controls the search actions and redirects\n\nexport class Search {\n  constructor(techPages, addPageChangeEvent) {\n    this.navLock = false;\n    this.resultState = false;\n    this.currentActiveSearch = null;\n    this.techPages = techPages;\n    this.addPageChangeEvent = addPageChangeEvent;\n    this.searchBoxListener = this.searchBoxListener.bind(this);\n  }\n\n  // Init nav-bar\n  initSearchIcons() {\n    let search = document.querySelector(\"#nav-bar__searchbox\");\n    search.addEventListener(\"click\", this.searchBoxListener);\n    let input = document.querySelector(\"#nav-bar__search--input\");\n\n    input.addEventListener(\"keyup\", this.filterFunction);\n    input.addEventListener(\"focusin\", this.filterFunction);\n    search.targetParam = \"search\";\n\n    let games = document.querySelector(\"#nav-bar__games--icon\");\n    games.addEventListener(\"click\", this.gamesFunction);\n\n    // Search has an input field which has a filter function when you type\n    // If you focus out of the pop-ups for both icons they will dissapear\n    //   things are cleared and css controls the animation\n    search.addEventListener(\"focusout\", (event) => {\n      let searchField = document.querySelector(\"#nav-bar__search\");\n      event.stopPropagation();\n      if (!searchField.contains(event.relatedTarget)) {\n        this.clearFunction();\n      }\n    });\n\n    // First create the HTML elements for each, then fill with the links\n    this.fillSearch();\n  }\n\n  initOnboardingIcon() {\n    let onboardingIcon = document.querySelector(\n      \"#content__home__onboarding--icon\",\n    );\n    if (onboardingIcon != null) {\n      onboardingIcon.addEventListener(\"click\", this.gamesFunction);\n    }\n  }\n\n  // Click event for the icons\n  searchBoxListener() {\n    if (this.navLock) {\n      return;\n    }\n    let type = event.currentTarget.targetParam;\n    this.currentActiveSearch = type;\n    this.injectSearchBox(\"#nav-bar__search\");\n    let searchCount = document.querySelector(\".nav-bar__search--results\");\n    if (searchCount == null) {\n      this.fillSearch();\n    }\n  }\n\n  // Makes the box for games or search appear\n  injectSearchBox(id) {\n    if (this.navLock) {\n      return;\n    }\n    let searchIcon = document.querySelector(id);\n    searchIcon.removeEventListener(\"click\", this.searchBoxListener);\n\n    var baseName = id + \"box\";\n    var inputName = id + \"--input\";\n    var base = document.querySelector(baseName);\n    var inputField = document.querySelector(inputName);\n\n    base = document.querySelector(baseName);\n\n    // Based on min mobile widths\n    var searchboxWidth = 280;\n    if (this.currentActiveSearch == \"search\") {\n      if (document.body.clientWidth >= 480) {\n        searchboxWidth = 400;\n      }\n    } else {\n      searchboxWidth = 280;\n    }\n    base.style.width = searchboxWidth + \"px\";\n\n    // Focus on the elemtents to use focusout to exit them\n    if (this.currentActiveSearch == \"search\") {\n      inputField = document.querySelector(inputName);\n      inputField.focus();\n    } else {\n      base.focus();\n    }\n  }\n\n  // Clear everthing and then show the icon again\n  clearFunction() {\n    var a, i;\n    // Function to hide all computed links\n    var searchBox = document.querySelector(\"#nav-bar__searchbox\");\n    if (searchBox == null) {\n      return;\n    }\n    this.navLock = true;\n\n    var referenceBox = searchBox;\n    let referenceId = \"#nav-bar__search\";\n\n    a = referenceBox.getElementsByClassName(\"button__redirect\");\n    for (i = 0; i < a.length; i++) {\n      a[i].style.display = \"none\";\n    }\n    document.querySelector(referenceId + \"--hr\").style.display = \"none\";\n    this.navLock = false;\n  }\n\n  // Filter up to 6 options when you type something in search\n  filterFunction() {\n    var input, filter, a, i;\n    var idReference = \"#nav-bar__search\";\n    if (this.currentActiveSearch == \"games\") {\n      return;\n    }\n    // Gets the value from the user input, set each word into an array\n    input = document.querySelector(idReference + \"--input\");\n    filter = input.value.toUpperCase().trim();\n    let filterArray = filter.split(\" \");\n    // Gets the element of the container and all current computed links\n    let searchBox = document.querySelector(idReference + \"box\");\n    a = searchBox.getElementsByClassName(\"button__redirect\");\n    let searchCounter = 0;\n    for (i = 0; i < a.length; i++) {\n      // For each link, test if the user input makes part of its text value (ignoring empty inputs)\n      // Hide any link that does not have any relation to the current input\n      let txtValue = a[i].textContent || a[i].innerText;\n      txtValue =\n        txtValue + \" \" + a[i].dataset.section + \" \" + a[i].dataset.document;\n      let compareTxtValue = txtValue.toUpperCase();\n      let containFlag = true;\n      for (const stringFilter of filterArray.values()) {\n        if (\n          !(compareTxtValue.includes(stringFilter) && !(filter.length === 0))\n        ) {\n          containFlag = false;\n        }\n      }\n      if (containFlag) {\n        if (\"TALES OF\".includes(filter) || filter == \"T\" || filter == \"TO\") {\n          if (a[i].dataset.tag == \"game\") {\n            a[i].style.display = \"block\";\n          }\n          continue;\n        }\n        // Hard limit of 18 options on screen\n        if (searchCounter < 12 || a[i].dataset.tag == \"game\") {\n          a[i].style.display = \"block\";\n        } else {\n          a[i].style.display = \"none\";\n        }\n        searchCounter = searchCounter + 1;\n      } else {\n        a[i].style.display = \"none\";\n      }\n    }\n    if (\n      (searchCounter > 0 ||\n        \"TALES OF\".includes(filter) ||\n        filter == \"T\" ||\n        filter == \"TO\") &&\n      filter.length > 0\n    ) {\n      document.querySelector(idReference + \"--hr\").style.display = \"block\";\n    } else {\n      document.querySelector(idReference + \"--hr\").style.display = \"none\";\n    }\n  }\n\n  // Perform a pre-define search for games\n  gamesFunction() {\n    // game search now uses the normal search menu and just fills it with \"Tales of\"\n    var searchBox = document.querySelector(\"#nav-bar__searchbox\");\n    if (searchBox == null) {\n      return;\n    }\n\n    let a = searchBox.getElementsByClassName(\"button__redirect\");\n    for (let i = 0; i < a.length; i++) {\n      a[i].style.display = \"none\";\n    }\n    document.querySelector(\"#nav-bar__search--hr\").style.display = \"none\";\n    this.navLock = false;\n\n    let inputField = document.querySelector(\"#nav-bar__search--input\");\n    let filter = \"Tales of\";\n    inputField.value = filter;\n    // call the current keyup event of the inputField\n    inputField.focus();\n  }\n\n  // Fill search results based on loaded games\n  fillSearch() {\n    // Get all items on the tab bar\n    var searchContents1L = [];\n    var searchContents1 = \"\";\n    var searchContents2L = [];\n    var searchContents2 = \"\";\n    var searchResults = document.querySelector(\"#nav-bar__searchbox\");\n\n    // Insert a hidden hr on the first slot of the search\n    let hrElem =\n      \"<hr id='nav-bar__search--hr'  tabindex='0' style='display: none;'>\";\n    searchResults.insertAdjacentHTML(\"beforeend\", hrElem);\n\n    // Tech pages are created by the parser. main saves that and uses it to create the search object\n    for (const [key, techDocument] of this.techPages.entries()) {\n      if (\n        key.dim === \"N/A\" ||\n        key.document.includes(\"-C\") ||\n        key.document.includes(\"-B\")\n      ) {\n        continue; // Skip items with dim as \"N/A\" (like readme)\n      }\n\n      // Create the game instance to add to the nav-bar\n      const parser = new DOMParser();\n\n      // Now are read the content to use for the search functionality on the nav-bar\n      const doc = parser.parseFromString(techDocument, \"text/html\");\n\n      // Get all h1, h3, and h4 elements in the order they appear in the document\n      const headings1 = doc.querySelectorAll(\"h1\");\n\n      // H1s have different styling. Additionally, they should appear first in the list\n      headings1.forEach(() => {\n        searchContents1 = \"\";\n        searchContents1 = searchContents1.concat('<a href=\"/');\n        searchContents1 = searchContents1.concat(key.document);\n        searchContents1 = searchContents1.concat('\" title=\"');\n        searchContents1 = searchContents1.concat(key.section);\n        searchContents1 = searchContents1.concat('\" data-document=\"');\n        searchContents1 = searchContents1.concat(key.document);\n        searchContents1 = searchContents1.concat(\n          '\" class=\"nav-bar__search--results button__redirect\" tabindex=\"0\" data-section=\"',\n        );\n        searchContents1 = searchContents1.concat(key.section);\n        searchContents1 = searchContents1.concat(\n          '\" data-tag=\"game\"><span class=\"nav-bar__search--results--games material-symbols-rounded\"> sports_esports </span><b>',\n        );\n        searchContents1 = searchContents1.concat(key.section);\n        searchContents1 = searchContents1.concat(\"</b> </a>\");\n        searchContents1L.push(searchContents1);\n      });\n\n      const headings2 = doc.querySelectorAll(\"h1, h2, h3, h4\");\n\n      // Process each heading in the order they appear\n      let currentH2 = null;\n      headings2.forEach((currentHeading) => {\n        if (currentHeading.tagName === \"H1\") {\n          // No need to treat h1s again\n          currentH2 = null;\n        } else {\n          if (currentHeading.tagName === \"H2\") {\n            currentH2 = currentHeading.id;\n          }\n          if (\n            (currentH2 === \"glitches\" || currentH2 === \"techniques\") &&\n            currentHeading.id !== \"general-techniques\" &&\n            currentHeading.tagName !== \"H2\"\n          ) {\n            // label is key.section removing \"Tales of\" and leading and trailing spaces\n            let label = key.section.replace(\"Tales of\", \"\").trim();\n            searchContents2 = \"\";\n            searchContents2 = searchContents2.concat('<a href=\"/');\n            searchContents2 = searchContents2.concat(key.document);\n            searchContents2 = searchContents2.concat('\" title=\"');\n            searchContents2 = searchContents2.concat(key.section);\n            searchContents2 = searchContents2.concat('\" data-document=\"');\n            searchContents2 = searchContents2.concat(key.document);\n            searchContents2 = searchContents2.concat(\n              '\" class=\"nav-bar__search--results button__redirect\" tabindex=\"0\" data-section=\"',\n            );\n            searchContents2 = searchContents2.concat(key.section);\n            searchContents2 = searchContents2.concat(\n              '\" data-tag=\"tech\" data-redirect=\"#',\n            );\n            searchContents2 = searchContents2.concat(currentHeading.id);\n            searchContents2 = searchContents2.concat(\n              '\"><span class=\"nav-bar__search--results--games material-symbols-rounded\"> book_2 </span><b>',\n            );\n            searchContents2 = searchContents2.concat(label);\n            searchContents2 = searchContents2.concat(\n              \"</b> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\",\n            );\n            searchContents2 = searchContents2.concat(\n              currentHeading.textContent,\n            );\n            searchContents2 = searchContents2.concat(\"</div>\");\n            searchContents2L.push(searchContents2);\n          }\n        }\n      });\n    }\n    // Sort the search results\n    searchContents1L.sort();\n    searchContents2L.sort();\n    searchContents1 = searchContents1L.join(\"\");\n    searchContents2 = searchContents2L.join(\"\");\n    // Join searchContents1 and searchContests2\n    let searchContents = searchContents1.concat(searchContents2);\n    // Insert the HTML on the search bar\n    searchResults.insertAdjacentHTML(\"beforeend\", searchContents);\n    searchContents = \"\";\n    document.querySelectorAll(\"a.nav-bar__search--results\").forEach((item) => {\n      this.addPageChangeEvent(item);\n    });\n  }\n\n  // --- Show all headings for a specific ID\n  revealID(id) {\n    // Gets the object of the provided ID\n    let targetHeading = document.getElementById(id);\n    if (targetHeading == null) {\n      // Target hidden within an h2 section -- first we need to open it\n      //   get h2 section from session storage\n      let h2Collection = JSON.parse(sessionStorage.getItem(\"h2Collection\"));\n      let h2Section = 0;\n      for (let x = 0; x < h2Collection.length; x++) {\n        if (h2Collection[x][2].includes(`id=\"${id}\"`)) {\n          h2Section = x;\n          break;\n        }\n      }\n      document\n        .querySelectorAll(\".content__selectorbox--item\")\n        [h2Section].click();\n    }\n    targetHeading = document.getElementById(id);\n    let hiddenItems = null;\n    let success = false;\n    // Gets the div that holds all the content for a given heading\n    if (targetHeading.tagName == \"H4\") {\n      if (targetHeading.dataset.open != null) {\n        hiddenItems = targetHeading.dataset.open.split(\" \");\n        success = true;\n      }\n    } else if (targetHeading.parentNode.className.includes(\"content__\")) {\n      if (targetHeading.parentNode.firstElementChild.dataset.open != null) {\n        hiddenItems =\n          targetHeading.parentNode.firstElementChild.dataset.open.split(\" \");\n        success = true;\n      }\n    } else {\n      // Div is one level higher if a tagging div was used\n      if (\n        targetHeading.parentNode.parentNode.firstElementChild.dataset.open !=\n        null\n      ) {\n        hiddenItems =\n          targetHeading.parentNode.parentNode.firstElementChild.dataset.open.split(\n            \" \",\n          );\n        success = true;\n      }\n    }\n    if (success) {\n      // Iterates over all related classes needed to reveal a specific heading\n      hiddenItems.forEach((item) => {\n        let targetList = document.getElementsByClassName(item);\n        // Get all objects that are possibly hidden\n        for (let target of targetList) {\n          if (target.hidden) {\n            target.hidden = false;\n            // Change the button depending on the current art\n            if (target.parentNode.className.includes(\"content__\")) {\n              if (\n                target.parentNode.firstElementChild.firstChild.innerHTML ==\n                \"expand_circle_down\"\n              ) {\n                target.parentNode.firstElementChild.firstChild.innerHTML =\n                  \"expand_circle_up\";\n              }\n            } else {\n              // Target is one level higher if a tagging div was used\n              if (\n                target.parentNode.parentNode.firstElementChild.firstChild\n                  .innerHTML == \"expand_circle_down\"\n              ) {\n                target.parentNode.parentNode.firstElementChild.firstChild.innerHTML =\n                  \"expand_circle_up\";\n              }\n            }\n          }\n        }\n      });\n    }\n  }\n}\n", "// ---------\n// toc.js is the table of content functionality for tech pages\n//   there are two parts, the one that appears on the side, and another which is in the section-container (helps with mobile)\n\nexport class TOC {\n  constructor(helperObj) {\n    this.headings = [];\n    this.ticking = false;\n    this.currentSection = null;\n    this.inTechPage = false;\n    this.helperObj = helperObj;\n\n    // Enable smart section highlighing based on scroll position\n    //   bind the scroll event listener\n    document.addEventListener(\"scroll\", () => {\n      if (!this.ticking && this.helperObj.inTechPage) {\n        window.requestAnimationFrame(() => {\n          this.highlightTOC();\n          this.ticking = false;\n        });\n        this.ticking = true;\n      }\n    });\n  }\n\n  // Update functions\n  updateStatus(section, tech) {\n    this.currentSection = section;\n    this.helperObj.inTechPage = tech;\n  }\n\n  clearHeadings() {\n    this.headings = [];\n  }\n\n  // Creates the TOC based on the provided document. Only for tech pages (looks off when used with something like readme)\n  //   this, however, requires a strict styling format for the markdown file\n  createTOC(currentDocument) {\n    // Check if tocborder already exists\n    let tocBorder = document.getElementById(\"content__tocborder\");\n    let selector = null;\n    let content = null;\n    let toc = null;\n    let tocMobile = null;\n\n    if (tocBorder == null) {\n      // Check if it is a tech page by searching for an active h2 (class == content__selectorbox--item selected)\n      let techPage = document.querySelector(\n        \".content__selectorbox--item.selected\",\n      );\n      if (techPage == null) {\n        return;\n      }\n      // Gets div of id content and creates a new div as children\n      content = document.getElementById(\"content\");\n      tocBorder = document.createElement(\"div\");\n      tocBorder.id = \"content__tocborder\";\n      content.appendChild(tocBorder);\n      toc = document.createElement(\"div\");\n      toc.id = \"content__toc\";\n      tocMobile = document.createElement(\"div\");\n      tocMobile.id = \"content__tocmobile\";\n      tocBorder.appendChild(toc);\n      // Set TOC y location just after #content__selector\n      selector = document.getElementById(\"content__selector\");\n      tocBorder.style.top = selector.offsetTop + content.offsetTop + 10 + \"px\";\n\n      // Also add an icon on the #section-container__div for mobile\n      let tocIcon = document.createElement(\"span\");\n      tocIcon.className = \"material-symbols-rounded\";\n      tocIcon.id = \"content__tocicon\";\n      tocIcon.innerHTML = \"menu_book\";\n      tocIcon.style.display = \"none\";\n      let sectionContainer = document.getElementById(\"section-container__div\");\n      sectionContainer.appendChild(tocIcon);\n      // And a box so the ToC can be added to it. <div id=\"content__tocicon--box\" style=\"width: 300px;\" tabindex=\"0\" class=\"fadeout\">\n      let tocIconBox = document.createElement(\"div\");\n      tocIconBox.id = \"content__tocicon--box\";\n      tocIconBox.style.width = \"0px\";\n      // set tabindex so it can get focused\n      tocIconBox.tabIndex = \"0\";\n      sectionContainer.appendChild(tocIconBox);\n      // Add the toc to the box\n      tocIconBox.appendChild(tocMobile);\n      this.helperObj.dragScrollElement(\"#\" + tocIconBox.id, 1);\n      this.helperObj.dragScrollElement(\"#\" + toc.id, 1);\n      // Add an event listener to the icon\n      tocIcon.addEventListener(\"click\", () => {\n        let box = document.getElementById(\"content__tocicon--box\");\n        var boxWidth = 300;\n        if (document.body.clientWidth >= 480) {\n          boxWidth = 360;\n        }\n        box.style.width = boxWidth + \"px\";\n        box.className = \"fadein\";\n        tocIconBox.display = \"block\";\n        box.focus();\n      });\n      tocIconBox.addEventListener(\"focusout\", (event) => {\n        let box = document.getElementById(\"content__tocicon--box\");\n        event.stopPropagation();\n        box.className = \"fadeout\";\n      });\n    } else {\n      selector = document.getElementById(\"content__selector\");\n      content = document.getElementById(\"content\");\n      toc = document.getElementById(\"content__toc\");\n      tocMobile = document.getElementById(\"content__tocmobile\");\n    }\n    // Set TOCborder size to content size - offset\n    tocBorder.style.height =\n      \"calc(100% - \" + (selector.offsetTop + 150) + \"px)\";\n    // Add content to TOC\n    let tocContent = \"<p>ON THIS SECTION</p><hr>\";\n    toc.innerHTML = tocContent;\n    tocMobile.innerHTML = tocContent;\n    // - Scan headings (h3s and h4s) on #content__currenth2, creates objects with name, clientY, isH3 or isH4, and parent (if H4)\n    this.headings = [];\n    let h3s = document.querySelectorAll(\"#content__currenth2 h3\");\n    let h4s = document.querySelectorAll(\"#content__currenth2 h4\");\n    for (let h3 of h3s) {\n      this.headings.push({\n        name: h3.textContent,\n        clientY: h3.getBoundingClientRect().top,\n        isH3: true,\n        obj: h3,\n        id: h3.id,\n      });\n    }\n    for (let h4 of h4s) {\n      this.headings.push({\n        name: h4.textContent,\n        clientY: h4.getBoundingClientRect().top,\n        isH3: false,\n        obj: h4,\n        id: h4.id,\n      });\n    }\n    // - Sort the objects by clientY\n    this.headings.sort((a, b) => a.clientY - b.clientY);\n\n    // - Create a list of links to the headings\n    let tocLinks = \"\";\n    for (let heading of this.headings) {\n      let link = \"\";\n      if (!heading.isH3) {\n        link =\n          '<div data-document=\"' +\n          currentDocument +\n          '\" data-section=\"' +\n          this.helperObj.currentSection +\n          '\" data-redirect=\"#' +\n          heading.id +\n          '\" class=\"content__toc--search content__toc--search-h4 button__redirect\" style=\"display: block;';\n      } else {\n        link =\n          '<div data-document=\"' +\n          currentDocument +\n          '\" data-section=\"' +\n          this.helperObj.currentSection +\n          '\" data-redirect=\"#' +\n          heading.id +\n          '\" class=\"content__toc--search button__redirect\" style=\"display: block;';\n      }\n      link = link.concat('\">' + heading.name);\n      link = link.concat(\"</div>\");\n      tocLinks = tocLinks.concat(link);\n    }\n    // - Add the list to the TOC\n    toc.innerHTML = tocContent.concat(tocLinks);\n    tocMobile.innerHTML = tocContent.concat(tocLinks);\n  }\n\n  highlightTOC() {\n    // Check which H3 is the current one based on scrollPos & headings and hide all other h4s that are not theirs\n    let currentH3 = null;\n    let currentH3Index = 0;\n    let nextH3Index = 0;\n    for (let i = 0; i < this.headings.length; i++) {\n      if (this.headings[i].isH3) {\n        // Highlight the new section if it makes part of 75% of the page (25% of the top) or if it within 150px\n        if (\n          this.headings[i].obj.getBoundingClientRect().top <=\n            Math.max(window.innerHeight * 0.25, 150) ||\n          currentH3 == null\n        ) {\n          currentH3 = this.headings[i];\n          currentH3Index = i;\n        } else {\n          nextH3Index = i;\n          break;\n        }\n      }\n    }\n\n    // Add an active to the current h3 and remove active (if there are any) from other\n    if (currentH3 != null) {\n      let currentActive = document.querySelectorAll(\n        \".content__toc--search.active\",\n      );\n      for (let active of currentActive) {\n        active.classList.remove(\"active\");\n      }\n      let currentH3Link = document.querySelectorAll(\n        '.content__toc--search[data-redirect=\"#' + currentH3.id + '\"]',\n      );\n      for (let active of currentH3Link) {\n        active.classList.add(\"active\");\n      }\n    }\n\n    // Hide SEARCH h4s (display: none) before and after the indexes and show (display:block) the ones between\n    for (let i = 0; i < this.headings.length; i++) {\n      if (!this.headings[i].isH3) {\n        if (\n          (i >= currentH3Index && i <= nextH3Index) ||\n          (nextH3Index == 0 && currentH3Index > 0 && i >= currentH3Index) ||\n          (nextH3Index == 0 && currentH3Index == 0)\n        ) {\n          let searchH4 = document.querySelectorAll(\n            '.content__toc--search[data-redirect=\"#' +\n              this.headings[i].id +\n              '\"]',\n          );\n          for (let search of searchH4) {\n            search.style.display = \"block\";\n            search.classList.add(\"active\");\n          }\n        } else {\n          let searchH4 = document.querySelectorAll(\n            '.content__toc--search[data-redirect=\"#' +\n              this.headings[i].id +\n              '\"]',\n          );\n          for (let search of searchH4) {\n            search.style.display = \"none\";\n          }\n        }\n      }\n    }\n  }\n\n  // Completely remove the TOC\n  clearSectionTOC() {\n    let tocIcon = document.getElementById(\"content__tocicon\");\n    if (tocIcon != null) {\n      tocIcon.remove();\n    }\n    let tocBox = document.getElementById(\"content__tocicon--box\");\n    if (tocBox != null) {\n      tocBox.remove();\n    }\n  }\n}\n", "// ---\n// headings.js contains styling functions for headings. ex: ## ### ####\n//   used a lot in tech documents. This also saves something in storage that can be used to make section specific styling\n\nexport class Headings {\n  constructor(helperObj) {\n    // Blue is currently unused.\n    this.colorCollection = [\n      [\"yellow\", \"#f8d959\"],\n      [\"pink\", \"#fe796f\"],\n      [\"teal\", \"#45c9c9\"],\n      [\"green\", \"#58f15b\"],\n      [\"red\", \"#e74a41\"],\n      [\"lavender\", \"#c8a2b0\"],\n      [\"blue\", \"#205aaa\"],\n    ];\n    this.mouseDown = false;\n    // h2Collection will have every data for each section, that way we can load each one individually\n    this.h2Collection = [];\n    this.startX = 0;\n    this.scrollLeft = 0;\n    this.helperObj = helperObj;\n  }\n\n  returnH2Collection() {\n    return this.h2Collection;\n  }\n\n  // Adds collapse functionality to headings\n  //   for ##, it also split them into unique sections\n  collapseHeadings(page) {\n    this.h2Collection = [];\n    let currentH4 = null;\n    let currentH3 = null;\n    let currentH2 = null;\n    let currentH2Text = \"\";\n    let newInner = \"\";\n    let newHeading = \"\";\n    let firstH2 = true;\n    let currentHTML = page.innerHTML.split(\"\\n\");\n    let contentElem = document.getElementById(\"content\");\n    for (let i = 0; i < currentHTML.length; i++) {\n      // Iterates over all the lines from the created HTML and uses it to create a new document with collapsing headings\n      if (currentHTML[i].includes('h4 id=\"')) {\n        // Close the div if a h4 is in progress\n        if (currentH4) {\n          newInner = newInner + \"</div></div>\" + \"\\n\";\n        }\n\n        // Finding reference ID (the id from the original heading)\n        currentH4 = currentHTML[i].substring(\n          currentHTML[i].indexOf('h4 id=\"') + 7,\n        );\n        currentH4 = currentH4.substring(0, currentH4.indexOf('\"'));\n\n        // Starts a div for the current heading, divided into title and content\n        newInner = newInner + '<div class=\"content__h4\">' + \"\\n\";\n        // Injects the search tags into the h4 --> just after the end of id\n        let injectionIndex =\n          currentHTML[i].indexOf('h4 id=\"') + 7 + currentH4.length + 1;\n        let injectedSearch =\n          ' data-open=\"' + currentH4 + \" \" + currentH3 + \" \" + currentH2 + '\"';\n        let newH4 =\n          currentHTML[i].substr(0, injectionIndex) +\n          injectedSearch +\n          currentHTML[i].substr(injectionIndex);\n        newInner = newInner + newH4 + \"\\n\";\n        newInner = newInner + '<div class=\"' + currentH4 + '\">' + \"\\n\";\n      } else if (currentHTML[i].includes('h3 id=\"')) {\n        // Close the div if a h4 or h3 is in progress\n        if (currentH4) {\n          newInner = newInner + \"</div></div>\" + \"\\n\";\n          currentH4 = null;\n        }\n        if (currentH3) {\n          newInner =\n            newInner +\n            '<hr class=\"content__h3--divider\" draggable=\"false\" />' +\n            \"</div></div>\" +\n            \"\\n\";\n        }\n\n        // Finding reference ID (the id from the original heading)\n        currentH3 = currentHTML[i].substring(\n          currentHTML[i].indexOf('h3 id=\"') + 7,\n        );\n        currentH3 = currentH3.substring(0, currentH3.indexOf('\"'));\n\n        // Starts a div for the current heading, divided into title and content\n        newInner = newInner + '<div class=\"content__h3\">' + \"\\n\";\n        newInner =\n          newInner +\n          '<button class=\"content__collapse\" data-open=\"' +\n          currentH3 +\n          \" \" +\n          currentH2 +\n          '\"><span class=\"material-symbols-rounded\">expand_circle_up</span></button>';\n        newInner = newInner + currentHTML[i] + \"\\n\";\n        newInner = newInner + '<div class=\"' + currentH3 + '\">' + \"\\n\";\n      } else if (currentHTML[i].includes('h2 id=\"')) {\n        // Close the div if a h4, h3 or h2 is in progress\n        firstH2 = false;\n        if (currentH4) {\n          newInner = newInner + \"</div></div>\" + \"\\n\";\n          currentH4 = null;\n        }\n        if (currentH3) {\n          newInner = newInner + \"</div></div>\" + \"\\n\";\n          currentH3 = null;\n        }\n        if (currentH2) {\n          newInner = newInner + \"</div></div>\" + \"\\n\";\n          // Save all content so far to the h2\n          this.h2Collection.push([currentH2, currentH2Text, newInner]);\n          newInner = \"\";\n        }\n\n        // Finding reference ID (the id from the original heading)\n        currentH2 = currentHTML[i].substring(\n          currentHTML[i].indexOf('h2 id=\"') + 7,\n        );\n        currentH2 = currentH2.substring(0, currentH2.indexOf('\"'));\n\n        // Find text so we can replicate the heading but without the id (moved to div)\n        currentH2Text = currentHTML[i].substring(\n          currentHTML[i].indexOf('\">') + 2,\n        );\n        currentH2Text = currentH2Text.substring(\n          0,\n          currentH2Text.indexOf(\"</h2>\"),\n        );\n\n        // Starts a div for the current heading, divided into title and content\n        newInner =\n          newInner + '<div class=\"content__h2\" id=\"' + currentH2 + '\">' + \"\\n\";\n        //newInner = newInner + '<h2>' + currentH2Text + \"</h2>\" + \"\\n\";\n        newInner = newInner + '<div class=\"' + currentH2 + '\">' + \"\\n\";\n      } else {\n        if (firstH2) {\n          // Within the first lines of the content. Save in another variable since a tab will be added after it\n          newHeading = newHeading + currentHTML[i] + \"\\n\";\n        } else {\n          // Normal text/tags within headings\n          newInner = newInner + currentHTML[i] + \"\\n\";\n        }\n      }\n    }\n    // Closes divs if any is still open\n    if (currentH4) {\n      newInner = newInner + \"</div></div>\" + \"\\n\";\n    }\n    if (currentH3) {\n      newInner = newInner + \"</div></div>\" + \"\\n\";\n    }\n    if (currentH2) {\n      newInner = newInner + \"</div></div>\" + \"\\n\";\n      this.h2Collection.push([currentH2, currentH2Text, newInner]);\n      newInner = \"\";\n    }\n\n    var selectionTab =\n      '<div id=\"content__selector\"><div id=\"content__selectorbox\">';\n\n    // Based on h2Collection, create the individual tabs. Styling based on hardcoded values (colorCollection)\n    let i = 0;\n    while (i < this.h2Collection.length) {\n      let h2Tag = this.h2Collection[i][0];\n      let h2Text = this.h2Collection[i][1];\n      let h2Color = this.colorCollection[i % this.colorCollection.length];\n\n      // --- Create the tab\n      selectionTab =\n        selectionTab +\n        '<div class=\"content__selectorbox--item\" data-open=\"' +\n        h2Tag +\n        '\" data-highlight=\"' +\n        h2Color[1] +\n        '\">';\n      selectionTab = selectionTab + h2Text + \"</div>\";\n\n      // --- Add h2Color as extra parameters to h2Collection\n      this.h2Collection[i].push(h2Color);\n\n      // --- Next loop\n      i++;\n    }\n\n    // Save to session storage, used in search\n    sessionStorage.setItem(\"h2Collection\", JSON.stringify(this.h2Collection));\n\n    selectionTab = selectionTab + '</div><hr id=\"content__selectorhr\"></hr>';\n\n    var mobileChevrons =\n      '<div id=\"content__mobilechevrons\"><span class=\"content__mobilechevrons--left material-symbols-rounded\">chevron_backward</span><span class=\"content__mobilechevrons--right material-symbols-rounded\">chevron_forward</span></div></div><div id=\"content__currenth2\"></div>';\n\n    if (this.h2Collection.length > 0) {\n      page.innerHTML = newHeading + selectionTab + mobileChevrons;\n    } else {\n      page.innerHTML = newHeading;\n    }\n\n    this.helperObj.dragScrollElement(\"#content__selectorbox\", 0);\n\n    this.setupChevrons();\n\n    contentElem.style.visibility = \"visible\";\n  }\n\n  setupChevrons() {\n    // TODO : this could probably use a refactor later\n    // Get all three elements\n    let chevronBox = document.getElementById(\"content__mobilechevrons\");\n    let chevronLeft = document.getElementsByClassName(\n      \"content__mobilechevrons--left\",\n    )[0];\n    let chevronRight = document.getElementsByClassName(\n      \"content__mobilechevrons--right\",\n    )[0];\n\n    // check if any item in content__selectorbox is out-of-bounds. If yes, enable the chevronBox\n    let selectorBox = document.getElementById(\"content__selectorbox\");\n    let selectorBoxWidth = selectorBox.clientWidth;\n    let selectorBoxScrollWidth = selectorBox.scrollWidth;\n    if (selectorBoxWidth < selectorBoxScrollWidth) {\n      chevronBox.style.display = \"block\";\n      chevronBox.style.left =\n        selectorBox.getBoundingClientRect()[\"right\"] + \"px\";\n    } else {\n      chevronBox.style.display = \"none\";\n    }\n\n    // Add an event to window to check when it is resized to see if enabling the chevronBox is needed\n    window.addEventListener(\n      \"resize\",\n      function () {\n        let selectorBox = document.getElementById(\"content__selectorbox\");\n        if (selectorBox == null) {\n          return;\n        }\n        let chevronBox = document.getElementById(\"content__mobilechevrons\");\n        let selectorBoxWidth = selectorBox.clientWidth;\n        let selectorBoxScrollWidth = selectorBox.scrollWidth;\n        let chevronLeft = document.getElementsByClassName(\n          \"content__mobilechevrons--left\",\n        )[0];\n        let chevronRight = document.getElementsByClassName(\n          \"content__mobilechevrons--right\",\n        )[0];\n        if (selectorBoxWidth < selectorBoxScrollWidth) {\n          chevronBox.style.display = \"block\";\n          chevronBox.style.left =\n            selectorBox.getBoundingClientRect()[\"right\"] + \"px\";\n          let sBoxScrollLeft = selectorBox.scrollLeft;\n          if (sBoxScrollLeft > 0) {\n            chevronLeft.classList.add(\"active\");\n          }\n          if (\n            sBoxScrollLeft <\n            selectorBox.scrollWidth - selectorBox.offsetWidth\n          ) {\n            chevronRight.classList.add(\"active\");\n          }\n        } else {\n          chevronBox.style.display = \"none\";\n        }\n      },\n      true,\n    );\n\n    // the buttons become active if they're not at the end of their scrolls\n    let sBoxScrollLeft = selectorBox.scrollLeft;\n    if (sBoxScrollLeft > 0) {\n      chevronLeft.classList.add(\"active\");\n    }\n    if (sBoxScrollLeft < selectorBox.scrollWidth - selectorBox.offsetWidth) {\n      chevronRight.classList.add(\"active\");\n    }\n\n    // Add event listeners to the chevrons -- if they are enabled they scroll to their direction by selectorBoxWidth\n    chevronLeft.addEventListener(\n      \"click\",\n      function () {\n        let chevronLeft = document.getElementsByClassName(\n          \"content__mobilechevrons--left\",\n        )[0];\n        let chevronRight = document.getElementsByClassName(\n          \"content__mobilechevrons--right\",\n        )[0];\n        let selectorBox = document.getElementById(\"content__selectorbox\");\n        let selectorBoxWidth = selectorBox.offsetWidth;\n\n        let leftActive = chevronLeft.classList.contains(\"active\");\n        let rightActive = chevronRight.classList.contains(\"active\");\n        if (leftActive) {\n          if (selectorBox.scrollLeft - selectorBoxWidth <= 0) {\n            selectorBox.dataset.isScrolling = \"true\";\n            chevronLeft.classList.remove(\"active\");\n            setTimeout(function () {\n              let selectorBox = document.getElementById(\"content__selectorbox\");\n              selectorBox.dataset.isScrolling = \"false\";\n            }, 700);\n            leftActive = false;\n          }\n          selectorBox.scrollTo({\n            left: selectorBox.scrollLeft - selectorBoxWidth,\n            behavior: \"smooth\",\n          });\n          if (!rightActive) {\n            chevronRight.classList.add(\"active\");\n          }\n        }\n      },\n      true,\n    );\n\n    chevronRight.addEventListener(\n      \"click\",\n      function () {\n        let chevronLeft = document.getElementsByClassName(\n          \"content__mobilechevrons--left\",\n        )[0];\n        let chevronRight = document.getElementsByClassName(\n          \"content__mobilechevrons--right\",\n        )[0];\n        let selectorBox = document.getElementById(\"content__selectorbox\");\n        let selectorBoxWidth = selectorBox.offsetWidth;\n\n        let rightActive = chevronRight.classList.contains(\"active\");\n        let leftActive = chevronLeft.classList.contains(\"active\");\n        if (rightActive) {\n          // Get the last child element\n          if (\n            selectorBox.scrollLeft + selectorBoxWidth + selectorBoxWidth >=\n            selectorBox.scrollWidth\n          ) {\n            selectorBox.dataset.isScrolling = \"true\";\n            chevronRight.classList.remove(\"active\");\n            setTimeout(function () {\n              let selectorBox = document.getElementById(\"content__selectorbox\");\n              selectorBox.dataset.isScrolling = \"false\";\n            }, 700);\n            rightActive = false;\n          }\n          selectorBox.scrollTo({\n            left: selectorBox.scrollLeft + selectorBoxWidth,\n            behavior: \"smooth\",\n          });\n          if (!leftActive) {\n            chevronLeft.classList.add(\"active\");\n            leftActive = true;\n          }\n        }\n      },\n      true,\n    );\n\n    // add a scroll event to the selector box to disable/enable scroll when the user scrolls themselves\n    selectorBox.addEventListener(\n      \"scroll\",\n      function () {\n        let chevronLeft = document.getElementsByClassName(\n          \"content__mobilechevrons--left\",\n        )[0];\n        let chevronRight = document.getElementsByClassName(\n          \"content__mobilechevrons--right\",\n        )[0];\n        let selectorBox = document.getElementById(\"content__selectorbox\");\n        let selectorBoxWidth = selectorBox.offsetWidth;\n\n        if (selectorBox.dataset.isScrolling != undefined) {\n          if (selectorBox.dataset.isScrolling == \"true\") {\n            return;\n          }\n        }\n\n        let leftActive = chevronLeft.classList.contains(\"active\");\n        let rightActive = chevronRight.classList.contains(\"active\");\n\n        if (selectorBox.scrollLeft <= 0) {\n          chevronLeft.classList.remove(\"active\");\n        } else if (!leftActive) {\n          chevronLeft.classList.add(\"active\");\n        }\n\n        if (\n          selectorBox.scrollLeft >=\n          selectorBox.scrollWidth - selectorBoxWidth\n        ) {\n          chevronRight.classList.remove(\"active\");\n        } else if (!rightActive) {\n          chevronRight.classList.add(\"active\");\n        }\n      },\n      true,\n    );\n  }\n\n  // This is the collapse event for when you click the icon for an h3\n  collapseHeadingStyle(event) {\n    // Check the tags related to the current button\n    let openTags = event.currentTarget.dataset.open.split(\" \");\n    for (let i = 0; i < openTags.length; i++) {\n      let targetList = document.getElementsByClassName(openTags[i]);\n      // Get all objects that are possibly hidden\n      for (let target of targetList) {\n        if (target.hidden) {\n          target.hidden = false;\n          // Change the button depending on the current art\n          if (\n            event.currentTarget.firstChild.innerHTML == \"expand_circle_down\"\n          ) {\n            event.currentTarget.firstChild.innerHTML = \"expand_circle_up\";\n          }\n        } else if (i == 0) {\n          // Only hide if click target is the current heading level and is currently not hidden.\n          target.hidden = true;\n          // Change the button depending on the current art\n          if (event.currentTarget.firstChild.innerHTML == \"expand_circle_up\") {\n            event.currentTarget.firstChild.innerHTML = \"expand_circle_down\";\n          }\n        }\n      }\n    }\n  }\n\n  // This iterates over all headings and adds a click event that copies them to your clipboard\n  shareHeadings() {\n    // Get game section\n    let pathname = document.location.pathname;\n    // remove leading /\n    pathname = pathname.substring(1);\n    // check if pathname has a redirect string (a /) and get its target\n    let splitPath = pathname.split(\"/\");\n    if (splitPath.length > 1) {\n      pathname = splitPath[0];\n    }\n    var base_url = window.location.origin;\n\n    let headings = document.querySelectorAll(\"h3, h4\");\n    for (let heading of headings) {\n      heading.style.cursor = \"copy\";\n      heading.addEventListener(\"click\", function () {\n        navigator.clipboard.writeText(\n          base_url + \"/\" + pathname + \"/\" + heading.id,\n        );\n      });\n    }\n  }\n}\n", "// ---\n// directives.js contains styling functions for custom directives.\n//   this is after they are already treated as unique elements and get a tagging parameter\n//   we then change the original element here to show what is needed\n\nexport class Directives {\n  constructor(helperObj) {\n    // Bind methods if needed\n    this.compileDirectives = this.compileDirectives.bind(this);\n    this.sortTables = this.sortTables.bind(this);\n    this.treatSpoilers = this.treatSpoilers.bind(this);\n    this.styleImages = this.styleImages.bind(this);\n    this.compileTags = this.compileTags.bind(this);\n    this.helperObj = helperObj;\n    this.katexObj = null;\n  }\n\n  // This is used to set the KaTeX object from the main script\n  setKatex(katex) {\n    this.katexObj = katex;\n  }\n\n  // This transforms elements that were tagged (part of a custom directive) to something we can manipulate on HTML or with CSS\n  compileTags() {\n    //Iterator over every element that needs tagging\n    document\n      .querySelectorAll(\".tagging, .tagging-text\")\n      .forEach((taggedElement) => {\n        if (taggedElement.classList.contains(\"tagging-computed\")) {\n          return;\n        }\n        taggedElement.classList.add(\"tagging-computed\");\n        //Get tags from the first child (first heading), which are saved as JSON\n        let tagTextData = taggedElement.dataset.tags;\n        let tagData = JSON.parse(tagTextData.replace(/'/g, '\"'));\n\n        if (tagData.todo) {\n          //If it has a todo tag, add an icon with a tooltip.\n          let todoTag = document.createElement(\"span\");\n          todoTag.className = \"material-symbols-rounded\";\n          todoTag.style.color = \"goldenrod\";\n          todoTag.style.marginRight = \"15px\";\n          todoTag.style.cursor = \"help\";\n          todoTag.textContent = \"error\";\n          taggedElement.appendChild(todoTag);\n          todoTag.addEventListener(\"mouseover\", () => {\n            this.helperObj.loadTooltip(\n              todoTag,\n              \"This section needs work, is not confirmed or needs testing.\",\n            );\n          });\n          todoTag.addEventListener(\"mouseleave\", () => {\n            this.helperObj.unloadTooltip(todoTag);\n          });\n        }\n\n        if (tagData.sections) {\n          // Sections tag is for article selection in tech pages\n          let systemActive = \"checked\";\n          let systemSpan = \" <span>(LOADED)</span>\";\n          let bossesActive = \"\";\n          let bossesSpan = \"\";\n          let charActive = \"\";\n          let charSpan = \"\";\n          if (tagData.article == \"b\") {\n            bossesActive = \"checked\";\n            bossesSpan = \" <span>(LOADED)</span>\";\n            systemActive = \"\";\n            systemSpan = \"\";\n            charActive = \"\";\n            charSpan = \"\";\n          } else if (tagData.article == \"c\") {\n            charActive = \"checked\";\n            charSpan = \" <span>(LOADED)</span>\";\n            bossesActive = \"\";\n            bossesSpan = \"\";\n            systemActive = \"\";\n            systemSpan = \"\";\n          }\n          let currentDocument = this.helperObj.currentDocument;\n          let currentSection = this.helperObj.currentSection;\n          currentDocument = currentDocument.replace(\"-C\", \"\");\n          currentDocument = currentDocument.replace(\"-B\", \"\");\n          let sectionsHTML =\n            `\n          <div id=\"content__sections\">\n            <div class=\"content__sections--entry\">\n              <div class=\"content__sections--input-label\">\n                <input type=\"radio\" id=\"systems\" name=\"sections\" value=\"systems\" data-redirect=\"NONE\" data-document=\"` +\n            currentDocument +\n            `\" data-section=\"` +\n            currentSection +\n            `\" ` +\n            systemActive +\n            ` />\n                <label for=\"systems\">Systems` +\n            systemSpan +\n            `</label>\n              </div>\n              <p>Detailed information on the game's systems, techniques, and glitches.</p>\n            </div>\n            <div class=\"content__sections--entry\">\n              <div class=\"content__sections--input-label\">\n                <input type=\"radio\" id=\"characters\" name=\"sections\" value=\"characters\" data-redirect=\"NONE\" data-document=\"` +\n            currentDocument +\n            '-C\" data-section=\"' +\n            currentSection +\n            `\" ` +\n            charActive +\n            ` />\n                <label for=\"characters\">Characters` +\n            charSpan +\n            `</label>\n              </div>\n              <p>A breakdown of each character, such as notable arte properties, strategies, and character-specific techniques.</p>\n            </div>\n            <div class=\"content__sections--entry\">\n              <div class=\"content__sections--input-label\">\n                <input type=\"radio\" id=\"bosses\" name=\"sections\" value=\"bosses\" data-redirect=\"NONE\" data-document=\"` +\n            currentDocument +\n            '-B\" data-section=\"' +\n            currentSection +\n            `\" ` +\n            bossesActive +\n            ` />\n                <label for=\"bosses\">Bosses` +\n            bossesSpan +\n            `</label>\n              </div>\n              <p>A summary of each boss. Contains spoilers!</p>\n            </div>\n          </div>`;\n          let sectionsDiv = document.createElement(\"div\");\n          sectionsDiv.innerHTML = sectionsHTML;\n          taggedElement.appendChild(sectionsDiv);\n\n          // Add click event listeners to each radio input\n          document\n            .querySelectorAll('input[name=\"sections\"]')\n            .forEach((input) => {\n              this.helperObj.addPageChangeEvent(input);\n            });\n        }\n\n        if (tagData.versions) {\n          //If it has a version tag, add an icon with a tooltip which contains the value of the tag.\n          let versionText = \"Version: \";\n          versionText = versionText.concat(tagData.versions);\n          versionText = versionText.concat(\".\");\n          if (!this.helperObj.versionMap.has(tagData.versions)) {\n            this.helperObj.versionMap.set(\n              tagData.versions,\n              this.helperObj.colorList[this.helperObj.versionMap.size],\n            );\n          }\n          let versionTag = document.createElement(\"span\");\n          versionTag.className = \"material-symbols-rounded\";\n          versionTag.style.marginRight = \"15px\";\n          versionTag.style.cursor = \"help\";\n          versionTag.textContent = \"devices\";\n          versionTag.style.color =\n            \"var(--\" + this.helperObj.versionMap.get(tagData.versions) + \")\";\n          versionTag.style.filter = \"brightness(1.5)\";\n          taggedElement.appendChild(versionTag);\n          versionTag.addEventListener(\"mouseover\", () => {\n            this.helperObj.loadTooltip(versionTag, versionText);\n          });\n          versionTag.addEventListener(\"mouseleave\", () => {\n            this.helperObj.unloadTooltip(versionTag);\n          });\n        }\n\n        if (tagData.media) {\n          // Media works for both videos and images\n          const isImage =\n            tagData.media.includes(\".webp\") ||\n            tagData.media.includes(\".png\") ||\n            tagData.media.includes(\".jpg\") ||\n            tagData.media.includes(\"&ii\");\n          const mediaType = isImage ? \"img\" : \"video\";\n\n          // They both share a bunch of stuff but video has some extra options that need to be checked\n          //   this is used for both\n          const createMediaElement = (type, src, width, height, caption) => {\n            const mediaHolder = document.createElement(\"p\");\n            mediaHolder.style.opacity = \"1\";\n\n            // Specific parameters\n            let mediaTag;\n            if (type === \"img\") {\n              mediaTag = document.createElement(\"img\");\n            } else if (type === \"video\") {\n              mediaTag = document.createElement(\"video\");\n              mediaTag.preload = \"metadata\";\n              mediaTag.controls = true;\n              mediaTag.muted = true;\n              mediaTag.loop = true;\n              const source = document.createElement(\"source\");\n              source.src = src;\n              source.type = \"video/mp4\";\n              mediaTag.appendChild(source);\n            }\n\n            // Parameters that affect both videos and images\n            mediaTag.draggable = false;\n            mediaTag.width = width;\n            mediaTag.height = height;\n            mediaTag.style.order = 2;\n            mediaTag.style.width = \"80%\";\n            mediaTag.style.height = \"auto\";\n            mediaTag.style.maxWidth = \"640px\";\n            mediaTag.style.outline = \"none\";\n            mediaTag.style.borderRadius = \"14px\";\n            mediaTag.src = src;\n            mediaTag.alt = \"\";\n            mediaHolder.appendChild(mediaTag);\n\n            // \\xa0 is a non-breaking space character, just to make the underline look better\n            if (caption) {\n              const captionElement = document.createElement(\"figcaption\");\n              captionElement.textContent = \"\\xa0\" + caption + \"\\xa0\";\n              mediaHolder.appendChild(captionElement);\n            }\n            return mediaHolder;\n          };\n\n          // Again, different for video and image. This is for when you want to make videos or imgs not forced\n          //   so the user needs to click an icon for them to appear\n          const addMediaIcon = (type, src, caption) => {\n            const mediaTag = document.createElement(\"span\");\n            mediaTag.dataset.media = src;\n            mediaTag.className = \"material-symbols-rounded\";\n            mediaTag.style.marginRight = \"15px\";\n            mediaTag.style.cursor = \"pointer\";\n            mediaTag.textContent =\n              type === \"img\" ? \"imagesmode\" : \"play_circle\";\n            taggedElement.appendChild(mediaTag);\n\n            mediaTag.addEventListener(\"click\", (mediaIcon) => {\n              const mediaType = type === \"img\" ? \"img\" : \"video\";\n              const mediaTarget = document.querySelector(\n                `p[data-media~=\"${mediaIcon.target.dataset.media}\"]`,\n              );\n              if (mediaTarget == null) {\n                const mediaHolder = createMediaElement(\n                  mediaType,\n                  mediaIcon.target.dataset.media,\n                  640,\n                  480,\n                  caption,\n                );\n                mediaHolder.dataset.media = mediaIcon.target.dataset.media;\n                taggedElement.parentNode.insertBefore(\n                  mediaHolder,\n                  taggedElement.nextSibling,\n                );\n              } else {\n                mediaTarget.remove();\n              }\n            });\n          };\n\n          // If forced --> add the media, if not, add the icon.\n          if (tagData.forcedmedia !== false) {\n            const mediaHolder = createMediaElement(\n              mediaType,\n              tagData.media,\n              640,\n              480,\n              tagData.caption,\n            );\n            taggedElement.parentNode.insertBefore(\n              mediaHolder,\n              taggedElement.nextSibling,\n            );\n          } else {\n            addMediaIcon(mediaType, tagData.media, tagData.caption);\n          }\n        }\n\n        if (tagData.redirect) {\n          // If it has a redirect tag, create a div to be used with changePage function with data-section, data-document, and data-redirect\n          //   turn tagged element into a div\n          let redirectIcon = document.createElement(\"span\");\n          redirectIcon.className = \"material-symbols-rounded\";\n          redirectIcon.style.marginRight = \"5px\";\n          redirectIcon.textContent = \"link\";\n          taggedElement.classList.remove(\"tagging\");\n          taggedElement.classList.remove(\"tagging-text\");\n          taggedElement.classList.add(\"content__redirect\");\n          taggedElement.dataset.redirect = tagData.redirect;\n          if (tagData.document) {\n            taggedElement.dataset.document = tagData.document;\n            // search the list of objects at this.helperObj.fileList for the object with document tagData.document to get the section\n            taggedElement.dataset.section = this.helperObj.fileList.find(\n              (obj) => obj.document === tagData.document,\n            ).section;\n          } else {\n            taggedElement.dataset.document = this.helperObj.currentDocument;\n            taggedElement.dataset.section = this.helperObj.currentSection;\n          }\n          taggedElement.insertBefore(redirectIcon, taggedElement.firstChild);\n          this.helperObj.addPageChangeEvent(taggedElement);\n        }\n\n        if (tagData.reference) {\n          taggedElement.classList.remove(\"tagging\");\n          taggedElement.classList.remove(\"tagging-text\");\n          taggedElement.classList.add(\"content__redirect\");\n          taggedElement.dataset.redirect = \"#references\";\n          taggedElement.dataset.document = this.helperObj.currentDocument;\n          taggedElement.dataset.section = this.helperObj.currentSection;\n          this.helperObj.addPageChangeEvent(taggedElement);\n        }\n      });\n\n    document.querySelectorAll(\".tagging-katex\").forEach((taggedElement) => {\n      if (taggedElement.classList.contains(\"tagging-computed\")) {\n        return;\n      }\n      taggedElement.classList.add(\"tagging-computed\");\n\n      // Get the text content and replace the innerHTML with the KaTeX version\n      let katexText = taggedElement.innerHTML;\n      taggedElement.innerHTML = this.katexObj.renderToString(katexText);\n    });\n  }\n\n  // Style every directive for the current #content\n  compileDirectives() {\n    this.compileTags();\n    this.sortTables();\n    this.treatSpoilers();\n    this.styleImages();\n  }\n\n  // Tables is not a custom directives but a native one. We style them here anyways\n  sortTables() {\n    const getCellValue = (tr, idx) => {\n      return tr.children[idx].innerText || tr.children[idx].textContent;\n    };\n\n    // This sorts both numbers and text\n    const comparer = (idx, asc) => {\n      return (a, b) => {\n        return ((v1, v2) => {\n          return v1 !== \"\" && v2 !== \"\" && !isNaN(v1) && !isNaN(v2)\n            ? v1 - v2\n            : v1.toString().localeCompare(v2);\n        })(getCellValue(asc ? a : b, idx), getCellValue(asc ? b : a, idx));\n      };\n    };\n\n    document.querySelectorAll(\"th\").forEach((th) => {\n      // add a cosmetic sort span\n      th.innerHTML =\n        th.innerHTML +\n        '<span class=\"material-symbols-rounded\">swap_vert</span>';\n      th.addEventListener(\"click\", () => {\n        const table = th.closest(\"table\");\n        const tbody = table.querySelector(\"tbody\");\n        Array.from(tbody.querySelectorAll(\"tr\"))\n          .sort(\n            comparer(\n              Array.from(th.parentNode.children).indexOf(th),\n              (this.asc = !this.asc),\n            ),\n          )\n          .forEach((tr) => tbody.appendChild(tr));\n      });\n    });\n  }\n\n  // Spoilers have their background removed when clicked (only once)\n  treatSpoilers() {\n    document.querySelectorAll(\".spoiler\").forEach((spoilerElement) => {\n      spoilerElement.addEventListener(\"click\", (event) => {\n        event.target.style.background = \"transparent\";\n      });\n    });\n  }\n\n  // Styled by CSS (content.css)\n  styleImages() {\n    const imageList = document.getElementsByTagName(\"img\");\n    const contentElement = document.getElementById(\"content\");\n    for (let i = 0; i < imageList.length; i++) {\n      if (contentElement.contains(imageList[i])) {\n        imageList[i].classList.add(\"content__figure\");\n      }\n    }\n  }\n}\n", "// ---\n// helper.js, as the name implies, is for a lot of helper functions to other modules\n//   main creates an instance of it which can be used for various things\n//   a better alternative than sessionStorage and can also save live objects\n\nexport class Helper {\n  constructor(addPageChangeEvent, fileList) {\n    this.mouseDown = false;\n    this.startX = 0;\n    this.scrollLeft = 0;\n    this.startY = 0;\n    this.scrollTop = 0;\n    this.scrollButton = null;\n    this.rootElement = null;\n    this.colorList = [\"yellow\", \"teal\", \"green\", \"pink\", \"red\", \"blue\"];\n    this.versionMap = new Map();\n    this.scrollToTop = this.scrollToTop.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.dragScrollElement = this.dragScrollElement.bind(this);\n    this.rotateFlag = false;\n    this.leaveCounter = 0;\n    this.currentVelocity = 0;\n    this.currentSection = null;\n    this.currentDocument = null;\n    this.inTechPage = false;\n    this.addPageChangeEvent = addPageChangeEvent;\n    this.fileList = fileList;\n  }\n\n  updateStatus(document, section, inTechPage) {\n    this.currentDocument = document;\n    this.currentSection = section;\n    this.inTechPage = inTechPage;\n    this.versionMap = new Map();\n  }\n\n  // --- Logo functions\n  logoInit() {\n    // Add nav-bar events --> logo rotation\n    this.titleElement = document.querySelector(\"#nav-bar__title\");\n    this.titleElement.addEventListener(\n      \"mouseenter\",\n      this.startRotateLogo.bind(this),\n    );\n    this.titleElement.addEventListener(\n      \"mouseleave\",\n      this.stopRotateLogo.bind(this),\n    );\n  }\n\n  addLogoVelocity() {\n    // When clicking on any game, rotate the logo a bit\n    if (!this.rotateFlag && this.leaveCounter == 0) {\n      this.currentVelocity = 4;\n      this.leaveCounter = 200;\n      requestAnimationFrame(this.rotateLogo.bind(this));\n    } else {\n      this.currentVelocity = 4;\n      this.leaveCounter = 200;\n    }\n  }\n\n  startRotateLogo() {\n    // On mouseover, start animation\n    if (!this.rotateFlag && this.leaveCounter == 0) {\n      this.rotateFlag = true;\n      requestAnimationFrame(this.rotateLogo.bind(this));\n    } else {\n      this.rotateFlag = true;\n      this.leaveCounter = 200;\n    }\n  }\n\n  stopRotateLogo() {\n    // On mouseleave, change flag so rotateLogo() makes the logo slow down\n    this.rotateFlag = false;\n  }\n\n  rotateLogo() {\n    // Get logo style properties\n    let logo = document.querySelector(\"#nav-bar__title__logo\");\n    let st = getComputedStyle(logo, null);\n    // Get transform property\n    let tr = st.getPropertyValue(\"transform\");\n    let values = tr.split(\"(\")[1].split(\")\")[0].split(\",\");\n    let a = values[0];\n    let b = values[1];\n    // Convert angle\n    let currentAngle = Math.atan2(b, a) * (180 / Math.PI);\n    // Speed up if the mouse is in the logo, slow down if not\n    if (this.rotateFlag) {\n      if (this.currentVelocity < 1.8) {\n        this.currentVelocity = this.currentVelocity + 0.06;\n      }\n    } else {\n      if (this.currentVelocity > 0) {\n        this.currentVelocity = this.currentVelocity - 0.03;\n      }\n    }\n\n    if (this.currentVelocity < 0) {\n      this.currentVelocity = 0;\n    }\n\n    if (currentAngle < 0) {\n      currentAngle = currentAngle + 360;\n    }\n\n    let angle = this.currentVelocity + currentAngle;\n\n    // Update style and start animation again\n    logo.style.transform = \"rotate(\" + angle + \"deg)\";\n\n    if (this.rotateFlag) {\n      this.leaveCounter = 200;\n      requestAnimationFrame(this.rotateLogo.bind(this));\n    } else {\n      // If flag is not set, keep running for a maximum of 200 frames to show the logo slowing down\n      this.leaveCounter--;\n      if (this.currentVelocity <= 0) {\n        this.leaveCounter = 0;\n      }\n      if (this.leaveCounter > 0) {\n        requestAnimationFrame(this.rotateLogo.bind(this));\n      }\n    }\n  }\n\n  // --- Scroll functions\n  scrollInit() {\n    //Add scroll button events (icon that appears when you pass ToC)\n    this.scrollButton = document.querySelector(\"#scroll__button--to-top\");\n    this.rootElement = document.documentElement;\n    this.scrollButton.addEventListener(\"click\", this.scrollToTop);\n    window.addEventListener(\"scroll\", this.handleScroll);\n  }\n\n  // --- Functions related to scrolling effects\n  // Checks if scroll icon should be shown to user\n  handleScroll(event) {\n    event.preventDefault();\n    //Get current scroll position\n    let scrollTotal =\n      this.rootElement.scrollHeight - this.rootElement.clientHeight;\n    //Get TOC if it exists\n    let toc = document.getElementById(\"content__selectorbox\");\n    let tocLocation = 0;\n    if (toc != null) {\n      //If the content selector exists, calculate the difference between the selector location and the top of the page\n      let bodyRect = document.body.getBoundingClientRect(),\n        elemRect = toc.getBoundingClientRect(),\n        offset = elemRect.top - bodyRect.top;\n\n      if (offset > 0) {\n        tocLocation = offset;\n      }\n    }\n\n    //Test if current scroll position is past the top of the page or the top of the TOC\n    if ((this.rootElement.scrollTop - tocLocation) / scrollTotal > 0.05) {\n      // Show button on 5% scroll down\n      this.scrollButton.classList.add(\"scroll__button--to-top--show\");\n    } else {\n      // Hide button else\n      this.scrollButton.classList.remove(\"scroll__button--to-top--show\");\n    }\n  }\n\n  scrollToTop() {\n    //Get content selector if it exists\n    let toc = document.getElementById(\"content__selectorbox\");\n    let tocLocation = 0;\n    if (toc != null) {\n      //If the selector exists, calculate the difference between the selector location and the top of the page\n      let bodyRect = document.body.getBoundingClientRect(),\n        elemRect = toc.getBoundingClientRect(),\n        offset = elemRect.top - bodyRect.top;\n\n      if (offset > 0) {\n        tocLocation = offset - 20;\n      }\n    }\n    //Scroll either to top of the page or to the selector smoothly\n    window.requestAnimationFrame(() => {\n      let behavior = \"smooth\";\n      if (navigator.userAgent.includes(\"Chrome\")) {\n        let pieces = navigator.userAgent.match(\n          /Chrom(?:e|ium)\\/([0-9]+)\\.([0-9]+)\\.([0-9]+)\\.([0-9]+)/,\n        );\n        if (pieces.length >= 1) {\n          // Chromes versions below 130 have a bug that will interefere with scrollTo and cause it to stop mid-way.\n          if (!isNaN(pieces[1])) {\n            if (Number(pieces[1]) < 130) {\n              behavior = \"auto\";\n            }\n          } else {\n            behavior = \"auto\";\n          }\n        }\n      }\n      this.rootElement.scrollTo({\n        top: tocLocation,\n        behavior: behavior,\n      });\n    });\n  }\n\n  // --- Tooltip functions\n  loadTooltip(tooltip, tooltipText) {\n    // Create tooltip element\n    let base = document.createElement(\"tooltip\");\n    base.id = \"nav-bar__tooltip\";\n    let tip = document.createTextNode(tooltipText);\n    if (tooltip != null) {\n      // Set tooltip contents\n      base.innerHTML = \"\";\n      base.appendChild(tip);\n      // Remove existing tooltip if needed\n      if (document.getElementsByTagName(\"tooltip\")[0]) {\n        document.getElementsByTagName(\"tooltip\")[0].remove();\n      }\n      // Set tooltip location and add it to the page\n      let boundingBox = tooltip.getBoundingClientRect();\n      base.style.top = boundingBox.bottom - 10 + \"px\";\n      base.style.left = boundingBox.right + \"px\";\n      document.body.appendChild(base);\n    }\n  }\n\n  unloadTooltip() {\n    // Remove existing tooltip\n    if (document.getElementsByTagName(\"tooltip\")[0]) {\n      document.getElementsByTagName(\"tooltip\")[0].remove();\n    }\n  }\n\n  // --- Drag function for h2s and TOC\n  dragScrollElement(query, direction) {\n    const sliderSelector = document.querySelector(query);\n    if (sliderSelector == null) {\n      return;\n    }\n\n    const startDraggingX = (e) => {\n      this.mouseDown = true;\n      this.startX = e.pageX - sliderSelector.offsetLeft;\n      if (isNaN(this.startX)) {\n        this.startX = e.changedTouches[0].pageX - sliderSelector.offsetLeft;\n      }\n      this.scrollLeft = sliderSelector.scrollLeft;\n    };\n\n    const startDraggingY = (e) => {\n      this.mouseDown = true;\n      this.startY = e.pageY - sliderSelector.offsetTop;\n      if (isNaN(this.startY)) {\n        this.startY = e.changedTouches[0].pageY - sliderSelector.offsetTop;\n      }\n      this.scrollTop = sliderSelector.scrollTop;\n    };\n\n    const moveX = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (!this.mouseDown) {\n        return;\n      }\n      const x = e.pageX - sliderSelector.offsetLeft;\n      const scroll = x - this.startX;\n      if (isNaN(x)) {\n        const x = e.changedTouches[0].pageX - sliderSelector.offsetLeft;\n        const scroll = x - this.startX;\n        sliderSelector.scrollLeft = this.scrollLeft - scroll;\n      } else {\n        sliderSelector.scrollLeft = this.scrollLeft - scroll;\n      }\n    };\n\n    const moveY = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (!this.mouseDown) {\n        return;\n      }\n      const y = e.pageY - sliderSelector.offsetTop;\n      const scroll = y - this.startY;\n      if (isNaN(y)) {\n        const y = e.changedTouches[0].pageY - sliderSelector.offsetTop;\n        const scroll = y - this.startY;\n        sliderSelector.scrollTop = this.scrollTop - scroll;\n      } else {\n        sliderSelector.scrollTop = this.scrollTop - scroll;\n      }\n    };\n\n    const stopDragging = () => {\n      this.mouseDown = false;\n    };\n\n    // Add the event listeners\n    if (direction == 1) {\n      sliderSelector.addEventListener(\"mousemove\", moveY, false);\n      sliderSelector.addEventListener(\"mousedown\", startDraggingY, false);\n      sliderSelector.addEventListener(\"mouseup\", stopDragging, false);\n      sliderSelector.addEventListener(\"mouseleave\", stopDragging, false);\n\n      // For mobile\n      sliderSelector.addEventListener(\"touchmove\", moveY, false);\n      sliderSelector.addEventListener(\"touchstart\", startDraggingY, false);\n      sliderSelector.addEventListener(\"touchend\", stopDragging, false);\n    } else {\n      sliderSelector.addEventListener(\"mousemove\", moveX, false);\n      sliderSelector.addEventListener(\"mousedown\", startDraggingX, false);\n      sliderSelector.addEventListener(\"mouseup\", stopDragging, false);\n      sliderSelector.addEventListener(\"mouseleave\", stopDragging, false);\n\n      // For mobile\n      sliderSelector.addEventListener(\"touchmove\", moveX, false);\n      sliderSelector.addEventListener(\"touchstart\", startDraggingX, false);\n      sliderSelector.addEventListener(\"touchend\", stopDragging, false);\n    }\n  }\n}\n", "// ---------\n// main.js is the entry point for our code.\n//   inits all other modules\n//   controls parsing of markdown files\n//   controls page flow\n//   handles load order\n// Additionally, the current available game list is kept here in the fileList.\n//   update fileList to add a new tech page!\n\nimport { Parser } from \"./parser.js\";\nimport { Search } from \"./search.js\";\nimport { TOC } from \"./toc.js\";\nimport { Headings } from \"./headings.js\";\nimport { Directives } from \"./directives.js\";\nimport { Helper } from \"./helper.js\";\n\n// Every page we need to load\nvar parsedDocuments = new Map();\n// Add new documents here!!\nvar fileList = [\n  { document: \"./README\", section: \"README\", dim: \"N/A\", ref: \"readme\" },\n  {\n    document: \"./STYLING\",\n    section: \"Doucment Syling\",\n    dim: \"N/A\",\n    ref: \"styling\",\n  },\n  {\n    document: \"./CONTRIBUTING\",\n    section: \"How to Contribute\",\n    dim: \"N/A\",\n    ref: \"contributing\",\n  },\n  { document: \"TODPS2\", section: \"Tales of Destiny\", dim: \"2D\", ref: \"todps2\" },\n  {\n    document: \"TODPS2-C\",\n    section: \"Tales of Destiny\",\n    dim: \"2D\",\n    ref: \"todps2-c\",\n  },\n  {\n    document: \"TODPS2-B\",\n    section: \"Tales of Destiny\",\n    dim: \"2D\",\n    ref: \"todps2-b\",\n  },\n  { document: \"TOL\", section: \"Tales of Legendia\", dim: \"2D\", ref: \"tol\" },\n  { document: \"TOA\", section: \"Tales of Arise\", dim: \"3D\", ref: \"toa\" },\n  { document: \"TOV\", section: \"Tales of Vesperia\", dim: \"3D\", ref: \"tov\" },\n  { document: \"TOTA\", section: \"Tales of the Abyss\", dim: \"3D\", ref: \"tota\" },\n  { document: \"TOX2\", section: \"Tales of Xillia 2\", dim: \"3D\", ref: \"tox2\" },\n  { document: \"TOZ\", section: \"Tales of Zestiria\", dim: \"3D\", ref: \"toz\" },\n  { document: \"HOME\", section: \"HOME\", dim: \"N/A\", ref: \"\" },\n];\n\n// --- Module Objects\nvar searchObj = null;\nvar tocObj = null;\nvar helperObj = new Helper(addPageChangeEvent, fileList);\nvar headingsObj = new Headings(helperObj, fileList);\nvar directivesObj = new Directives(helperObj);\nvar parserObj = new Parser();\n\n// Create an array of promises for parsing each document\nvar parsePromises = fileList.map((item) => {\n  if (item.document.includes(\"./\")) {\n    return parserObj.parseGFM(item.document).then((page) => {\n      parsedDocuments.set(item, page);\n    });\n  } else if (item.document == \"HOME\") {\n    return parserObj.asyncRead(\"./home.html\").then((page) => {\n      parsedDocuments.set(item, page);\n    });\n  } else {\n    return parserObj\n      .parseGFM(\"./tech/\" + item.document.toLowerCase())\n      .then((page) => {\n        parsedDocuments.set(item, page);\n      });\n  }\n});\n\nvar currentDocument = null;\nvar katexLoaded = false;\n\n// Check if DOM elements are ready, if yes, we can start running stuff\nif (document.readyState === \"loading\") {\n  document.addEventListener(\"DOMContentLoaded\", pageInit);\n} else {\n  pageInit();\n}\n// --- Search and click redirections\nfunction pageInit() {\n  // Add redirect links for title and footer\n  document\n    .querySelectorAll(\n      \"div#nav-bar__title, p.footer-container__help--links, img#title-text__img\",\n    )\n    .forEach((item) => {\n      addPageChangeEvent(item);\n    });\n\n  // Fill nav-bar search and game results\n  //   initSearchIcons() also already adds page change events to search results\n  // Wait for all parsing promises to complete\n  Promise.all(parsePromises).then(() => {\n    searchObj = new Search(parsedDocuments, addPageChangeEvent);\n    searchObj.initSearchIcons();\n    searchObj.initOnboardingIcon();\n\n    tocObj = new TOC(helperObj);\n\n    helperObj.scrollInit();\n    helperObj.logoInit();\n\n    // Setup History handlers\n    // Handle forward/back buttons\n    window.addEventListener(\"popstate\", (event) => {\n      // If a state has been provided, we have a \"simulated\" page\n      // and we update the current page.\n      event.preventDefault();\n      event.stopPropagation();\n      if (event.state) {\n        // Simulate the loading of the previous page\n        changeEventObj({ ...event.state, pushState: false });\n      } else {\n        // No state -- page is home\n        changeEventObj({ document: \"HOME\", section: \"HOME\", pushState: false });\n      }\n    });\n    // Handle base page URL (first view) -- in case the user wants to load a certain page from the get-go\n    let pathname = document.location.pathname;\n    // remove leading /\n    pathname = pathname.substring(1);\n    let ref = pathname;\n    // check if pathname has a redirect string (a /) and get its target\n    let splitPath = pathname.split(\"/\");\n    let redirect = \"\";\n    if (splitPath.length > 1) {\n      redirect = splitPath[1];\n      ref = splitPath[0];\n    }\n\n    // Iterate over fileList and replace the initial history\n    for (let obj of fileList) {\n      if (obj.ref == ref) {\n        if (redirect != \"\") {\n          changeEventObj({\n            ...obj,\n            redirect: \"#\" + redirect,\n            pushState: false,\n          });\n          window.history.replaceState(\n            JSON.parse(JSON.stringify({ ...obj, redirect: \"#\" + redirect })),\n            obj.section,\n            pathname,\n          );\n        } else {\n          changeEventObj({ ...obj, pushState: false });\n          window.history.replaceState(\n            JSON.parse(JSON.stringify(obj)),\n            obj.section,\n            pathname,\n          );\n        }\n        break;\n      }\n    }\n  });\n}\n\n// --- Page flow:\n//     elements have the addPageChangeEvent on them, which when called will either load a\n//     tech page, the home page, or a standalone page (e.g., readme)\n//\n//     for tech pages the flow is changeEvent -> changeEventObj -> changeDocument -> toTech -> compileH2s -> updatePage\n//     for the homepage the flow is ... -> changeDocument -> toHome -> prepHome\n//     for standalone pages the flow is ... -> changeDocument -> toPage -> updatePage\n//\n//     changeEvent and changeEventObj are split because you can also call a page without an event, simply creating a pseudo-dataset object.\n//     this is currently done for routing.\n\n// --- Function for click events on redirects\nexport function addPageChangeEvent(item) {\n  // Remove the previous event if one exist. This is a bandaid fix fo the fillSearch function.\n  let inputField = document.querySelector(\"#nav-bar__search--input\");\n  if (inputField != null) {\n    inputField.blur();\n  }\n  item.removeEventListener(\"click\", changeEvent);\n  item.addEventListener(\"click\", changeEvent);\n}\n\n// Prevent redirections and propagations and calls the change event based on the dataset of the target\nfunction changeEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n  // remove focus from search bar\n  let inputField = document.querySelector(\"#nav-bar__search--input\");\n  if (inputField != null) {\n    document.activeElement.blur();\n    inputField.blur();\n  }\n\n  changeEventObj(event.currentTarget.dataset);\n}\n\n// Function to make sure Katex is loaded before changing the page, then calls changeDocument\n//   the only data that is downloaded as the page is being loaded are images, videos, and Katex\n// This is also the function called by the history API -- this way we don't need an event like changeEvent()\nfunction changeEventObj(dataset) {\n  var parsedKatex = null;\n\n  if (!katexLoaded) {\n    parsedKatex = new Promise((resolve) => {\n      // Create a script element for KaTeX JavaScript\n      import(\"./katex.min.js\").then((module) => {\n        directivesObj.setKatex(module.default);\n        // Create a link element for KaTeX CSS\n        const link = document.createElement(\"link\");\n        link.rel = \"stylesheet\";\n        link.crossOrigin = \"anonymous\";\n        link.href = \"styles/katex.min.css\"; // URL to the KaTeX CSS\n        link.onload = () => {\n          resolve(\"KaTeX JS and CSS loaded\");\n        };\n\n        // Append the link to the head\n        document.head.appendChild(link);\n      });\n    });\n\n    parsedKatex.then(() => {\n      katexLoaded = true;\n      changeDocument(dataset);\n    });\n  } else {\n    changeDocument(dataset);\n  }\n}\n\n// Function to handle changes to content\nfunction changeDocument(dataset) {\n  // Get the content element to change the document presented on the page\n  let contentText = document.getElementById(\"content\");\n\n  // Clear active search result\n  searchObj.clearFunction();\n  helperObj.addLogoVelocity();\n\n  if (dataset.document == \"HOME\") {\n    // Redirect to home page\n    toHome(contentText, dataset);\n    contentText.style.minHeight = \"600px\";\n  } else {\n    if (dataset.document.includes(\"./\")) {\n      // Redirect to pages like the readme, document styling...\n      contentText.style.minHeight = \"600px\";\n      toPage(contentText, dataset);\n    } else {\n      //Event is a tech document, set the section as the game name and update the content\n      contentText.style.minHeight = \"100vh\";\n      toTech(contentText, dataset);\n    }\n  }\n}\n\n// --- Load Home Page\nfunction toHome(contentText, dataset) {\n  let pastDocument = currentDocument;\n  currentDocument = dataset.document;\n  if (currentDocument != pastDocument) {\n    tocObj.clearHeadings();\n    helperObj.updateStatus(\"HOME\", \"HOME\", false);\n    tocObj.clearSectionTOC();\n    // Removes #content__tocicon if it exists\n    // load content from home.html fil and apply to contentText\n    let parsedPage = null;\n\n    // Iterate over the entries in parsedDocuments to find the matching document\n    for (const [key, value] of parsedDocuments.entries()) {\n      if (key.document === \"HOME\") {\n        parsedPage = value;\n        break;\n      }\n    }\n\n    contentText.innerHTML = parsedPage;\n    // Set options for SEO\n    document.title = \"Tales Tech Encyclopedia\";\n    document\n      .querySelector('meta[name=\"description\"]')\n      .setAttribute(\n        \"content\",\n        \"Tales Tech Encyclopedia (TTE), is a project that aims to document techniques and mechanics on the games of the 'Tales of Series'.\",\n      );\n\n    // Set history if this is not a pop (user did a back or forward on the page)\n    if (dataset.pushState == null) {\n      window.history.pushState(\n        JSON.parse(JSON.stringify(dataset)),\n        window.title,\n        \"/\",\n      );\n    }\n    prepHome();\n    searchObj.initOnboardingIcon();\n  }\n}\n\n// --- Add functionality to the home page\nfunction prepHome() {\n  document.querySelectorAll(\"span.content__redirect\").forEach((item) => {\n    addPageChangeEvent(item);\n  });\n  for (let elem of document.querySelectorAll(\n    \".content__home__showcase-item--play\",\n  )) {\n    elem.addEventListener(\"click\", function () {\n      if (event.currentTarget.innerHTML == \"play_circle\") {\n        event.currentTarget.innerHTML = \"stop_circle\";\n        // create child in parent element (so sibling of target), that is a video source\n        let video = document.createElement(\"video\");\n        video.src = event.currentTarget.dataset.video;\n        video.className = \"content__home__showcase-item--video\";\n        video.autoplay = true;\n        video.controls = false;\n        video.muted = true;\n        video.loop = true;\n        event.currentTarget.parentElement.appendChild(video);\n        setTimeout(\n          (video) => {\n            video.style.opacity = 1;\n          },\n          50,\n          video,\n        );\n      } else {\n        // try and find the video element, set opacity to 0, and remove it after 2 seconds\n        let video = event.currentTarget.parentElement.querySelector(\n          \".content__home__showcase-item--video\",\n        );\n        if (video != null) {\n          video.style.opacity = 0;\n          setTimeout(\n            ([element, video]) => {\n              video.remove();\n              element.innerHTML = \"play_circle\";\n            },\n            500,\n            [event.currentTarget, video],\n          );\n        } else {\n          event.currentTarget.innerHTML = \"play_circle\";\n        }\n      }\n    });\n  }\n}\n\n// --- Load Generic Page\nfunction toPage(contentText, dataset) {\n  let pastDocument = currentDocument;\n  currentDocument = dataset.document;\n  if (currentDocument != pastDocument) {\n    tocObj.clearHeadings();\n    helperObj.updateStatus(dataset.document, dataset.section, false);\n    tocObj.clearSectionTOC();\n    const documentKey = dataset.document;\n    let parsedPage = null;\n\n    // Iterate over the entries in parsedDocuments to find the matching document\n    for (const [key, value] of parsedDocuments.entries()) {\n      if (key.document === documentKey) {\n        parsedPage = value;\n        break;\n      }\n    }\n\n    contentText.innerHTML = parsedPage;\n    // Update page & Clear active search results\n    updatePage();\n    // Set options for SEO\n    document.title = \"Tales Tech Encyclopedia\";\n    document\n      .querySelector('meta[name=\"description\"]')\n      .setAttribute(\n        \"content\",\n        \"Tales Tech Encyclopedia (TTE), is a project that aims to document techniques and mechanics on the games of the 'Tales of Series'.\",\n      );\n    const url = \"/\" + currentDocument.toLowerCase();\n    // Set history if this is not a pop (user did a back or forward on the page)\n    if (dataset.pushState == null) {\n      window.history.pushState(\n        JSON.parse(JSON.stringify(dataset)),\n        window.title,\n        url,\n      );\n    }\n    document.querySelector(\"#nav-bar\").scrollIntoView({\n      behavior: \"smooth\",\n    });\n  }\n}\n\n// --- Load Tech Page\nfunction toTech(contentText, dataset) {\n  helperObj.updateStatus(dataset.document, dataset.section, true);\n  // Check if the page to load is the same one\n  let pastDocument = currentDocument;\n  currentDocument = dataset.document;\n  if (currentDocument == pastDocument) {\n    // If yes --> Just redirect\n    if (dataset.redirect != null) {\n      //Event has a redirect location, collapse the headings if needed\n      searchObj.revealID(dataset.redirect.substring(1));\n      document.querySelector(dataset.redirect).scrollIntoView({\n        behavior: \"smooth\",\n      });\n    } else {\n      //No redirect location, scroll to top\n      document.querySelector(\"#nav-bar\").scrollIntoView({\n        behavior: \"smooth\",\n      });\n    }\n  } else {\n    tocObj.clearHeadings();\n    tocObj.clearSectionTOC();\n    const documentKey = dataset.document;\n    let parsedPage = null;\n\n    // Iterate over the entries in parsedDocuments to find the matching document\n    for (const [key, value] of parsedDocuments.entries()) {\n      if (key.document === documentKey) {\n        parsedPage = value;\n        break;\n      }\n    }\n    contentText.style.visibility = \"hidden\";\n    contentText.innerHTML = parsedPage;\n    // Set options for SEO\n    document.title = \"TTE - \" + dataset.section;\n    document\n      .querySelector('meta[name=\"description\"]')\n      .setAttribute(\n        \"content\",\n        \"Tales Tech Encyclopedia (TTE) article on \" + dataset.section + \".\",\n      );\n    // URL is either currentDocument (e.g., /tov) or that + redirect (e.g., /tov/test-test)\n    const url =\n      \"/\" +\n      currentDocument.toLowerCase() +\n      (dataset.redirect && dataset.redirect !== \"NONE\"\n        ? \"/\" + dataset.redirect.substring(1)\n        : \"\");\n    // Set history if this is not a pop (user did a back or forward on the page)\n    if (dataset.pushState == null) {\n      window.history.pushState(\n        JSON.parse(JSON.stringify(dataset)),\n        window.title,\n        url,\n      );\n    }\n    headingsObj.collapseHeadings(contentText);\n    //Update page & Clear search results\n    compileH2s();\n    //updatePage(); compileH2s has an updatePage() call already.\n    if (dataset.redirect != null) {\n      if (dataset.redirect != \"NONE\") {\n        //Event has a redirect location, collapse the headings if needed\n        searchObj.revealID(dataset.redirect.substring(1));\n        // Set timeout to give time to page to update (it also looks nice)\n        setTimeout(() => {\n          document.querySelector(dataset.redirect).scrollIntoView({\n            behavior: \"smooth\",\n          });\n        }, 250);\n      }\n    } else {\n      //No redirect location, scroll to top\n      document.querySelector(\"#nav-bar\").scrollIntoView({\n        behavior: \"smooth\",\n      });\n    }\n  }\n}\n\n// --- Generic actions every time the page is updated\nexport function updatePage() {\n  // Treat custom directives\n  directivesObj.compileDirectives();\n  // Create TOC\n  tocObj.createTOC(currentDocument);\n  // Add redirect to TOC\n  document.querySelectorAll(\".content__toc--search\").forEach((item) => {\n    addPageChangeEvent(item);\n  });\n  // Copy headings URL on click\n  headingsObj.shareHeadings();\n}\n\n// Adds functionality to the h2 section divider and opens the first one\nfunction compileH2s() {\n  // Add events to selector tab\n  document\n    .querySelectorAll(\".content__selectorbox--item\")\n    .forEach((selectorBox) => {\n      selectorBox.style.setProperty(\n        \"--highlight-color\",\n        selectorBox.dataset.highlight,\n      );\n      selectorBox.addEventListener(\"click\", (event) => {\n        // iterate every selectorbox--item\n        // -- remove selected status from other elements\n        document\n          .querySelectorAll(\".content__selectorbox--item\")\n          .forEach((selectorBox) => {\n            selectorBox.className = \"content__selectorbox--item\";\n          });\n        // add selected status to the clicked selectorbox--item\n        event.currentTarget.className = \"content__selectorbox--item selected\";\n        // replace content_currenth2 with data from h2Collectio[x][3]\n        // select the h2Collection based on the current selectorBox.dataset.open\n        let currentCollection = headingsObj\n          .returnH2Collection()\n          .filter((h2) => h2[0] == event.currentTarget.dataset.open);\n        document.getElementById(\"content__currenth2\").innerHTML =\n          currentCollection[0][2];\n\n        // Adds click events for the buttons\n        document.querySelectorAll(\".content__collapse\").forEach((button) => {\n          button.addEventListener(\"click\", headingsObj.collapseHeadingStyle);\n        });\n        updatePage();\n        tocObj.highlightTOC();\n      });\n    });\n\n  // Opens first H2\n  document.querySelectorAll(\".content__selectorbox--item\")[0].click();\n}\n"],
  "mappings": "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EAAatM,EAAM,IAAI,UAAU,KAAK,OACtCA,EAAM,IAAI,UAAU,KAAKsM,CAAU,EAAI,CAAE,MAAOpL,EAAO,MAAO,CAAE,EAChElB,EAAM,IAAI,UAAU,KAAK,IAAMkB,CAAK,EAAIoL,GAExCA,EAAatM,EAAM,IAAI,UAAU,KAAK,IAAMkB,CAAK,EAGnDuL,EAAgBzM,EAAM,IAAI,UAAU,KAAKsM,CAAU,EAAE,MACrDtM,EAAM,IAAI,UAAU,KAAKsM,CAAU,EAAE,QAErCtM,EAAM,KAAK,CACT,KAAM,eACN,GAAIsM,EACJ,MAAOG,EACP,MAAOzM,EAAM,KACf,CAAC,GAGHA,EAAM,IAAMiB,EACZjB,EAAM,OAASY,EACR,GACT,CAKA,IAAI8L,GAAc,CAChB,OACA,MACA,aACA,MACA,OACA,QACA,OACA,MACA,MACA,OACA,OACA,MACA,OACA,MACA,OACA,MACA,MACA,KACA,SACA,OACA,OACA,QACA,MACA,OACA,KACA,OACA,OACA,MACA,OACA,YACA,WACA,YACA,WACA,OACA,SACA,MACA,OACA,QACA,OACA,UACA,OACA,MACA,KACA,MACA,OACA,kBACA,MACA,OACA,OACA,UACA,UACA,QACA,QACA,MACA,OACA,MACA,OACA,YACA,aACA,MACA,MACA,SACA,OACA,cACA,SACA,MACA,KACA,MACA,QACA,KACA,MACA,OACA,cACA,cACA,eACA,OACA,UACA,UACA,YACA,MACA,MACA,MACA,MACA,aACA,KACA,UACA,UACA,OACA,SACA,SACA,mBACA,0BACA,UACA,MACA,kBACA,qBACA,MACA,MACA,OACA,WACA,OACA,SACA,OACA,KACA,MACA,eACA,QACA,MACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,UACA,SACA,QACA,SACA,OACA,SACA,UACA,MACA,UACA,QACA,SACA,MACA,QACA,MACA,OACA,YACA,WACA,QACA,OACA,QACA,MACA,WACA,MACA,QACA,OACA,aACA,OACA,MACA,QACA,MACA,SACA,UACA,MACA,QACA,MACA,YACA,SACA,MACA,SACA,SACA,WACA,cACA,SACA,OACA,UACA,QACA,MACA,OACF,EAMIC,GAAc,2IACdC,GAAc,2CAGlB,SAASC,GAAS7M,EAAOmG,EAAQ,CAC/B,IAAI2G,EAAMC,EAAWC,EAAYzL,EAAK0L,EAAShM,EAAMjB,EAAM,IAM3D,OAJIA,EAAM,IAAI,WAAWiB,CAAG,IAAM,KAElC6L,EAAO9M,EAAM,IAAI,MAAMiB,CAAG,EAEtB6L,EAAK,QAAQ,GAAG,EAAI,GAAY,IAEpCC,EAAYD,EAAK,MAAMF,EAAW,EAE9BG,EACEL,GAAY,QAAQK,EAAU,CAAC,EAAE,YAAY,CAAC,EAAI,IAEtDxL,EAAMwL,EAAU,CAAC,EAAE,MAAM,EAAG,EAAE,EAC9BE,EAAU3L,GAAcC,CAAG,EACvB,CAACvB,EAAM,OAAO,aAAauB,CAAG,GAAY,IAEzC4E,IACHnG,EAAM,KAAK,CACT,KAAM,YACN,KAAMiN,EACN,MAAOjN,EAAM,KACf,CAAC,EACDA,EAAM,KAAK,CACT,KAAM,OACN,QAASuB,EACT,MAAOvB,EAAM,MAAQ,CACvB,CAAC,EACDA,EAAM,KAAK,CAAE,KAAM,aAAc,MAAOA,EAAM,KAAM,CAAC,GAGvDA,EAAM,KAAO+M,EAAU,CAAC,EAAE,OACnB,KAGTC,EAAaF,EAAK,MAAMH,EAAQ,EAE5BK,GAEFzL,EAAMyL,EAAW,CAAC,EAAE,MAAM,EAAG,EAAE,EAE/BC,EAAU3L,GAAc,UAAYC,CAAG,EAClCvB,EAAM,OAAO,aAAaiN,CAAO,GAEjC9G,IACHnG,EAAM,KAAK,CACT,KAAM,YACN,KAAMiN,EACN,MAAOjN,EAAM,KACf,CAAC,EACDA,EAAM,KAAK,CACT,KAAM,OACN,QAASuB,EACT,MAAOvB,EAAM,MAAQ,CACvB,CAAC,EACDA,EAAM,KAAK,CAAE,KAAM,aAAc,MAAOA,EAAM,KAAM,CAAC,GAGvDA,EAAM,KAAOgN,EAAW,CAAC,EAAE,OACpB,IAjB2C,IAoB7C,IACT,CAIA,SAASE,EAAUC,EAAOjQ,EAAS,CACjC,OAAAiQ,EAAQA,EAAM,OACdjQ,EAAUA,GAAW,GAEd,SAASgC,EAAKD,EAAMoB,EAAK,CAC9B,OAAKpB,GAGLoB,EAAMA,EAAI,QAAUA,EACpB8M,EAAQA,EAAM,QAAQlO,EAAMoB,CAAG,EACxBnB,GAJE,IAAI,OAAOiO,EAAOjQ,CAAO,CAKpC,CACF,CAGA,IAAIkQ,GAAgB,6BAEhBC,GAAgB,sBAChBC,GAAgB,UAChBC,GAAgB,UAGhBC,GAAcN,EAAU,0CAA0C,EACjD,WAAYG,EAAQ,EACpB,gBAAiBC,EAAa,EAC9B,gBAAiBC,EAAa,EAC9B,EAEjBE,GAAcP,EAAU,wCAAwC,EAC/C,YAAaE,EAAS,EACtB,aAAcI,EAAU,EACxB,EAEjBE,GAAcR,EAAU,wCAAwC,EAC/C,YAAaO,EAAS,EACtB,EAEjBE,GAAc,8BACdC,GAAc,wCACdC,GAAc,cACdC,GAAc,oBACdC,GAAc,2BAEdC,GAAcd,EAAU,8DAA8D,EACvF,WAAYQ,EAAQ,EACpB,YAAaC,EAAS,EACtB,UAAWC,EAAO,EAClB,aAAcC,EAAU,EACxB,cAAeC,EAAW,EAC1B,QAASC,EAAK,EACd,EAKH,SAASE,GAAW1J,EAAI,CAEtB,IAAImE,EAAKnE,EAAK,GACd,OAAQmE,GAAM,IAAiBA,GAAM,GACvC,CAGA,SAASwF,GAAQlO,EAAOmG,EAAQ,CAC9B,IAAI5B,EAAIX,EAAOhD,EAAKK,EAAMjB,EAAM,IAqBhC,MAnBI,CAACA,EAAM,QAAQ,OAGnBY,EAAMZ,EAAM,OACRA,EAAM,IAAI,WAAWiB,CAAG,IAAM,IAC9BA,EAAM,GAAKL,KAKf2D,EAAKvE,EAAM,IAAI,WAAWiB,EAAM,CAAC,EAC7BsD,IAAO,IACPA,IAAO,IACPA,IAAO,IACP,CAAC0J,GAAW1J,CAAE,KAIlBX,EAAQ5D,EAAM,IAAI,MAAMiB,CAAG,EAAE,MAAM+M,EAAW,EAC1C,CAACpK,GAAgB,IAEhBuC,GACHnG,EAAM,KAAK,CACT,KAAM,UACN,QAASA,EAAM,IAAI,MAAMiB,EAAKA,EAAM2C,EAAM,CAAC,EAAE,MAAM,EACnD,MAAO5D,EAAM,KACf,CAAC,EAEHA,EAAM,KAAO4D,EAAM,CAAC,EAAE,OACf,GACT,CAKA,IAAIuK,GAAa,uCACbC,GAAa,4BAGjB,SAASC,GAAOrO,EAAOmG,EAAQ,CAC7B,IAAI5B,EAAI7C,EAAMkC,EAAO3C,EAAMjB,EAAM,IAAKY,EAAMZ,EAAM,OAElD,GAAIA,EAAM,IAAI,WAAWiB,CAAG,IAAM,GAAe,MAAO,GAExD,GAAIA,EAAM,EAAIL,GAGZ,GAFA2D,EAAKvE,EAAM,IAAI,WAAWiB,EAAM,CAAC,EAE7BsD,IAAO,IAET,GADAX,EAAQ5D,EAAM,IAAI,MAAMiB,CAAG,EAAE,MAAMkN,EAAU,EACzCvK,EACF,OAAKuC,IACHzE,EAAOkC,EAAM,CAAC,EAAE,CAAC,EAAE,YAAY,IAAM,IAAM,SAASA,EAAM,CAAC,EAAE,MAAM,CAAC,EAAG,EAAE,EAAI,SAASA,EAAM,CAAC,EAAG,EAAE,EAClG5D,EAAM,SAAWsO,GAAkB5M,CAAI,EAAI6M,GAAc7M,CAAI,EAAI6M,GAAc,KAAM,GAEvFvO,EAAM,KAAO4D,EAAM,CAAC,EAAE,OACf,WAGTA,EAAQ5D,EAAM,IAAI,MAAMiB,CAAG,EAAE,MAAMmN,EAAQ,EACvCxK,EAAO,CACT,IAAI4K,EAAUC,GAAa7K,EAAM,CAAC,CAAC,EACnC,GAAIA,EAAM,CAAC,IAAM4K,EACf,OAAKrI,IAAUnG,EAAM,SAAWwO,GAChCxO,EAAM,KAAO4D,EAAM,CAAC,EAAE,OACf,EAEX,EAIJ,OAAKuC,IAAUnG,EAAM,SAAW,KAChCA,EAAM,MACC,EACT,CAMA,IAAI0O,GAAW,CACb,CAAE,OAAmB3L,EAAK,EAC1B,CAAE,UAAmBwH,EAAQ,EAC7B,CAAE,SAAmBG,EAAO,EAC5B,CAAE,YAAmBC,EAAU,EAC/B,CAAE,MAAmBG,EAAI,EACzB,CAAE,MAAmBG,EAAI,EACzB,CAAE,OAAmBC,EAAK,EAC1B,CAAE,WAAmBM,EAAS,EAC9B,CAAE,MAAmBM,EAAI,EACzB,CAAE,MAAmBE,EAAI,EACzB,CAAE,QAAmBC,EAAM,EAC3B,CAAE,kBAAmBI,EAAgB,EACrC,CAAE,eAAmBG,EAAa,EAClC,CAAE,WAAmBK,EAAS,EAC9B,CAAE,UAAmBqB,EAAQ,EAC7B,CAAE,SAAmBG,EAAO,CAC9B,EAUA,SAASM,GAAe,CACtB,KAAK,MAAQ,IAAI3P,EACjB,QAASF,EAAI,EAAGA,EAAI4P,GAAS,OAAQ5P,IACnC,KAAK,MAAM,KAAK4P,GAAS5P,CAAC,EAAE,CAAC,EAAG4P,GAAS5P,CAAC,EAAE,CAAC,CAAC,EAIhD,KAAK,aAAe8P,EACtB,CAUAD,EAAa,UAAU,UAAY,SAAU3O,EAAO,CAClD,IAAInD,EAAQ,KAAK,MAAM,SAAS,EAAE,EAC9BgC,EAAMhC,EAAM,OACZoE,EAAMjB,EAAM,IACZlB,EAAG+P,EAEP,IAAKA,EAAa7O,EAAM,SAASiB,CAAG,GAAK,EAAG,CAC1CjB,EAAM,IAAM6O,EACZ,MACF,CAEA,IAAK/P,EAAI,EAAGA,EAAID,EAAKC,IACnB,GAAIjC,EAAMiC,CAAC,EAAEkB,EAAO,EAAI,EAAG,CACzBA,EAAM,SAASiB,EAAKjB,EAAM,GAAG,EAC7B,MACF,CAGFA,EAAM,MACNA,EAAM,SAASiB,EAAKjB,EAAM,GAAG,CAC/B,EASA2O,EAAa,UAAU,SAAW,SAAU3O,EAAO,CAMjD,QALInD,EAAQ,KAAK,MAAM,SAAS,EAAE,EAC9BgC,EAAMhC,EAAM,OACZ6I,EAAM1F,EAAM,OACZ+J,EAAIjL,EAEDkB,EAAM,IAAM0F,GAAK,CAQtB,IAAK5G,EAAI,EAAGA,EAAID,IACdkL,EAAKlN,EAAMiC,CAAC,EAAEkB,EAAO,EAAK,EAEtB,CAAA+J,GAHejL,IAGnB,CAKF,GAAIiL,EAAI,CACN,GAAI/J,EAAM,KAAO0F,EAAO,MACxB,QACF,CAEA1F,EAAM,SAAWA,EAAM,IAAIA,EAAM,KAAK,CACxC,CAEIA,EAAM,SACRA,EAAM,YAAY,CAEtB,EAYA2O,EAAa,UAAU,MAAQ,SAAU3N,EAAK9D,EAASC,EAAKgD,EAAW,CACrE,IAAIH,EAAQ,IAAIC,EAAYe,EAAK,KAAM9D,EAASC,EAAKgD,CAAS,EAC9D,KAAK,SAASH,CAAK,CACrB,EASA,SAAS4O,GAAarN,EAAK,CACzB,IAAIuN,EAAgB,CAAE,WAAY,aAAc,OAAQ,MAAO,EAC3D9N,EAAMO,EAAI,KAAK,EAAE,YAAY,EAGjC,OADAP,EAAMnD,EAAgBmD,CAAG,EACrB,EAAAA,EAAI,QAAQ,GAAG,IAAM,IAAM8N,EAAc,QAAQ9N,EAAI,MAAM,GAAG,EAAE,CAAC,CAAC,IAAM,GAI9E,CAIA,IAAI+N,GAAgB,CAClB,QAAS,CACP,KAAc,GACd,SAAc,GACd,OAAc,GACd,WAAc,YACd,WAAc,GAGd,YAAc,GAId,OAAQ,2BAOR,UAAW,KAEX,WAAc,EAChB,EAEA,WAAY,CAEV,KAAM,CACJ,MAAO,CACL,QACA,SACA,aACA,eACA,cACA,aACA,QACA,eACF,CACF,EAEA,MAAO,CACL,MAAO,CACL,aACA,OACA,SACA,WACA,UACA,KACA,YACA,WACA,OACA,YACA,OACF,CACF,EAEA,OAAQ,CACN,MAAO,CACL,WACA,YACA,MACA,WACA,SACA,SACA,eACA,UACA,QACA,UACA,MACF,CACF,CACF,CACF,EAIIC,GAAa,CACf,QAAS,CACP,KAAc,GACd,SAAc,GACd,OAAc,GACd,WAAc,YACd,WAAc,GAGd,YAAc,GAId,OAAc,2BAOd,UAAe,KAEf,WAAe,EACjB,EAEA,WAAY,CAEV,KAAM,CAAC,EACP,MAAO,CAAC,EACR,OAAQ,CAAC,CACX,CACF,EAIIC,GAAmB,CACrB,QAAS,CACP,KAAc,GACd,SAAc,GACd,OAAc,GACd,WAAc,YACd,WAAc,GAGd,YAAc,GAId,OAAQ,2BAOR,UAAW,KAEX,WAAc,EAChB,EAEA,WAAY,CAEV,KAAM,CACJ,MAAO,CACL,QACA,SACA,aACA,OACF,CACF,EAEA,MAAO,CACL,MAAO,CACL,aACA,OACA,SACA,UACA,KACA,YACA,WACA,OACA,WACF,CACF,EAEA,OAAQ,CACN,MAAO,CACL,WACA,YACA,WACA,SACA,SACA,UACA,QACA,UACA,MACF,CACF,CACF,CACF,EAMIC,GAAS,CACX,QAAWH,GACX,KAAQC,GACR,WAAcC,EAChB,EAUA,SAASE,GAAU/R,EAAU4D,EAAK7D,EAAK,CACrC,KAAK,IAAM6D,EACX,KAAK,IAAM7D,EACX,KAAK,QAAUC,EAAS,QACxB,KAAK,OAAS,CAAC,EACf,KAAK,WAAa,GAElB,KAAK,OAASA,EAAS,OACvB,KAAK,MAAQA,EAAS,MACtB,KAAK,SAAWA,EAAS,SACzB,KAAK,YAAcA,EAAS,WAC9B,CAUA,SAASgS,EAAWC,EAAQnS,EAAS,CAC/B,OAAOmS,GAAW,WACpBnS,EAAUmS,EACVA,EAAS,WAGPnS,GAAWA,EAAQ,SAAW,MAChC,QAAQ,KACN;AAAA;AAAA;AAAA;AAAA;AAAA,CAIF,EAGF,KAAK,OAAW,IAAIyR,EACpB,KAAK,MAAW,IAAI9E,GACpB,KAAK,KAAW,IAAI3E,GACpB,KAAK,SAAW,IAAIxG,GACpB,KAAK,MAAW,IAAIM,EAEpB,KAAK,QAAW,CAAC,EACjB,KAAK,UAAUkQ,GAAOG,CAAM,CAAC,EAC7B,KAAK,IAAInS,GAAW,CAAC,CAAC,CACxB,CAaAkS,EAAW,UAAU,IAAM,SAAUlS,EAAS,CAC5CyB,GAAO,KAAK,QAASzB,CAAO,CAC9B,EAQAkS,EAAW,UAAU,UAAY,SAAUE,EAAS,CAClD,IAAIpQ,EAAO,KAEX,GAAI,CAACoQ,EAAW,MAAM,IAAI,MAAM,+CAA+C,EAC3EA,EAAQ,SAAWpQ,EAAK,IAAIoQ,EAAQ,OAAO,EAC3CA,EAAQ,YACV,OAAO,KAAKA,EAAQ,UAAU,EAAE,QAAQ,SAAUrQ,EAAM,CAClDqQ,EAAQ,WAAWrQ,CAAI,EAAE,OAC3BC,EAAKD,CAAI,EAAE,MAAM,OAAOqQ,EAAQ,WAAWrQ,CAAI,EAAE,MAAO,EAAI,CAEhE,CAAC,CAEL,EAkBAmQ,EAAW,UAAU,IAAM,SAAUG,EAAQrS,EAAS,CACpD,OAAAqS,EAAO,KAAMrS,CAAO,EACb,IACT,EAYAkS,EAAW,UAAU,MAAQ,SAAUpO,EAAK7D,EAAK,CAC/C,IAAI6C,EAAQ,IAAImP,GAAU,KAAMnO,EAAK7D,CAAG,EACxC,YAAK,KAAK,QAAQ6C,CAAK,EAChBA,EAAM,MACf,EAUAoP,EAAW,UAAU,OAAS,SAAUpO,EAAK7D,EAAK,CAChD,OAAAA,EAAMA,GAAO,CAAC,EACP,KAAK,SAAS,OAAO,KAAK,MAAM6D,EAAK7D,CAAG,EAAG,KAAK,QAASA,CAAG,CACrE,EAUAiS,EAAW,UAAU,YAAc,SAAUpO,EAAK7D,EAAK,CACrD,IAAI6C,EAAQ,IAAImP,GAAU,KAAMnO,EAAK7D,CAAG,EACxC,OAAA6C,EAAM,WAAa,GACnB,KAAK,KAAK,QAAQA,CAAK,EAChBA,EAAM,MACf,EAWAoP,EAAW,UAAU,aAAe,SAAUpO,EAAK7D,EAAK,CACtD,OAAAA,EAAMA,GAAO,CAAC,EACP,KAAK,SAAS,OAAO,KAAK,YAAY6D,EAAK7D,CAAG,EAAG,KAAK,QAASA,CAAG,CAC3E,ECniKO,IAAMqS,EAAN,KAAa,CAClB,aAAc,CAGZ,KAAK,GAAK,IAAIC,EAAW,OAAQ,CAC/B,KAAM,GACN,YAAa,EACf,CAAC,EAED,KAAK,eAAiB,KAAK,GAAG,SAAS,MAAM,QAC7C,KAAK,gBAAkB,KAAK,GAAG,SAAS,MAAM,SAC9C,KAAK,qBAAuB,KAAK,GAAG,SAAS,MAAM,cACnD,KAAK,gBAAkB,GACvB,KAAK,WAAa,GAClB,KAAK,OAAS,CACZ,EAAG,MACH,EAAG,OACH,EAAG,QACH,EAAG,SACH,EAAG,OACH,EAAG,OACH,IAAK,SACP,EACA,KAAK,YAAY,CACnB,CAGA,aAAc,CAEZ,KAAK,GAAG,SAAS,MAAM,aAAe,SAAUC,EAAQC,EAAK,CAC3D,GAAID,EAAOC,EAAM,CAAC,EAAE,QAAQ,CAAC,GAAK,KAGhC,GAFA,KAAK,gBAAkB,GAEnBD,EAAOC,EAAM,CAAC,EAAE,QAAQ,CAAC,GAAK,IAAK,CAErC,IAAIC,EAAa,KAAK,aAAaF,EAAQC,CAAG,EAC1CE,EACF,KACAH,EAAOC,CAAG,EAAE,OACZ,QACAD,EAAOC,EAAM,CAAC,EAAE,QAAQ,QAAQ,OAAQ,GAAG,EAAE,YAAY,EACzD,KACF,OAAOC,EAAaC,CACtB,MASA,OALE,KACAH,EAAOC,CAAG,EAAE,OACZ,QACAD,EAAOC,EAAM,CAAC,EAAE,QAAQ,QAAQ,OAAQ,GAAG,EAAE,YAAY,EACzD,IAGN,EAAE,KAAK,IAAI,EAEX,KAAK,GAAG,SAAS,MAAM,QAAU,SAAUD,EAAQC,EAAKG,EAASC,EAAK,CACpE,OAAO,KAAK,UAAUL,EAAQC,EAAKG,EAASC,EAAK,KAAK,cAAc,CACtE,EAAE,KAAK,IAAI,EAEX,KAAK,GAAG,SAAS,MAAM,cAAgB,SACrCL,EACAC,EACAG,EACAC,EACA,CACA,OAAI,KAAK,iBACP,KAAK,gBAAkB,GACN,KAAK,qBAAqBL,EAAQC,EAAKG,EAASC,CAAG,EAElD,OAAO,SAAS,EAAE,QAAQ,MAAO,GAAG,EAAI;AAAA,GAEnD,KAAK,qBAAqBL,EAAQC,EAAKG,EAASC,CAAG,CAE9D,EAAE,KAAK,IAAI,EAEX,KAAK,GAAG,SAAS,MAAM,SAAW,SAAUL,EAAQC,EAAKG,EAASC,EAAK,CACrE,OAAI,KAAK,YACP,KAAK,WAAa,GACX,WAEA,KAAK,gBAAgBL,EAAQC,EAAKG,EAASC,CAAG,CAEzD,EAAE,KAAK,IAAI,EAEX,KAAK,WAAW,CAClB,CAGA,MAAM,SAASC,EAAU,CACvB,OAAO,IAAI,QAAQ,SAAUC,EAASC,EAAQ,CAC5C,IAAIC,EAAM,IAAI,eACdA,EAAI,KAAK,MAAOH,EAAU,EAAI,EAC9BG,EAAI,OAAS,UAAY,CACnB,KAAK,QAAU,KAAO,KAAK,OAAS,IACtCF,EAAQE,EAAI,QAAQ,EAEpBD,EAAO,CACL,OAAQ,KAAK,OACb,WAAYC,EAAI,UAClB,CAAC,CAEL,EACAA,EAAI,QAAU,UAAY,CACxBD,EAAO,CACL,OAAQ,KAAK,OACb,WAAYC,EAAI,UAClB,CAAC,CACH,EACAA,EAAI,KAAK,CACX,CAAC,CACH,CAEA,MAAM,UAAUC,EAAM,CACpB,IAAIC,EAAW,MAAM,KAAK,SAASD,CAAI,EACvC,OAAIC,EAAS,QAAU,GAAKA,GAAY,KAC/B,GAEFA,CACT,CAGA,MAAM,SAASD,EAAM,CAEnB,IAAIC,EAAW,MAAM,KAAK,SAASD,EAAO,KAAK,EAC/C,GAAIC,EAAS,QAAU,GAAKA,GAAY,KACtC,MAAO,GAET,IAAIC,EAAU,GAEd,OAAAA,EAAU,KAAK,GAAG,OAAOD,CAAQ,EAC1BC,CACT,CAGA,UAAUZ,EAAQC,EAAKG,EAASC,EAAKQ,EAAU,CAI7C,GAAIb,EAAOC,EAAM,CAAC,EAAE,MAAQ,OAC1B,GAAID,EAAOC,EAAM,CAAC,EAAE,QAAQ,CAAC,GAAK,IAAK,CAGrC,GAFA,KAAK,WAAa,GAEdD,EAAOC,EAAM,CAAC,EAAE,QAAQ,CAAC,GAAK,IAChC,OAAO,KAAK,aAAaD,EAAQC,CAAG,EAC/B,CACL,IAAIa,EAAWd,EAAOC,EAAM,CAAC,EAAE,QAAQ,CAAC,EACxC,OAAAD,EAAOC,EAAM,CAAC,EAAE,QAAUD,EAAOC,EAAM,CAAC,EAAE,QAAQ,MAAM,CAAC,EAClD,gBAAkB,KAAK,OAAOa,CAAQ,EAAI,IACnD,CACF,KACE,QAAOD,EAASb,EAAQC,EAAKG,EAASC,CAAG,MAG3C,QAAOQ,EAASb,EAAQC,EAAKG,EAASC,CAAG,CAE7C,CAGA,aAAaL,EAAQC,EAAK,CAExB,IAAIc,EAAcf,EAAOC,EAAM,CAAC,EAAE,QAAQ,QAAQ,GAAG,EACjDe,EAAUhB,EAAOC,EAAM,CAAC,EAAE,QAAQ,UAAU,EAAGc,EAAc,CAAC,EAClEf,EAAOC,EAAM,CAAC,EAAE,QAAUD,EAAOC,EAAM,CAAC,EAAE,QAAQ,MAAMc,EAAc,CAAC,EAEnEf,EAAOC,EAAM,CAAC,EAAE,MAAQ,WAC1BD,EAAOC,EAAM,CAAC,EAAE,SAAS,CAAC,EAAE,QAAUD,EAAOC,EAAM,CAAC,EAAE,SAExD,IAAIgB,EAAU,UACd,OAAIjB,EAAOC,CAAG,EAAE,MAAQ,YACtBgB,EAAU,gBAEL,gBAAkBA,EAAU,gBAAkBD,EAAU,IACjE,CAKA,YAAa,CACX,IAAME,EAAY,KACZC,EAAY,IAIZC,EAAkB,CAACC,EAAOC,EAAWC,IAAY,CACrD,IAAIC,EAAgB,GAChBC,EAAMJ,EAAM,OAAOC,CAAS,EAAID,EAAM,OAAOC,CAAS,EACtDI,EAAML,EAAM,OAAOC,CAAS,EAEhC,GAAIG,EAAM,EAAIC,EACZ,MAAO,GAGT,IAAMC,EAASN,EAAM,IAAI,OAAOI,CAAG,EACnC,GAAIE,IAAWR,EACb,MAAO,GAIT,IAAIS,EAAMH,EACVA,EAAMJ,EAAM,UAAUI,EAAKE,CAAM,EACjC,IAAIE,EAAMJ,EAAMG,EAEhB,GAAIC,IAAQ,EACV,MAAO,GAIT,IAAIC,EAAWR,EAEf,KACE,EAAEQ,EACE,EAAAA,GAAYP,IAIhBE,EAAMG,EAAMP,EAAM,OAAOS,CAAQ,EAAIT,EAAM,OAAOS,CAAQ,EAC1DJ,EAAML,EAAM,OAAOS,CAAQ,EAEvBL,EAAMC,GAAOL,EAAM,OAAOS,CAAQ,EAAIT,EAAM,aAGhD,GAAIA,EAAM,IAAI,OAAOI,CAAG,IAAMN,GAG1B,EAAAE,EAAM,OAAOS,CAAQ,EAAIT,EAAM,WAAa,KAIhDI,EAAMJ,EAAM,UAAUI,EAAKE,CAAM,EAC7B,EAAAF,EAAMG,EAAMC,KAIhBJ,EAAMJ,EAAM,WAAWI,CAAG,EACtB,EAAAA,EAAMC,KAIV,CAAAF,EAAgB,GAChB,MAIFK,EAAMR,EAAM,OAAOC,CAAS,EAC5BD,EAAM,KAAOS,GAAYN,EAAgB,EAAI,GAC7C,IAAMZ,EAAUS,EACb,SAASC,EAAY,EAAGQ,EAAUD,EAAK,EAAI,EAC3C,QAAQ,UAAW,GAAG,EACtB,KAAK,EAER,OAAAR,EAAM,OAAO,KAAK,CAChB,KAAM,QACN,OAAQ,KACR,QAAST,EACT,MAAO,CAACU,EAAWD,EAAM,IAAI,EAC7B,MAAOA,EAAM,MACb,MAAO,EACT,CAAC,EACM,EACT,EAKMU,EAAmB,CAACV,EAAOW,IAAW,CAC1C,IAAMC,EAAQZ,EAAM,IACdK,EAAML,EAAM,OACdI,EAAMQ,EAGV,GAAIZ,EAAM,IAAI,OAAOI,CAAG,IAAMN,EAC5B,MAAO,GAIT,IADA,EAAEM,EACKA,EAAMC,GAAOL,EAAM,IAAI,OAAOI,CAAG,IAAMN,GAC5C,EAAEM,EAIJ,IAAME,EAASN,EAAM,IAAI,MAAMY,EAAOR,CAAG,EACzC,GAAIE,EAAO,OAAS,EAClB,MAAO,GAGT,IAAMO,EAAYT,EACdU,EAAe,EACnB,KAAOV,EAAMC,GAAK,CAChB,IAAMU,EAAOf,EAAM,IAAI,OAAOI,CAAG,EACjC,GACEW,IAAS,MACRX,GAAO,GAAKJ,EAAM,IAAI,OAAOI,EAAM,CAAC,GAAKP,GAE1CiB,GAAgB,UAEhBC,IAAS,MACRX,GAAO,GAAKJ,EAAM,IAAI,OAAOI,EAAM,CAAC,GAAKP,IAG1C,GADAiB,GAAgB,EACZA,EAAe,EACjB,MAAO,WAEAC,IAASjB,GAAagB,IAAiB,EAAG,CACnD,IAAME,EAAaZ,EACfa,EAAWb,EAAM,EACrB,KAAOa,EAAWZ,GAAOL,EAAM,IAAI,OAAOiB,CAAQ,IAAMnB,GACtD,EAAEmB,EAGJ,GAAIA,EAAWD,IAAeV,EAAO,OAAQ,CAC3C,GAAI,CAACK,EAAQ,CACX,IAAMpB,EAAUS,EAAM,IACnB,MAAMa,EAAWG,CAAU,EAC3B,QAAQ,UAAW,GAAG,EACtB,KAAK,EACRhB,EAAM,KAAK,CACT,KAAM,QACN,QAAST,EACT,MAAOe,EAAO,OAAS,EACvB,MAAON,EAAM,KACf,CAAC,CACH,CACA,OAAAA,EAAM,IAAMiB,EACL,EACT,CACF,CACAb,GAAO,CACT,CAEA,OAAKO,IACHX,EAAM,SAAWM,GAEnBN,EAAM,KAAOM,EAAO,OAEb,EACT,EAEA,KAAK,GAAG,OAAO,MAAM,KAAK,QAASI,EAAiB,KAAK,IAAI,EAAG,CAAC,CAAC,EAClE,KAAK,GAAG,MAAM,MAAM,KAAK,QAASX,EAAgB,KAAK,IAAI,EAAG,CAAC,CAAC,EAChE,KAAK,GAAG,SAAS,MAAM,MAAQ,CAACpB,EAAQC,IAC/B,+BAAiCD,EAAOC,CAAG,EAAE,QAAU,UAEhE,KAAK,GAAG,SAAS,MAAM,MAAM,UAAYkB,CAC3C,CACF,EC5VO,IAAMoB,EAAN,KAAa,CAClB,YAAYC,EAAWC,EAAoB,CACzC,KAAK,QAAU,GACf,KAAK,YAAc,GACnB,KAAK,oBAAsB,KAC3B,KAAK,UAAYD,EACjB,KAAK,mBAAqBC,EAC1B,KAAK,kBAAoB,KAAK,kBAAkB,KAAK,IAAI,CAC3D,CAGA,iBAAkB,CAChB,IAAIC,EAAS,SAAS,cAAc,qBAAqB,EACzDA,EAAO,iBAAiB,QAAS,KAAK,iBAAiB,EACvD,IAAIC,EAAQ,SAAS,cAAc,yBAAyB,EAE5DA,EAAM,iBAAiB,QAAS,KAAK,cAAc,EACnDA,EAAM,iBAAiB,UAAW,KAAK,cAAc,EACrDD,EAAO,YAAc,SAET,SAAS,cAAc,uBAAuB,EACpD,iBAAiB,QAAS,KAAK,aAAa,EAKlDA,EAAO,iBAAiB,WAAaE,GAAU,CAC7C,IAAIC,EAAc,SAAS,cAAc,kBAAkB,EAC3DD,EAAM,gBAAgB,EACjBC,EAAY,SAASD,EAAM,aAAa,GAC3C,KAAK,cAAc,CAEvB,CAAC,EAGD,KAAK,WAAW,CAClB,CAEA,oBAAqB,CACnB,IAAIE,EAAiB,SAAS,cAC5B,kCACF,EAEEA,GAAe,iBAAiB,QAAS,KAAK,aAAa,CAE/D,CAGA,mBAAoB,CAClB,GAAI,KAAK,QACP,OAEF,IAAIC,EAAO,MAAM,cAAc,YAC/B,KAAK,oBAAsBA,EAC3B,KAAK,gBAAgB,kBAAkB,EACrB,SAAS,cAAc,2BAA2B,GACjD,MACjB,KAAK,WAAW,CAEpB,CAGA,gBAAgBC,EAAI,CAClB,GAAI,KAAK,QACP,OAEe,SAAS,cAAcA,CAAE,EAC/B,oBAAoB,QAAS,KAAK,iBAAiB,EAE9D,IAAIC,EAAWD,EAAK,MAChBE,EAAYF,EAAK,UACjBG,EAAO,SAAS,cAAcF,CAAQ,EACtCG,EAAa,SAAS,cAAcF,CAAS,EAEjDC,EAAO,SAAS,cAAcF,CAAQ,EAGtC,IAAII,EAAiB,IACjB,KAAK,qBAAuB,SAC1B,SAAS,KAAK,aAAe,MAC/BA,EAAiB,KAGnBA,EAAiB,IAEnBF,EAAK,MAAM,MAAQE,EAAiB,KAGhC,KAAK,qBAAuB,UAC9BD,EAAa,SAAS,cAAcF,CAAS,EAC7CE,EAAW,MAAM,GAEjBD,EAAK,MAAM,CAEf,CAGA,eAAgB,CACd,IAAIG,EAAGC,EAEHC,EAAY,SAAS,cAAc,qBAAqB,EAC5D,GAAIA,GAAa,KACf,OAEF,KAAK,QAAU,GAEf,IAAIC,EAAeD,EACnB,IAAIE,EAAc,mBAGlB,IADAJ,EAAIG,EAAa,uBAAuB,kBAAkB,EACrDF,EAAI,EAAGA,EAAID,EAAE,OAAQC,IACxBD,EAAEC,CAAC,EAAE,MAAM,QAAU,OAEvB,SAAS,cAAcG,EAAc,MAAM,EAAE,MAAM,QAAU,OAC7D,KAAK,QAAU,EACjB,CAGA,gBAAiB,CACf,IAAIf,EAAOgB,EAAQL,EAAGC,EAClBK,EAAc,mBAClB,GAAI,KAAK,qBAAuB,QAC9B,OAGFjB,EAAQ,SAAS,cAAciB,EAAc,SAAS,EACtDD,EAAShB,EAAM,MAAM,YAAY,EAAE,KAAK,EACxC,IAAIkB,EAAcF,EAAO,MAAM,GAAG,EAGlCL,EADgB,SAAS,cAAcM,EAAc,KAAK,EAC5C,uBAAuB,kBAAkB,EACvD,IAAIE,EAAgB,EACpB,IAAKP,EAAI,EAAGA,EAAID,EAAE,OAAQC,IAAK,CAG7B,IAAIQ,EAAWT,EAAEC,CAAC,EAAE,aAAeD,EAAEC,CAAC,EAAE,UACxCQ,EACEA,EAAW,IAAMT,EAAEC,CAAC,EAAE,QAAQ,QAAU,IAAMD,EAAEC,CAAC,EAAE,QAAQ,SAC7D,IAAIS,EAAkBD,EAAS,YAAY,EACvCE,EAAc,GAClB,QAAWC,KAAgBL,EAAY,OAAO,EAExCG,EAAgB,SAASE,CAAY,GAAOP,EAAO,SAAW,IAEhEM,EAAc,IAGlB,GAAIA,EAAa,CACf,GAAI,WAAW,SAASN,CAAM,GAAKA,GAAU,KAAOA,GAAU,KAAM,CAC9DL,EAAEC,CAAC,EAAE,QAAQ,KAAO,SACtBD,EAAEC,CAAC,EAAE,MAAM,QAAU,SAEvB,QACF,CAEIO,EAAgB,IAAMR,EAAEC,CAAC,EAAE,QAAQ,KAAO,OAC5CD,EAAEC,CAAC,EAAE,MAAM,QAAU,QAErBD,EAAEC,CAAC,EAAE,MAAM,QAAU,OAEvBO,EAAgBA,EAAgB,CAClC,MACER,EAAEC,CAAC,EAAE,MAAM,QAAU,MAEzB,EAEGO,EAAgB,GACf,WAAW,SAASH,CAAM,GAC1BA,GAAU,KACVA,GAAU,OACZA,EAAO,OAAS,EAEhB,SAAS,cAAcC,EAAc,MAAM,EAAE,MAAM,QAAU,QAE7D,SAAS,cAAcA,EAAc,MAAM,EAAE,MAAM,QAAU,MAEjE,CAGA,eAAgB,CAEd,IAAIJ,EAAY,SAAS,cAAc,qBAAqB,EAC5D,GAAIA,GAAa,KACf,OAGF,IAAIF,EAAIE,EAAU,uBAAuB,kBAAkB,EAC3D,QAASD,EAAI,EAAGA,EAAID,EAAE,OAAQC,IAC5BD,EAAEC,CAAC,EAAE,MAAM,QAAU,OAEvB,SAAS,cAAc,sBAAsB,EAAE,MAAM,QAAU,OAC/D,KAAK,QAAU,GAEf,IAAIH,EAAa,SAAS,cAAc,yBAAyB,EAC7DO,EAAS,WACbP,EAAW,MAAQO,EAEnBP,EAAW,MAAM,CACnB,CAGA,YAAa,CAEX,IAAIe,EAAmB,CAAC,EACpBC,EAAkB,GAClBC,EAAmB,CAAC,EACpBC,EAAkB,GAClBC,EAAgB,SAAS,cAAc,qBAAqB,EAKhEA,EAAc,mBAAmB,YAD/B,oEACkD,EAGpD,OAAW,CAACC,EAAKC,CAAY,IAAK,KAAK,UAAU,QAAQ,EAAG,CAC1D,GACED,EAAI,MAAQ,OACZA,EAAI,SAAS,SAAS,IAAI,GAC1BA,EAAI,SAAS,SAAS,IAAI,EAE1B,SAOF,IAAME,EAHS,IAAI,UAAU,EAGV,gBAAgBD,EAAc,WAAW,EAG1CC,EAAI,iBAAiB,IAAI,EAGjC,QAAQ,IAAM,CACtBN,EAAkB,GAClBA,EAAkBA,EAAgB,OAAO,YAAY,EACrDA,EAAkBA,EAAgB,OAAOI,EAAI,QAAQ,EACrDJ,EAAkBA,EAAgB,OAAO,WAAW,EACpDA,EAAkBA,EAAgB,OAAOI,EAAI,OAAO,EACpDJ,EAAkBA,EAAgB,OAAO,mBAAmB,EAC5DA,EAAkBA,EAAgB,OAAOI,EAAI,QAAQ,EACrDJ,EAAkBA,EAAgB,OAChC,iFACF,EACAA,EAAkBA,EAAgB,OAAOI,EAAI,OAAO,EACpDJ,EAAkBA,EAAgB,OAChC,qHACF,EACAA,EAAkBA,EAAgB,OAAOI,EAAI,OAAO,EACpDJ,EAAkBA,EAAgB,OAAO,WAAW,EACpDD,EAAiB,KAAKC,CAAe,CACvC,CAAC,EAED,IAAMO,EAAYD,EAAI,iBAAiB,gBAAgB,EAGnDE,EAAY,KAChBD,EAAU,QAASE,GAAmB,CACpC,GAAIA,EAAe,UAAY,KAE7BD,EAAY,aAERC,EAAe,UAAY,OAC7BD,EAAYC,EAAe,KAG1BD,IAAc,YAAcA,IAAc,eAC3CC,EAAe,KAAO,sBACtBA,EAAe,UAAY,KAC3B,CAEA,IAAIC,EAAQN,EAAI,QAAQ,QAAQ,WAAY,EAAE,EAAE,KAAK,EACrDF,EAAkB,GAClBA,EAAkBA,EAAgB,OAAO,YAAY,EACrDA,EAAkBA,EAAgB,OAAOE,EAAI,QAAQ,EACrDF,EAAkBA,EAAgB,OAAO,WAAW,EACpDA,EAAkBA,EAAgB,OAAOE,EAAI,OAAO,EACpDF,EAAkBA,EAAgB,OAAO,mBAAmB,EAC5DA,EAAkBA,EAAgB,OAAOE,EAAI,QAAQ,EACrDF,EAAkBA,EAAgB,OAChC,iFACF,EACAA,EAAkBA,EAAgB,OAAOE,EAAI,OAAO,EACpDF,EAAkBA,EAAgB,OAChC,oCACF,EACAA,EAAkBA,EAAgB,OAAOO,EAAe,EAAE,EAC1DP,EAAkBA,EAAgB,OAChC,6FACF,EACAA,EAAkBA,EAAgB,OAAOQ,CAAK,EAC9CR,EAAkBA,EAAgB,OAChC,iEACF,EACAA,EAAkBA,EAAgB,OAChCO,EAAe,WACjB,EACAP,EAAkBA,EAAgB,OAAO,QAAQ,EACjDD,EAAiB,KAAKC,CAAe,CACvC,CAEJ,CAAC,CACH,CAEAH,EAAiB,KAAK,EACtBE,EAAiB,KAAK,EACtBD,EAAkBD,EAAiB,KAAK,EAAE,EAC1CG,EAAkBD,EAAiB,KAAK,EAAE,EAE1C,IAAIU,EAAiBX,EAAgB,OAAOE,CAAe,EAE3DC,EAAc,mBAAmB,YAAaQ,CAAc,EAC5DA,EAAiB,GACjB,SAAS,iBAAiB,4BAA4B,EAAE,QAASC,GAAS,CACxE,KAAK,mBAAmBA,CAAI,CAC9B,CAAC,CACH,CAGA,SAAShC,EAAI,CAEX,IAAIiC,EAAgB,SAAS,eAAejC,CAAE,EAC9C,GAAIiC,GAAiB,KAAM,CAGzB,IAAIC,EAAe,KAAK,MAAM,eAAe,QAAQ,cAAc,CAAC,EAChEC,EAAY,EAChB,QAASC,EAAI,EAAGA,EAAIF,EAAa,OAAQE,IACvC,GAAIF,EAAaE,CAAC,EAAE,CAAC,EAAE,SAAS,OAAOpC,CAAE,GAAG,EAAG,CAC7CmC,EAAYC,EACZ,KACF,CAEF,SACG,iBAAiB,6BAA6B,EAC9CD,CAAS,EAAE,MAAM,CACtB,CACAF,EAAgB,SAAS,eAAejC,CAAE,EAC1C,IAAIqC,EAAc,KACdC,EAAU,GAEVL,EAAc,SAAW,KACvBA,EAAc,QAAQ,MAAQ,OAChCI,EAAcJ,EAAc,QAAQ,KAAK,MAAM,GAAG,EAClDK,EAAU,IAEHL,EAAc,WAAW,UAAU,SAAS,WAAW,EAC5DA,EAAc,WAAW,kBAAkB,QAAQ,MAAQ,OAC7DI,EACEJ,EAAc,WAAW,kBAAkB,QAAQ,KAAK,MAAM,GAAG,EACnEK,EAAU,IAKVL,EAAc,WAAW,WAAW,kBAAkB,QAAQ,MAC9D,OAEAI,EACEJ,EAAc,WAAW,WAAW,kBAAkB,QAAQ,KAAK,MACjE,GACF,EACFK,EAAU,IAGVA,GAEFD,EAAY,QAASL,GAAS,CAC5B,IAAIO,EAAa,SAAS,uBAAuBP,CAAI,EAErD,QAASQ,KAAUD,EACbC,EAAO,SACTA,EAAO,OAAS,GAEZA,EAAO,WAAW,UAAU,SAAS,WAAW,EAEhDA,EAAO,WAAW,kBAAkB,WAAW,WAC/C,uBAEAA,EAAO,WAAW,kBAAkB,WAAW,UAC7C,oBAKFA,EAAO,WAAW,WAAW,kBAAkB,WAC5C,WAAa,uBAEhBA,EAAO,WAAW,WAAW,kBAAkB,WAAW,UACxD,oBAKZ,CAAC,CAEL,CACF,EC7YO,IAAMC,EAAN,KAAU,CACf,YAAYC,EAAW,CACrB,KAAK,SAAW,CAAC,EACjB,KAAK,QAAU,GACf,KAAK,eAAiB,KACtB,KAAK,WAAa,GAClB,KAAK,UAAYA,EAIjB,SAAS,iBAAiB,SAAU,IAAM,CACpC,CAAC,KAAK,SAAW,KAAK,UAAU,aAClC,OAAO,sBAAsB,IAAM,CACjC,KAAK,aAAa,EAClB,KAAK,QAAU,EACjB,CAAC,EACD,KAAK,QAAU,GAEnB,CAAC,CACH,CAGA,aAAaC,EAASC,EAAM,CAC1B,KAAK,eAAiBD,EACtB,KAAK,UAAU,WAAaC,CAC9B,CAEA,eAAgB,CACd,KAAK,SAAW,CAAC,CACnB,CAIA,UAAUC,EAAiB,CAEzB,IAAIC,EAAY,SAAS,eAAe,oBAAoB,EACxDC,EAAW,KACXC,EAAU,KACVC,EAAM,KACNC,EAAY,KAEhB,GAAIJ,GAAa,KAAM,CAKrB,GAHe,SAAS,cACtB,sCACF,GACgB,KACd,OAGFE,EAAU,SAAS,eAAe,SAAS,EAC3CF,EAAY,SAAS,cAAc,KAAK,EACxCA,EAAU,GAAK,qBACfE,EAAQ,YAAYF,CAAS,EAC7BG,EAAM,SAAS,cAAc,KAAK,EAClCA,EAAI,GAAK,eACTC,EAAY,SAAS,cAAc,KAAK,EACxCA,EAAU,GAAK,qBACfJ,EAAU,YAAYG,CAAG,EAEzBF,EAAW,SAAS,eAAe,mBAAmB,EACtDD,EAAU,MAAM,IAAMC,EAAS,UAAYC,EAAQ,UAAY,GAAK,KAGpE,IAAIG,EAAU,SAAS,cAAc,MAAM,EAC3CA,EAAQ,UAAY,2BACpBA,EAAQ,GAAK,mBACbA,EAAQ,UAAY,YACpBA,EAAQ,MAAM,QAAU,OACxB,IAAIC,EAAmB,SAAS,eAAe,wBAAwB,EACvEA,EAAiB,YAAYD,CAAO,EAEpC,IAAIE,EAAa,SAAS,cAAc,KAAK,EAC7CA,EAAW,GAAK,wBAChBA,EAAW,MAAM,MAAQ,MAEzBA,EAAW,SAAW,IACtBD,EAAiB,YAAYC,CAAU,EAEvCA,EAAW,YAAYH,CAAS,EAChC,KAAK,UAAU,kBAAkB,IAAMG,EAAW,GAAI,CAAC,EACvD,KAAK,UAAU,kBAAkB,IAAMJ,EAAI,GAAI,CAAC,EAEhDE,EAAQ,iBAAiB,QAAS,IAAM,CACtC,IAAIG,EAAM,SAAS,eAAe,uBAAuB,EACzD,IAAIC,EAAW,IACX,SAAS,KAAK,aAAe,MAC/BA,EAAW,KAEbD,EAAI,MAAM,MAAQC,EAAW,KAC7BD,EAAI,UAAY,SAChBD,EAAW,QAAU,QACrBC,EAAI,MAAM,CACZ,CAAC,EACDD,EAAW,iBAAiB,WAAaG,GAAU,CACjD,IAAIF,EAAM,SAAS,eAAe,uBAAuB,EACzDE,EAAM,gBAAgB,EACtBF,EAAI,UAAY,SAClB,CAAC,CACH,MACEP,EAAW,SAAS,eAAe,mBAAmB,EACtDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAM,SAAS,eAAe,cAAc,EAC5CC,EAAY,SAAS,eAAe,oBAAoB,EAG1DJ,EAAU,MAAM,OACd,gBAAkBC,EAAS,UAAY,KAAO,MAEhD,IAAIU,EAAa,6BACjBR,EAAI,UAAYQ,EAChBP,EAAU,UAAYO,EAEtB,KAAK,SAAW,CAAC,EACjB,IAAIC,EAAM,SAAS,iBAAiB,wBAAwB,EACxDC,EAAM,SAAS,iBAAiB,wBAAwB,EAC5D,QAASC,KAAMF,EACb,KAAK,SAAS,KAAK,CACjB,KAAME,EAAG,YACT,QAASA,EAAG,sBAAsB,EAAE,IACpC,KAAM,GACN,IAAKA,EACL,GAAIA,EAAG,EACT,CAAC,EAEH,QAASC,KAAMF,EACb,KAAK,SAAS,KAAK,CACjB,KAAME,EAAG,YACT,QAASA,EAAG,sBAAsB,EAAE,IACpC,KAAM,GACN,IAAKA,EACL,GAAIA,EAAG,EACT,CAAC,EAGH,KAAK,SAAS,KAAK,CAACC,EAAGC,IAAMD,EAAE,QAAUC,EAAE,OAAO,EAGlD,IAAIC,EAAW,GACf,QAASC,KAAW,KAAK,SAAU,CACjC,IAAIC,EAAO,GACND,EAAQ,KAUXC,EACE,uBACArB,EACA,mBACA,KAAK,UAAU,eACf,qBACAoB,EAAQ,GACR,yEAhBFC,EACE,uBACArB,EACA,mBACA,KAAK,UAAU,eACf,qBACAoB,EAAQ,GACR,iGAWJC,EAAOA,EAAK,OAAO,KAAOD,EAAQ,IAAI,EACtCC,EAAOA,EAAK,OAAO,QAAQ,EAC3BF,EAAWA,EAAS,OAAOE,CAAI,CACjC,CAEAjB,EAAI,UAAYQ,EAAW,OAAOO,CAAQ,EAC1Cd,EAAU,UAAYO,EAAW,OAAOO,CAAQ,CAClD,CAEA,cAAe,CAEb,IAAIG,EAAY,KACZC,EAAiB,EACjBC,EAAc,EAClB,QAASC,EAAI,EAAGA,EAAI,KAAK,SAAS,OAAQA,IACxC,GAAI,KAAK,SAASA,CAAC,EAAE,KAEnB,GACE,KAAK,SAASA,CAAC,EAAE,IAAI,sBAAsB,EAAE,KAC3C,KAAK,IAAI,OAAO,YAAc,IAAM,GAAG,GACzCH,GAAa,KAEbA,EAAY,KAAK,SAASG,CAAC,EAC3BF,EAAiBE,MACZ,CACLD,EAAcC,EACd,KACF,CAKJ,GAAIH,GAAa,KAAM,CACrB,IAAII,EAAgB,SAAS,iBAC3B,8BACF,EACA,QAASC,KAAUD,EACjBC,EAAO,UAAU,OAAO,QAAQ,EAElC,IAAIC,EAAgB,SAAS,iBAC3B,yCAA2CN,EAAU,GAAK,IAC5D,EACA,QAASK,KAAUC,EACjBD,EAAO,UAAU,IAAI,QAAQ,CAEjC,CAGA,QAASF,EAAI,EAAGA,EAAI,KAAK,SAAS,OAAQA,IACxC,GAAI,CAAC,KAAK,SAASA,CAAC,EAAE,KACpB,GACGA,GAAKF,GAAkBE,GAAKD,GAC5BA,GAAe,GAAKD,EAAiB,GAAKE,GAAKF,GAC/CC,GAAe,GAAKD,GAAkB,EACvC,CACA,IAAIM,EAAW,SAAS,iBACtB,yCACE,KAAK,SAASJ,CAAC,EAAE,GACjB,IACJ,EACA,QAASK,KAAUD,EACjBC,EAAO,MAAM,QAAU,QACvBA,EAAO,UAAU,IAAI,QAAQ,CAEjC,KAAO,CACL,IAAID,EAAW,SAAS,iBACtB,yCACE,KAAK,SAASJ,CAAC,EAAE,GACjB,IACJ,EACA,QAASK,KAAUD,EACjBC,EAAO,MAAM,QAAU,MAE3B,CAGN,CAGA,iBAAkB,CAChB,IAAIxB,EAAU,SAAS,eAAe,kBAAkB,EAEtDA,GAAQ,OAAO,EAEjB,IAAIyB,EAAS,SAAS,eAAe,uBAAuB,EAE1DA,GAAO,OAAO,CAElB,CACF,ECzPO,IAAMC,EAAN,KAAe,CACpB,YAAYC,EAAW,CAErB,KAAK,gBAAkB,CACrB,CAAC,SAAU,SAAS,EACpB,CAAC,OAAQ,SAAS,EAClB,CAAC,OAAQ,SAAS,EAClB,CAAC,QAAS,SAAS,EACnB,CAAC,MAAO,SAAS,EACjB,CAAC,WAAY,SAAS,EACtB,CAAC,OAAQ,SAAS,CACpB,EACA,KAAK,UAAY,GAEjB,KAAK,aAAe,CAAC,EACrB,KAAK,OAAS,EACd,KAAK,WAAa,EAClB,KAAK,UAAYA,CACnB,CAEA,oBAAqB,CACnB,OAAO,KAAK,YACd,CAIA,iBAAiBC,EAAM,CACrB,KAAK,aAAe,CAAC,EACrB,IAAIC,EAAY,KACZC,EAAY,KACZC,EAAY,KACZC,EAAgB,GAChBC,EAAW,GACXC,EAAa,GACbC,EAAU,GACVC,EAAcR,EAAK,UAAU,MAAM;AAAA,CAAI,EACvCS,EAAc,SAAS,eAAe,SAAS,EACnD,QAASC,EAAI,EAAGA,EAAIF,EAAY,OAAQE,IAEtC,GAAIF,EAAYE,CAAC,EAAE,SAAS,SAAS,EAAG,CAElCT,IACFI,EAAWA,EAAW;AAAA,GAIxBJ,EAAYO,EAAYE,CAAC,EAAE,UACzBF,EAAYE,CAAC,EAAE,QAAQ,SAAS,EAAI,CACtC,EACAT,EAAYA,EAAU,UAAU,EAAGA,EAAU,QAAQ,GAAG,CAAC,EAGzDI,EAAWA,EAAW;AAAA,EAEtB,IAAIM,EACFH,EAAYE,CAAC,EAAE,QAAQ,SAAS,EAAI,EAAIT,EAAU,OAAS,EACzDW,EACF,eAAiBX,EAAY,IAAMC,EAAY,IAAMC,EAAY,IAC/DU,EACFL,EAAYE,CAAC,EAAE,OAAO,EAAGC,CAAc,EACvCC,EACAJ,EAAYE,CAAC,EAAE,OAAOC,CAAc,EACtCN,EAAWA,EAAWQ,EAAQ;AAAA,EAC9BR,EAAWA,EAAW,eAAiBJ,EAAY;AAAA,CACrD,MAAWO,EAAYE,CAAC,EAAE,SAAS,SAAS,GAEtCT,IACFI,EAAWA,EAAW;AAAA,EACtBJ,EAAY,MAEVC,IACFG,EACEA,EACA;AAAA,GAMJH,EAAYM,EAAYE,CAAC,EAAE,UACzBF,EAAYE,CAAC,EAAE,QAAQ,SAAS,EAAI,CACtC,EACAR,EAAYA,EAAU,UAAU,EAAGA,EAAU,QAAQ,GAAG,CAAC,EAGzDG,EAAWA,EAAW;AAAA,EACtBA,EACEA,EACA,gDACAH,EACA,IACAC,EACA,4EACFE,EAAWA,EAAWG,EAAYE,CAAC,EAAI;AAAA,EACvCL,EAAWA,EAAW,eAAiBH,EAAY;AAAA,GAC1CM,EAAYE,CAAC,EAAE,SAAS,SAAS,GAE1CH,EAAU,GACNN,IACFI,EAAWA,EAAW;AAAA,EACtBJ,EAAY,MAEVC,IACFG,EAAWA,EAAW;AAAA,EACtBH,EAAY,MAEVC,IACFE,EAAWA,EAAW;AAAA,EAEtB,KAAK,aAAa,KAAK,CAACF,EAAWC,EAAeC,CAAQ,CAAC,EAC3DA,EAAW,IAIbF,EAAYK,EAAYE,CAAC,EAAE,UACzBF,EAAYE,CAAC,EAAE,QAAQ,SAAS,EAAI,CACtC,EACAP,EAAYA,EAAU,UAAU,EAAGA,EAAU,QAAQ,GAAG,CAAC,EAGzDC,EAAgBI,EAAYE,CAAC,EAAE,UAC7BF,EAAYE,CAAC,EAAE,QAAQ,IAAI,EAAI,CACjC,EACAN,EAAgBA,EAAc,UAC5B,EACAA,EAAc,QAAQ,OAAO,CAC/B,EAGAC,EACEA,EAAW,gCAAkCF,EAAY;AAAA,EAE3DE,EAAWA,EAAW,eAAiBF,EAAY;AAAA,GAE/CI,EAEFD,EAAaA,EAAaE,EAAYE,CAAC,EAAI;AAAA,EAG3CL,EAAWA,EAAWG,EAAYE,CAAC,EAAI;AAAA,EAKzCT,IACFI,EAAWA,EAAW;AAAA,GAEpBH,IACFG,EAAWA,EAAW;AAAA,GAEpBF,IACFE,EAAWA,EAAW;AAAA,EACtB,KAAK,aAAa,KAAK,CAACF,EAAWC,EAAeC,CAAQ,CAAC,EAC3DA,EAAW,IAGb,IAAIS,EACF,8DAGF,IAAIJ,EAAI,EACR,KAAOA,EAAI,KAAK,aAAa,QAAQ,CACnC,IAAIK,EAAQ,KAAK,aAAaL,CAAC,EAAE,CAAC,EAC9BM,EAAS,KAAK,aAAaN,CAAC,EAAE,CAAC,EAC/BO,EAAU,KAAK,gBAAgBP,EAAI,KAAK,gBAAgB,MAAM,EAGlEI,EACEA,EACA,sDACAC,EACA,qBACAE,EAAQ,CAAC,EACT,KACFH,EAAeA,EAAeE,EAAS,SAGvC,KAAK,aAAaN,CAAC,EAAE,KAAKO,CAAO,EAGjCP,GACF,CAGA,eAAe,QAAQ,eAAgB,KAAK,UAAU,KAAK,YAAY,CAAC,EAExEI,EAAeA,EAAe,2CAE9B,IAAII,EACF,4QAEE,KAAK,aAAa,OAAS,EAC7BlB,EAAK,UAAYM,EAAaQ,EAAeI,EAE7ClB,EAAK,UAAYM,EAGnB,KAAK,UAAU,kBAAkB,wBAAyB,CAAC,EAE3D,KAAK,cAAc,EAEnBG,EAAY,MAAM,WAAa,SACjC,CAEA,eAAgB,CAGd,IAAIU,EAAa,SAAS,eAAe,yBAAyB,EAC9DC,EAAc,SAAS,uBACzB,+BACF,EAAE,CAAC,EACCC,EAAe,SAAS,uBAC1B,gCACF,EAAE,CAAC,EAGCC,EAAc,SAAS,eAAe,sBAAsB,EAC5DC,EAAmBD,EAAY,YAC/BE,EAAyBF,EAAY,YACrCC,EAAmBC,GACrBL,EAAW,MAAM,QAAU,QAC3BA,EAAW,MAAM,KACfG,EAAY,sBAAsB,EAAE,MAAW,MAEjDH,EAAW,MAAM,QAAU,OAI7B,OAAO,iBACL,SACA,UAAY,CACV,IAAIG,EAAc,SAAS,eAAe,sBAAsB,EAChE,GAAIA,GAAe,KACjB,OAEF,IAAIH,EAAa,SAAS,eAAe,yBAAyB,EAC9DI,EAAmBD,EAAY,YAC/BE,EAAyBF,EAAY,YACrCF,EAAc,SAAS,uBACzB,+BACF,EAAE,CAAC,EACCC,EAAe,SAAS,uBAC1B,gCACF,EAAE,CAAC,EACH,GAAIE,EAAmBC,EAAwB,CAC7CL,EAAW,MAAM,QAAU,QAC3BA,EAAW,MAAM,KACfG,EAAY,sBAAsB,EAAE,MAAW,KACjD,IAAIG,EAAiBH,EAAY,WAC7BG,EAAiB,GACnBL,EAAY,UAAU,IAAI,QAAQ,EAGlCK,EACAH,EAAY,YAAcA,EAAY,aAEtCD,EAAa,UAAU,IAAI,QAAQ,CAEvC,MACEF,EAAW,MAAM,QAAU,MAE/B,EACA,EACF,EAGA,IAAIM,EAAiBH,EAAY,WAC7BG,EAAiB,GACnBL,EAAY,UAAU,IAAI,QAAQ,EAEhCK,EAAiBH,EAAY,YAAcA,EAAY,aACzDD,EAAa,UAAU,IAAI,QAAQ,EAIrCD,EAAY,iBACV,QACA,UAAY,CACV,IAAIA,EAAc,SAAS,uBACzB,+BACF,EAAE,CAAC,EACCC,EAAe,SAAS,uBAC1B,gCACF,EAAE,CAAC,EACCC,EAAc,SAAS,eAAe,sBAAsB,EAC5DC,EAAmBD,EAAY,YAE/BI,EAAaN,EAAY,UAAU,SAAS,QAAQ,EACpDO,EAAcN,EAAa,UAAU,SAAS,QAAQ,EACtDK,IACEJ,EAAY,WAAaC,GAAoB,IAC/CD,EAAY,QAAQ,YAAc,OAClCF,EAAY,UAAU,OAAO,QAAQ,EACrC,WAAW,UAAY,CACrB,IAAIE,EAAc,SAAS,eAAe,sBAAsB,EAChEA,EAAY,QAAQ,YAAc,OACpC,EAAG,GAAG,EACNI,EAAa,IAEfJ,EAAY,SAAS,CACnB,KAAMA,EAAY,WAAaC,EAC/B,SAAU,QACZ,CAAC,EACII,GACHN,EAAa,UAAU,IAAI,QAAQ,EAGzC,EACA,EACF,EAEAA,EAAa,iBACX,QACA,UAAY,CACV,IAAID,EAAc,SAAS,uBACzB,+BACF,EAAE,CAAC,EACCC,EAAe,SAAS,uBAC1B,gCACF,EAAE,CAAC,EACCC,EAAc,SAAS,eAAe,sBAAsB,EAC5DC,EAAmBD,EAAY,YAE/BK,EAAcN,EAAa,UAAU,SAAS,QAAQ,EACtDK,EAAaN,EAAY,UAAU,SAAS,QAAQ,EACpDO,IAGAL,EAAY,WAAaC,EAAmBA,GAC5CD,EAAY,cAEZA,EAAY,QAAQ,YAAc,OAClCD,EAAa,UAAU,OAAO,QAAQ,EACtC,WAAW,UAAY,CACrB,IAAIC,EAAc,SAAS,eAAe,sBAAsB,EAChEA,EAAY,QAAQ,YAAc,OACpC,EAAG,GAAG,EACNK,EAAc,IAEhBL,EAAY,SAAS,CACnB,KAAMA,EAAY,WAAaC,EAC/B,SAAU,QACZ,CAAC,EACIG,IACHN,EAAY,UAAU,IAAI,QAAQ,EAClCM,EAAa,IAGnB,EACA,EACF,EAGAJ,EAAY,iBACV,SACA,UAAY,CACV,IAAIF,EAAc,SAAS,uBACzB,+BACF,EAAE,CAAC,EACCC,EAAe,SAAS,uBAC1B,gCACF,EAAE,CAAC,EACCC,EAAc,SAAS,eAAe,sBAAsB,EAC5DC,EAAmBD,EAAY,YAEnC,GAAIA,EAAY,QAAQ,aAAe,MACjCA,EAAY,QAAQ,aAAe,OACrC,OAIJ,IAAII,EAAaN,EAAY,UAAU,SAAS,QAAQ,EACpDO,EAAcN,EAAa,UAAU,SAAS,QAAQ,EAEtDC,EAAY,YAAc,EAC5BF,EAAY,UAAU,OAAO,QAAQ,EAC3BM,GACVN,EAAY,UAAU,IAAI,QAAQ,EAIlCE,EAAY,YACZA,EAAY,YAAcC,EAE1BF,EAAa,UAAU,OAAO,QAAQ,EAC5BM,GACVN,EAAa,UAAU,IAAI,QAAQ,CAEvC,EACA,EACF,CACF,CAGA,qBAAqBO,EAAO,CAE1B,IAAIC,EAAWD,EAAM,cAAc,QAAQ,KAAK,MAAM,GAAG,EACzD,QAAS,EAAI,EAAG,EAAIC,EAAS,OAAQ,IAAK,CACxC,IAAIC,EAAa,SAAS,uBAAuBD,EAAS,CAAC,CAAC,EAE5D,QAASE,KAAUD,EACbC,EAAO,QACTA,EAAO,OAAS,GAGdH,EAAM,cAAc,WAAW,WAAa,uBAE5CA,EAAM,cAAc,WAAW,UAAY,qBAEpC,GAAK,IAEdG,EAAO,OAAS,GAEZH,EAAM,cAAc,WAAW,WAAa,qBAC9CA,EAAM,cAAc,WAAW,UAAY,sBAInD,CACF,CAGA,eAAgB,CAEd,IAAII,EAAW,SAAS,SAAS,SAEjCA,EAAWA,EAAS,UAAU,CAAC,EAE/B,IAAIC,EAAYD,EAAS,MAAM,GAAG,EAC9BC,EAAU,OAAS,IACrBD,EAAWC,EAAU,CAAC,GAExB,IAAIC,EAAW,OAAO,SAAS,OAE/B,IAAIC,EAAW,SAAS,iBAAiB,QAAQ,EACjD,QAASC,KAAWD,EAClBC,EAAQ,MAAM,OAAS,OACvBA,EAAQ,iBAAiB,QAAS,UAAY,CAC5C,UAAU,UAAU,UAClBF,EAAW,IAAMF,EAAW,IAAMI,EAAQ,EAC5C,CACF,CAAC,CAEL,CACF,EC3bO,IAAMC,EAAN,KAAiB,CACtB,YAAYC,EAAW,CAErB,KAAK,kBAAoB,KAAK,kBAAkB,KAAK,IAAI,EACzD,KAAK,WAAa,KAAK,WAAW,KAAK,IAAI,EAC3C,KAAK,cAAgB,KAAK,cAAc,KAAK,IAAI,EACjD,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAC7C,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAC7C,KAAK,UAAYA,EACjB,KAAK,SAAW,IAClB,CAGA,SAASC,EAAO,CACd,KAAK,SAAWA,CAClB,CAGA,aAAc,CAEZ,SACG,iBAAiB,yBAAyB,EAC1C,QAASC,GAAkB,CAC1B,GAAIA,EAAc,UAAU,SAAS,kBAAkB,EACrD,OAEFA,EAAc,UAAU,IAAI,kBAAkB,EAE9C,IAAIC,EAAcD,EAAc,QAAQ,KACpCE,EAAU,KAAK,MAAMD,EAAY,QAAQ,KAAM,GAAG,CAAC,EAEvD,GAAIC,EAAQ,KAAM,CAEhB,IAAIC,EAAU,SAAS,cAAc,MAAM,EAC3CA,EAAQ,UAAY,2BACpBA,EAAQ,MAAM,MAAQ,YACtBA,EAAQ,MAAM,YAAc,OAC5BA,EAAQ,MAAM,OAAS,OACvBA,EAAQ,YAAc,QACtBH,EAAc,YAAYG,CAAO,EACjCA,EAAQ,iBAAiB,YAAa,IAAM,CAC1C,KAAK,UAAU,YACbA,EACA,6DACF,CACF,CAAC,EACDA,EAAQ,iBAAiB,aAAc,IAAM,CAC3C,KAAK,UAAU,cAAcA,CAAO,CACtC,CAAC,CACH,CAEA,GAAID,EAAQ,SAAU,CAEpB,IAAIE,EAAe,UACfC,EAAa,yBACbC,EAAe,GACfC,EAAa,GACbC,EAAa,GACbC,EAAW,GACXP,EAAQ,SAAW,KACrBI,EAAe,UACfC,EAAa,yBACbH,EAAe,GACfC,EAAa,GACbG,EAAa,GACbC,EAAW,IACFP,EAAQ,SAAW,MAC5BM,EAAa,UACbC,EAAW,yBACXH,EAAe,GACfC,EAAa,GACbH,EAAe,GACfC,EAAa,IAEf,IAAIK,EAAkB,KAAK,UAAU,gBACjCC,EAAiB,KAAK,UAAU,eACpCD,EAAkBA,EAAgB,QAAQ,KAAM,EAAE,EAClDA,EAAkBA,EAAgB,QAAQ,KAAM,EAAE,EAClD,IAAIE,EACF;AAAA;AAAA;AAAA;AAAA,uHAKAF,EACA,mBACAC,EACA,KACAP,EACA;AAAA,8CAEAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6HAOAK,EACA,qBACAC,EACA,KACAH,EACA;AAAA,oDAEAC,EACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qHAOAC,EACA,qBACAC,EACA,KACAL,EACA;AAAA,4CAEAC,EACA;AAAA;AAAA;AAAA;AAAA,kBAKEM,EAAc,SAAS,cAAc,KAAK,EAC9CA,EAAY,UAAYD,EACxBZ,EAAc,YAAYa,CAAW,EAGrC,SACG,iBAAiB,wBAAwB,EACzC,QAASC,GAAU,CAClB,KAAK,UAAU,mBAAmBA,CAAK,CACzC,CAAC,CACL,CAEA,GAAIZ,EAAQ,SAAU,CAEpB,IAAIa,EAAc,YAClBA,EAAcA,EAAY,OAAOb,EAAQ,QAAQ,EACjDa,EAAcA,EAAY,OAAO,GAAG,EAC/B,KAAK,UAAU,WAAW,IAAIb,EAAQ,QAAQ,GACjD,KAAK,UAAU,WAAW,IACxBA,EAAQ,SACR,KAAK,UAAU,UAAU,KAAK,UAAU,WAAW,IAAI,CACzD,EAEF,IAAIc,EAAa,SAAS,cAAc,MAAM,EAC9CA,EAAW,UAAY,2BACvBA,EAAW,MAAM,YAAc,OAC/BA,EAAW,MAAM,OAAS,OAC1BA,EAAW,YAAc,UACzBA,EAAW,MAAM,MACf,SAAW,KAAK,UAAU,WAAW,IAAId,EAAQ,QAAQ,EAAI,IAC/Dc,EAAW,MAAM,OAAS,kBAC1BhB,EAAc,YAAYgB,CAAU,EACpCA,EAAW,iBAAiB,YAAa,IAAM,CAC7C,KAAK,UAAU,YAAYA,EAAYD,CAAW,CACpD,CAAC,EACDC,EAAW,iBAAiB,aAAc,IAAM,CAC9C,KAAK,UAAU,cAAcA,CAAU,CACzC,CAAC,CACH,CAEA,GAAId,EAAQ,MAAO,CAOjB,IAAMe,EAJJf,EAAQ,MAAM,SAAS,OAAO,GAC9BA,EAAQ,MAAM,SAAS,MAAM,GAC7BA,EAAQ,MAAM,SAAS,MAAM,GAC7BA,EAAQ,MAAM,SAAS,KAAK,EACF,MAAQ,QAI9BgB,EAAqB,CAACC,EAAMC,EAAKC,EAAOC,EAAQC,IAAY,CAChE,IAAMC,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,MAAM,QAAU,IAG5B,IAAIC,EACJ,GAAIN,IAAS,MACXM,EAAW,SAAS,cAAc,KAAK,UAC9BN,IAAS,QAAS,CAC3BM,EAAW,SAAS,cAAc,OAAO,EACzCA,EAAS,QAAU,WACnBA,EAAS,SAAW,GACpBA,EAAS,MAAQ,GACjBA,EAAS,KAAO,GAChB,IAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,IAAMN,EACbM,EAAO,KAAO,YACdD,EAAS,YAAYC,CAAM,CAC7B,CAiBA,GAdAD,EAAS,UAAY,GACrBA,EAAS,MAAQJ,EACjBI,EAAS,OAASH,EAClBG,EAAS,MAAM,MAAQ,EACvBA,EAAS,MAAM,MAAQ,MACvBA,EAAS,MAAM,OAAS,OACxBA,EAAS,MAAM,SAAW,QAC1BA,EAAS,MAAM,QAAU,OACzBA,EAAS,MAAM,aAAe,OAC9BA,EAAS,IAAML,EACfK,EAAS,IAAM,GACfD,EAAY,YAAYC,CAAQ,EAG5BF,EAAS,CACX,IAAMI,EAAiB,SAAS,cAAc,YAAY,EAC1DA,EAAe,YAAc,OAASJ,EAAU,OAChDC,EAAY,YAAYG,CAAc,CACxC,CACA,OAAOH,CACT,EAIMI,EAAe,CAACT,EAAMC,EAAKG,IAAY,CAC3C,IAAME,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,QAAQ,MAAQL,EACzBK,EAAS,UAAY,2BACrBA,EAAS,MAAM,YAAc,OAC7BA,EAAS,MAAM,OAAS,UACxBA,EAAS,YACPN,IAAS,MAAQ,aAAe,cAClCnB,EAAc,YAAYyB,CAAQ,EAElCA,EAAS,iBAAiB,QAAUI,GAAc,CAChD,IAAMZ,EAAYE,IAAS,MAAQ,MAAQ,QACrCW,EAAc,SAAS,cAC3B,kBAAkBD,EAAU,OAAO,QAAQ,KAAK,IAClD,EACA,GAAIC,GAAe,KAAM,CACvB,IAAMN,EAAcN,EAClBD,EACAY,EAAU,OAAO,QAAQ,MACzB,IACA,IACAN,CACF,EACAC,EAAY,QAAQ,MAAQK,EAAU,OAAO,QAAQ,MACrD7B,EAAc,WAAW,aACvBwB,EACAxB,EAAc,WAChB,CACF,MACE8B,EAAY,OAAO,CAEvB,CAAC,CACH,EAGA,GAAI5B,EAAQ,cAAgB,GAAO,CACjC,IAAMsB,EAAcN,EAClBD,EACAf,EAAQ,MACR,IACA,IACAA,EAAQ,OACV,EACAF,EAAc,WAAW,aACvBwB,EACAxB,EAAc,WAChB,CACF,MACE4B,EAAaX,EAAWf,EAAQ,MAAOA,EAAQ,OAAO,CAE1D,CAEA,GAAIA,EAAQ,SAAU,CAGpB,IAAI6B,EAAe,SAAS,cAAc,MAAM,EAChDA,EAAa,UAAY,2BACzBA,EAAa,MAAM,YAAc,MACjCA,EAAa,YAAc,OAC3B/B,EAAc,UAAU,OAAO,SAAS,EACxCA,EAAc,UAAU,OAAO,cAAc,EAC7CA,EAAc,UAAU,IAAI,mBAAmB,EAC/CA,EAAc,QAAQ,SAAWE,EAAQ,SACrCA,EAAQ,UACVF,EAAc,QAAQ,SAAWE,EAAQ,SAEzCF,EAAc,QAAQ,QAAU,KAAK,UAAU,SAAS,KACrDgC,GAAQA,EAAI,WAAa9B,EAAQ,QACpC,EAAE,UAEFF,EAAc,QAAQ,SAAW,KAAK,UAAU,gBAChDA,EAAc,QAAQ,QAAU,KAAK,UAAU,gBAEjDA,EAAc,aAAa+B,EAAc/B,EAAc,UAAU,EACjE,KAAK,UAAU,mBAAmBA,CAAa,CACjD,CAEIE,EAAQ,YACVF,EAAc,UAAU,OAAO,SAAS,EACxCA,EAAc,UAAU,OAAO,cAAc,EAC7CA,EAAc,UAAU,IAAI,mBAAmB,EAC/CA,EAAc,QAAQ,SAAW,cACjCA,EAAc,QAAQ,SAAW,KAAK,UAAU,gBAChDA,EAAc,QAAQ,QAAU,KAAK,UAAU,eAC/C,KAAK,UAAU,mBAAmBA,CAAa,EAEnD,CAAC,EAEH,SAAS,iBAAiB,gBAAgB,EAAE,QAASA,GAAkB,CACrE,GAAIA,EAAc,UAAU,SAAS,kBAAkB,EACrD,OAEFA,EAAc,UAAU,IAAI,kBAAkB,EAG9C,IAAIiC,EAAYjC,EAAc,UAC9BA,EAAc,UAAY,KAAK,SAAS,eAAeiC,CAAS,CAClE,CAAC,CACH,CAGA,mBAAoB,CAClB,KAAK,YAAY,EACjB,KAAK,WAAW,EAChB,KAAK,cAAc,EACnB,KAAK,YAAY,CACnB,CAGA,YAAa,CACX,IAAMC,EAAe,CAACC,EAAIC,IACjBD,EAAG,SAASC,CAAG,EAAE,WAAaD,EAAG,SAASC,CAAG,EAAE,YAIlDC,EAAW,CAACD,EAAKE,IACd,CAACC,EAAGC,KACD,CAACC,EAAIC,IACJD,IAAO,IAAMC,IAAO,IAAM,CAAC,MAAMD,CAAE,GAAK,CAAC,MAAMC,CAAE,EACpDD,EAAKC,EACLD,EAAG,SAAS,EAAE,cAAcC,CAAE,GACjCR,EAAaI,EAAMC,EAAIC,EAAGJ,CAAG,EAAGF,EAAaI,EAAME,EAAID,EAAGH,CAAG,CAAC,EAIrE,SAAS,iBAAiB,IAAI,EAAE,QAASO,GAAO,CAE9CA,EAAG,UACDA,EAAG,UACH,0DACFA,EAAG,iBAAiB,QAAS,IAAM,CAEjC,IAAMC,EADQD,EAAG,QAAQ,OAAO,EACZ,cAAc,OAAO,EACzC,MAAM,KAAKC,EAAM,iBAAiB,IAAI,CAAC,EACpC,KACCP,EACE,MAAM,KAAKM,EAAG,WAAW,QAAQ,EAAE,QAAQA,CAAE,EAC5C,KAAK,IAAM,CAAC,KAAK,GACpB,CACF,EACC,QAASR,GAAOS,EAAM,YAAYT,CAAE,CAAC,CAC1C,CAAC,CACH,CAAC,CACH,CAGA,eAAgB,CACd,SAAS,iBAAiB,UAAU,EAAE,QAASU,GAAmB,CAChEA,EAAe,iBAAiB,QAAUC,GAAU,CAClDA,EAAM,OAAO,MAAM,WAAa,aAClC,CAAC,CACH,CAAC,CACH,CAGA,aAAc,CACZ,IAAMC,EAAY,SAAS,qBAAqB,KAAK,EAC/CC,EAAiB,SAAS,eAAe,SAAS,EACxD,QAAS,EAAI,EAAG,EAAID,EAAU,OAAQ,IAChCC,EAAe,SAASD,EAAU,CAAC,CAAC,GACtCA,EAAU,CAAC,EAAE,UAAU,IAAI,iBAAiB,CAGlD,CACF,ECnYO,IAAME,EAAN,KAAa,CAClB,YAAYC,EAAoBC,EAAU,CACxC,KAAK,UAAY,GACjB,KAAK,OAAS,EACd,KAAK,WAAa,EAClB,KAAK,OAAS,EACd,KAAK,UAAY,EACjB,KAAK,aAAe,KACpB,KAAK,YAAc,KACnB,KAAK,UAAY,CAAC,SAAU,OAAQ,QAAS,OAAQ,MAAO,MAAM,EAClE,KAAK,WAAa,IAAI,IACtB,KAAK,YAAc,KAAK,YAAY,KAAK,IAAI,EAC7C,KAAK,aAAe,KAAK,aAAa,KAAK,IAAI,EAC/C,KAAK,kBAAoB,KAAK,kBAAkB,KAAK,IAAI,EACzD,KAAK,WAAa,GAClB,KAAK,aAAe,EACpB,KAAK,gBAAkB,EACvB,KAAK,eAAiB,KACtB,KAAK,gBAAkB,KACvB,KAAK,WAAa,GAClB,KAAK,mBAAqBD,EAC1B,KAAK,SAAWC,CAClB,CAEA,aAAaC,EAAUC,EAASC,EAAY,CAC1C,KAAK,gBAAkBF,EACvB,KAAK,eAAiBC,EACtB,KAAK,WAAaC,EAClB,KAAK,WAAa,IAAI,GACxB,CAGA,UAAW,CAET,KAAK,aAAe,SAAS,cAAc,iBAAiB,EAC5D,KAAK,aAAa,iBAChB,aACA,KAAK,gBAAgB,KAAK,IAAI,CAChC,EACA,KAAK,aAAa,iBAChB,aACA,KAAK,eAAe,KAAK,IAAI,CAC/B,CACF,CAEA,iBAAkB,CAEZ,CAAC,KAAK,YAAc,KAAK,cAAgB,GAC3C,KAAK,gBAAkB,EACvB,KAAK,aAAe,IACpB,sBAAsB,KAAK,WAAW,KAAK,IAAI,CAAC,IAEhD,KAAK,gBAAkB,EACvB,KAAK,aAAe,IAExB,CAEA,iBAAkB,CAEZ,CAAC,KAAK,YAAc,KAAK,cAAgB,GAC3C,KAAK,WAAa,GAClB,sBAAsB,KAAK,WAAW,KAAK,IAAI,CAAC,IAEhD,KAAK,WAAa,GAClB,KAAK,aAAe,IAExB,CAEA,gBAAiB,CAEf,KAAK,WAAa,EACpB,CAEA,YAAa,CAEX,IAAIC,EAAO,SAAS,cAAc,uBAAuB,EAIrDC,EAHK,iBAAiBD,EAAM,IAAI,EAExB,iBAAiB,WAAW,EACxB,MAAM,GAAG,EAAE,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,EAAE,MAAM,GAAG,EACjDE,EAAID,EAAO,CAAC,EACZE,EAAIF,EAAO,CAAC,EAEZG,EAAe,KAAK,MAAMD,EAAGD,CAAC,GAAK,IAAM,KAAK,IAE9C,KAAK,WACH,KAAK,gBAAkB,MACzB,KAAK,gBAAkB,KAAK,gBAAkB,KAG5C,KAAK,gBAAkB,IACzB,KAAK,gBAAkB,KAAK,gBAAkB,KAI9C,KAAK,gBAAkB,IACzB,KAAK,gBAAkB,GAGrBE,EAAe,IACjBA,EAAeA,EAAe,KAGhC,IAAIC,EAAQ,KAAK,gBAAkBD,EAGnCJ,EAAK,MAAM,UAAY,UAAYK,EAAQ,OAEvC,KAAK,YACP,KAAK,aAAe,IACpB,sBAAsB,KAAK,WAAW,KAAK,IAAI,CAAC,IAGhD,KAAK,eACD,KAAK,iBAAmB,IAC1B,KAAK,aAAe,GAElB,KAAK,aAAe,GACtB,sBAAsB,KAAK,WAAW,KAAK,IAAI,CAAC,EAGtD,CAGA,YAAa,CAEX,KAAK,aAAe,SAAS,cAAc,yBAAyB,EACpE,KAAK,YAAc,SAAS,gBAC5B,KAAK,aAAa,iBAAiB,QAAS,KAAK,WAAW,EAC5D,OAAO,iBAAiB,SAAU,KAAK,YAAY,CACrD,CAIA,aAAaC,EAAO,CAClBA,EAAM,eAAe,EAErB,IAAIC,EACF,KAAK,YAAY,aAAe,KAAK,YAAY,aAE/CC,EAAM,SAAS,eAAe,sBAAsB,EACpDC,EAAc,EAClB,GAAID,GAAO,KAAM,CAEf,IAAIE,EAAW,SAAS,KAAK,sBAAsB,EACjDC,EAAWH,EAAI,sBAAsB,EACrCI,EAASD,EAAS,IAAMD,EAAS,IAE/BE,EAAS,IACXH,EAAcG,EAElB,EAGK,KAAK,YAAY,UAAYH,GAAeF,EAAc,IAE7D,KAAK,aAAa,UAAU,IAAI,8BAA8B,EAG9D,KAAK,aAAa,UAAU,OAAO,8BAA8B,CAErE,CAEA,aAAc,CAEZ,IAAIC,EAAM,SAAS,eAAe,sBAAsB,EACpDC,EAAc,EAClB,GAAID,GAAO,KAAM,CAEf,IAAIE,EAAW,SAAS,KAAK,sBAAsB,EACjDC,EAAWH,EAAI,sBAAsB,EACrCI,EAASD,EAAS,IAAMD,EAAS,IAE/BE,EAAS,IACXH,EAAcG,EAAS,GAE3B,CAEA,OAAO,sBAAsB,IAAM,CACjC,IAAIC,EAAW,SACf,GAAI,UAAU,UAAU,SAAS,QAAQ,EAAG,CAC1C,IAAIC,EAAS,UAAU,UAAU,MAC/B,wDACF,EACIA,EAAO,QAAU,IAEd,MAAMA,EAAO,CAAC,CAAC,GACd,OAAOA,EAAO,CAAC,CAAC,EAAI,OACtBD,EAAW,OAMnB,CACA,KAAK,YAAY,SAAS,CACxB,IAAKJ,EACL,SAAUI,CACZ,CAAC,CACH,CAAC,CACH,CAGA,YAAYE,EAASC,EAAa,CAEhC,IAAIC,EAAO,SAAS,cAAc,SAAS,EAC3CA,EAAK,GAAK,mBACV,IAAIC,EAAM,SAAS,eAAeF,CAAW,EAC7C,GAAID,GAAW,KAAM,CAEnBE,EAAK,UAAY,GACjBA,EAAK,YAAYC,CAAG,EAEhB,SAAS,qBAAqB,SAAS,EAAE,CAAC,GAC5C,SAAS,qBAAqB,SAAS,EAAE,CAAC,EAAE,OAAO,EAGrD,IAAIC,EAAcJ,EAAQ,sBAAsB,EAChDE,EAAK,MAAM,IAAME,EAAY,OAAS,GAAK,KAC3CF,EAAK,MAAM,KAAOE,EAAY,MAAQ,KACtC,SAAS,KAAK,YAAYF,CAAI,CAChC,CACF,CAEA,eAAgB,CAEV,SAAS,qBAAqB,SAAS,EAAE,CAAC,GAC5C,SAAS,qBAAqB,SAAS,EAAE,CAAC,EAAE,OAAO,CAEvD,CAGA,kBAAkBG,EAAOC,EAAW,CAClC,IAAMC,EAAiB,SAAS,cAAcF,CAAK,EACnD,GAAIE,GAAkB,KACpB,OAGF,IAAMC,EAAkBC,GAAM,CAC5B,KAAK,UAAY,GACjB,KAAK,OAASA,EAAE,MAAQF,EAAe,WACnC,MAAM,KAAK,MAAM,IACnB,KAAK,OAASE,EAAE,eAAe,CAAC,EAAE,MAAQF,EAAe,YAE3D,KAAK,WAAaA,EAAe,UACnC,EAEMG,EAAkBD,GAAM,CAC5B,KAAK,UAAY,GACjB,KAAK,OAASA,EAAE,MAAQF,EAAe,UACnC,MAAM,KAAK,MAAM,IACnB,KAAK,OAASE,EAAE,eAAe,CAAC,EAAE,MAAQF,EAAe,WAE3D,KAAK,UAAYA,EAAe,SAClC,EAEMI,EAASF,GAAM,CAGnB,GAFAA,EAAE,eAAe,EACjBA,EAAE,gBAAgB,EACd,CAAC,KAAK,UACR,OAEF,IAAMG,EAAIH,EAAE,MAAQF,EAAe,WAC7BM,EAASD,EAAI,KAAK,OACxB,GAAI,MAAMA,CAAC,EAAG,CAEZ,IAAMC,EADIJ,EAAE,eAAe,CAAC,EAAE,MAAQF,EAAe,WAClC,KAAK,OACxBA,EAAe,WAAa,KAAK,WAAaM,CAChD,MACEN,EAAe,WAAa,KAAK,WAAaM,CAElD,EAEMC,EAASL,GAAM,CAGnB,GAFAA,EAAE,eAAe,EACjBA,EAAE,gBAAgB,EACd,CAAC,KAAK,UACR,OAEF,IAAMM,EAAIN,EAAE,MAAQF,EAAe,UAC7BM,EAASE,EAAI,KAAK,OACxB,GAAI,MAAMA,CAAC,EAAG,CAEZ,IAAMF,EADIJ,EAAE,eAAe,CAAC,EAAE,MAAQF,EAAe,UAClC,KAAK,OACxBA,EAAe,UAAY,KAAK,UAAYM,CAC9C,MACEN,EAAe,UAAY,KAAK,UAAYM,CAEhD,EAEMG,EAAe,IAAM,CACzB,KAAK,UAAY,EACnB,EAGIV,GAAa,GACfC,EAAe,iBAAiB,YAAaO,EAAO,EAAK,EACzDP,EAAe,iBAAiB,YAAaG,EAAgB,EAAK,EAClEH,EAAe,iBAAiB,UAAWS,EAAc,EAAK,EAC9DT,EAAe,iBAAiB,aAAcS,EAAc,EAAK,EAGjET,EAAe,iBAAiB,YAAaO,EAAO,EAAK,EACzDP,EAAe,iBAAiB,aAAcG,EAAgB,EAAK,EACnEH,EAAe,iBAAiB,WAAYS,EAAc,EAAK,IAE/DT,EAAe,iBAAiB,YAAaI,EAAO,EAAK,EACzDJ,EAAe,iBAAiB,YAAaC,EAAgB,EAAK,EAClED,EAAe,iBAAiB,UAAWS,EAAc,EAAK,EAC9DT,EAAe,iBAAiB,aAAcS,EAAc,EAAK,EAGjET,EAAe,iBAAiB,YAAaI,EAAO,EAAK,EACzDJ,EAAe,iBAAiB,aAAcC,EAAgB,EAAK,EACnED,EAAe,iBAAiB,WAAYS,EAAc,EAAK,EAEnE,CACF,ECjTA,IAAIC,EAAkB,IAAI,IAEtBC,EAAW,CACb,CAAE,SAAU,WAAY,QAAS,SAAU,IAAK,MAAO,IAAK,QAAS,EACrE,CACE,SAAU,YACV,QAAS,kBACT,IAAK,MACL,IAAK,SACP,EACA,CACE,SAAU,iBACV,QAAS,oBACT,IAAK,MACL,IAAK,cACP,EACA,CAAE,SAAU,SAAU,QAAS,mBAAoB,IAAK,KAAM,IAAK,QAAS,EAC5E,CACE,SAAU,WACV,QAAS,mBACT,IAAK,KACL,IAAK,UACP,EACA,CACE,SAAU,WACV,QAAS,mBACT,IAAK,KACL,IAAK,UACP,EACA,CAAE,SAAU,MAAO,QAAS,oBAAqB,IAAK,KAAM,IAAK,KAAM,EACvE,CAAE,SAAU,MAAO,QAAS,iBAAkB,IAAK,KAAM,IAAK,KAAM,EACpE,CAAE,SAAU,MAAO,QAAS,oBAAqB,IAAK,KAAM,IAAK,KAAM,EACvE,CAAE,SAAU,OAAQ,QAAS,qBAAsB,IAAK,KAAM,IAAK,MAAO,EAC1E,CAAE,SAAU,OAAQ,QAAS,oBAAqB,IAAK,KAAM,IAAK,MAAO,EACzE,CAAE,SAAU,MAAO,QAAS,oBAAqB,IAAK,KAAM,IAAK,KAAM,EACvE,CAAE,SAAU,OAAQ,QAAS,OAAQ,IAAK,MAAO,IAAK,EAAG,CAC3D,EAGIC,EAAY,KACZC,EAAS,KACTC,EAAY,IAAIC,EAAOC,EAAoBL,CAAQ,EACnDM,EAAc,IAAIC,EAASJ,EAAWH,CAAQ,EAC9CQ,GAAgB,IAAIC,EAAWN,CAAS,EACxCO,GAAY,IAAIC,EAGhBC,GAAgBZ,EAAS,IAAKa,GAC5BA,EAAK,SAAS,SAAS,IAAI,EACtBH,GAAU,SAASG,EAAK,QAAQ,EAAE,KAAMC,GAAS,CACtDf,EAAgB,IAAIc,EAAMC,CAAI,CAChC,CAAC,EACQD,EAAK,UAAY,OACnBH,GAAU,UAAU,aAAa,EAAE,KAAMI,GAAS,CACvDf,EAAgB,IAAIc,EAAMC,CAAI,CAChC,CAAC,EAEMJ,GACJ,SAAS,UAAYG,EAAK,SAAS,YAAY,CAAC,EAChD,KAAMC,GAAS,CACdf,EAAgB,IAAIc,EAAMC,CAAI,CAChC,CAAC,CAEN,EAEGC,EAAkB,KAClBC,GAAc,GAGd,SAAS,aAAe,UAC1B,SAAS,iBAAiB,mBAAoBC,EAAQ,EAEtDA,GAAS,EAGX,SAASA,IAAW,CAElB,SACG,iBACC,0EACF,EACC,QAASJ,GAAS,CACjBR,EAAmBQ,CAAI,CACzB,CAAC,EAKH,QAAQ,IAAID,EAAa,EAAE,KAAK,IAAM,CACpCX,EAAY,IAAIiB,EAAOnB,EAAiBM,CAAkB,EAC1DJ,EAAU,gBAAgB,EAC1BA,EAAU,mBAAmB,EAE7BC,EAAS,IAAIiB,EAAIhB,CAAS,EAE1BA,EAAU,WAAW,EACrBA,EAAU,SAAS,EAInB,OAAO,iBAAiB,WAAaiB,GAAU,CAG7CA,EAAM,eAAe,EACrBA,EAAM,gBAAgB,EAClBA,EAAM,MAERC,EAAe,CAAE,GAAGD,EAAM,MAAO,UAAW,EAAM,CAAC,EAGnDC,EAAe,CAAE,SAAU,OAAQ,QAAS,OAAQ,UAAW,EAAM,CAAC,CAE1E,CAAC,EAED,IAAIC,EAAW,SAAS,SAAS,SAEjCA,EAAWA,EAAS,UAAU,CAAC,EAC/B,IAAIC,EAAMD,EAENE,EAAYF,EAAS,MAAM,GAAG,EAC9BG,EAAW,GACXD,EAAU,OAAS,IACrBC,EAAWD,EAAU,CAAC,EACtBD,EAAMC,EAAU,CAAC,GAInB,QAASE,KAAO1B,EACd,GAAI0B,EAAI,KAAOH,EAAK,CACdE,GAAY,IACdJ,EAAe,CACb,GAAGK,EACH,SAAU,IAAMD,EAChB,UAAW,EACb,CAAC,EACD,OAAO,QAAQ,aACb,KAAK,MAAM,KAAK,UAAU,CAAE,GAAGC,EAAK,SAAU,IAAMD,CAAS,CAAC,CAAC,EAC/DC,EAAI,QACJJ,CACF,IAEAD,EAAe,CAAE,GAAGK,EAAK,UAAW,EAAM,CAAC,EAC3C,OAAO,QAAQ,aACb,KAAK,MAAM,KAAK,UAAUA,CAAG,CAAC,EAC9BA,EAAI,QACJJ,CACF,GAEF,KACF,CAEJ,CAAC,CACH,CAcO,SAASjB,EAAmBQ,EAAM,CAEvC,IAAIc,EAAa,SAAS,cAAc,yBAAyB,EAE/DA,GAAW,KAAK,EAElBd,EAAK,oBAAoB,QAASe,EAAW,EAC7Cf,EAAK,iBAAiB,QAASe,EAAW,CAC5C,CAGA,SAASA,GAAYR,EAAO,CAC1BA,EAAM,eAAe,EACrBA,EAAM,gBAAgB,EAEtB,IAAIO,EAAa,SAAS,cAAc,yBAAyB,EAC7DA,GAAc,OAChB,SAAS,cAAc,KAAK,EAC5BA,EAAW,KAAK,GAGlBN,EAAeD,EAAM,cAAc,OAAO,CAC5C,CAKA,SAASC,EAAeQ,EAAS,CAC/B,IAAIC,EAAc,KAEbd,GAwBHe,GAAeF,CAAO,GAvBtBC,EAAc,IAAI,QAASE,GAAY,CAErC,OAAO,gBAAgB,EAAE,KAAMC,GAAW,CACxCzB,GAAc,SAASyB,EAAO,OAAO,EAErC,IAAMC,EAAO,SAAS,cAAc,MAAM,EAC1CA,EAAK,IAAM,aACXA,EAAK,YAAc,YACnBA,EAAK,KAAO,uBACZA,EAAK,OAAS,IAAM,CAClBF,EAAQ,yBAAyB,CACnC,EAGA,SAAS,KAAK,YAAYE,CAAI,CAChC,CAAC,CACH,CAAC,EAEDJ,EAAY,KAAK,IAAM,CACrBd,GAAc,GACde,GAAeF,CAAO,CACxB,CAAC,EAIL,CAGA,SAASE,GAAeF,EAAS,CAE/B,IAAIM,EAAc,SAAS,eAAe,SAAS,EAGnDlC,EAAU,cAAc,EACxBE,EAAU,gBAAgB,EAEtB0B,EAAQ,UAAY,QAEtBO,GAAOD,EAAaN,CAAO,EAC3BM,EAAY,MAAM,UAAY,SAE1BN,EAAQ,SAAS,SAAS,IAAI,GAEhCM,EAAY,MAAM,UAAY,QAC9BE,GAAOF,EAAaN,CAAO,IAG3BM,EAAY,MAAM,UAAY,QAC9BG,GAAOH,EAAaN,CAAO,EAGjC,CAGA,SAASO,GAAOD,EAAaN,EAAS,CACpC,IAAIU,EAAexB,EAEnB,GADAA,EAAkBc,EAAQ,SACtBd,GAAmBwB,EAAc,CACnCrC,EAAO,cAAc,EACrBC,EAAU,aAAa,OAAQ,OAAQ,EAAK,EAC5CD,EAAO,gBAAgB,EAGvB,IAAIsC,EAAa,KAGjB,OAAW,CAACC,EAAKC,CAAK,IAAK3C,EAAgB,QAAQ,EACjD,GAAI0C,EAAI,WAAa,OAAQ,CAC3BD,EAAaE,EACb,KACF,CAGFP,EAAY,UAAYK,EAExB,SAAS,MAAQ,0BACjB,SACG,cAAc,0BAA0B,EACxC,aACC,UACA,mIACF,EAGEX,EAAQ,WAAa,MACvB,OAAO,QAAQ,UACb,KAAK,MAAM,KAAK,UAAUA,CAAO,CAAC,EAClC,OAAO,MACP,GACF,EAEFc,GAAS,EACT1C,EAAU,mBAAmB,CAC/B,CACF,CAGA,SAAS0C,IAAW,CAClB,SAAS,iBAAiB,wBAAwB,EAAE,QAAS9B,GAAS,CACpER,EAAmBQ,CAAI,CACzB,CAAC,EACD,QAAS+B,KAAQ,SAAS,iBACxB,qCACF,EACEA,EAAK,iBAAiB,QAAS,UAAY,CACzC,GAAI,MAAM,cAAc,WAAa,cAAe,CAClD,MAAM,cAAc,UAAY,cAEhC,IAAIC,EAAQ,SAAS,cAAc,OAAO,EAC1CA,EAAM,IAAM,MAAM,cAAc,QAAQ,MACxCA,EAAM,UAAY,sCAClBA,EAAM,SAAW,GACjBA,EAAM,SAAW,GACjBA,EAAM,MAAQ,GACdA,EAAM,KAAO,GACb,MAAM,cAAc,cAAc,YAAYA,CAAK,EACnD,WACGA,GAAU,CACTA,EAAM,MAAM,QAAU,CACxB,EACA,GACAA,CACF,CACF,KAAO,CAEL,IAAIA,EAAQ,MAAM,cAAc,cAAc,cAC5C,sCACF,EACIA,GAAS,MACXA,EAAM,MAAM,QAAU,EACtB,WACE,CAAC,CAACC,EAASD,CAAK,IAAM,CACpBA,EAAM,OAAO,EACbC,EAAQ,UAAY,aACtB,EACA,IACA,CAAC,MAAM,cAAeD,CAAK,CAC7B,GAEA,MAAM,cAAc,UAAY,aAEpC,CACF,CAAC,CAEL,CAGA,SAASR,GAAOF,EAAaN,EAAS,CACpC,IAAIU,EAAexB,EAEnB,GADAA,EAAkBc,EAAQ,SACtBd,GAAmBwB,EAAc,CACnCrC,EAAO,cAAc,EACrBC,EAAU,aAAa0B,EAAQ,SAAUA,EAAQ,QAAS,EAAK,EAC/D3B,EAAO,gBAAgB,EACvB,IAAM6C,EAAclB,EAAQ,SACxBW,EAAa,KAGjB,OAAW,CAACC,EAAKC,CAAK,IAAK3C,EAAgB,QAAQ,EACjD,GAAI0C,EAAI,WAAaM,EAAa,CAChCP,EAAaE,EACb,KACF,CAGFP,EAAY,UAAYK,EAExBQ,GAAW,EAEX,SAAS,MAAQ,0BACjB,SACG,cAAc,0BAA0B,EACxC,aACC,UACA,mIACF,EACF,IAAMC,EAAM,IAAMlC,EAAgB,YAAY,EAE1Cc,EAAQ,WAAa,MACvB,OAAO,QAAQ,UACb,KAAK,MAAM,KAAK,UAAUA,CAAO,CAAC,EAClC,OAAO,MACPoB,CACF,EAEF,SAAS,cAAc,UAAU,EAAE,eAAe,CAChD,SAAU,QACZ,CAAC,CACH,CACF,CAGA,SAASX,GAAOH,EAAaN,EAAS,CACpC1B,EAAU,aAAa0B,EAAQ,SAAUA,EAAQ,QAAS,EAAI,EAE9D,IAAIU,EAAexB,EAEnB,GADAA,EAAkBc,EAAQ,SACtBd,GAAmBwB,EAEjBV,EAAQ,UAAY,MAEtB5B,EAAU,SAAS4B,EAAQ,SAAS,UAAU,CAAC,CAAC,EAChD,SAAS,cAAcA,EAAQ,QAAQ,EAAE,eAAe,CACtD,SAAU,QACZ,CAAC,GAGD,SAAS,cAAc,UAAU,EAAE,eAAe,CAChD,SAAU,QACZ,CAAC,MAEE,CACL3B,EAAO,cAAc,EACrBA,EAAO,gBAAgB,EACvB,IAAM6C,EAAclB,EAAQ,SACxBW,EAAa,KAGjB,OAAW,CAACC,EAAKC,CAAK,IAAK3C,EAAgB,QAAQ,EACjD,GAAI0C,EAAI,WAAaM,EAAa,CAChCP,EAAaE,EACb,KACF,CAEFP,EAAY,MAAM,WAAa,SAC/BA,EAAY,UAAYK,EAExB,SAAS,MAAQ,SAAWX,EAAQ,QACpC,SACG,cAAc,0BAA0B,EACxC,aACC,UACA,4CAA8CA,EAAQ,QAAU,GAClE,EAEF,IAAMoB,EACJ,IACAlC,EAAgB,YAAY,GAC3Bc,EAAQ,UAAYA,EAAQ,WAAa,OACtC,IAAMA,EAAQ,SAAS,UAAU,CAAC,EAClC,IAEFA,EAAQ,WAAa,MACvB,OAAO,QAAQ,UACb,KAAK,MAAM,KAAK,UAAUA,CAAO,CAAC,EAClC,OAAO,MACPoB,CACF,EAEF3C,EAAY,iBAAiB6B,CAAW,EAExCe,GAAW,EAEPrB,EAAQ,UAAY,KAClBA,EAAQ,UAAY,SAEtB5B,EAAU,SAAS4B,EAAQ,SAAS,UAAU,CAAC,CAAC,EAEhD,WAAW,IAAM,CACf,SAAS,cAAcA,EAAQ,QAAQ,EAAE,eAAe,CACtD,SAAU,QACZ,CAAC,CACH,EAAG,GAAG,GAIR,SAAS,cAAc,UAAU,EAAE,eAAe,CAChD,SAAU,QACZ,CAAC,CAEL,CACF,CAGO,SAASmB,IAAa,CAE3BxC,GAAc,kBAAkB,EAEhCN,EAAO,UAAUa,CAAe,EAEhC,SAAS,iBAAiB,uBAAuB,EAAE,QAASF,GAAS,CACnER,EAAmBQ,CAAI,CACzB,CAAC,EAEDP,EAAY,cAAc,CAC5B,CAGA,SAAS4C,IAAa,CAEpB,SACG,iBAAiB,6BAA6B,EAC9C,QAASC,GAAgB,CACxBA,EAAY,MAAM,YAChB,oBACAA,EAAY,QAAQ,SACtB,EACAA,EAAY,iBAAiB,QAAU/B,GAAU,CAG/C,SACG,iBAAiB,6BAA6B,EAC9C,QAAS+B,GAAgB,CACxBA,EAAY,UAAY,4BAC1B,CAAC,EAEH/B,EAAM,cAAc,UAAY,sCAGhC,IAAIgC,EAAoB9C,EACrB,mBAAmB,EACnB,OAAQ+C,GAAOA,EAAG,CAAC,GAAKjC,EAAM,cAAc,QAAQ,IAAI,EAC3D,SAAS,eAAe,oBAAoB,EAAE,UAC5CgC,EAAkB,CAAC,EAAE,CAAC,EAGxB,SAAS,iBAAiB,oBAAoB,EAAE,QAASE,GAAW,CAClEA,EAAO,iBAAiB,QAAShD,EAAY,oBAAoB,CACnE,CAAC,EACD0C,GAAW,EACX9C,EAAO,aAAa,CACtB,CAAC,CACH,CAAC,EAGH,SAAS,iBAAiB,6BAA6B,EAAE,CAAC,EAAE,MAAM,CACpE",
  "names": ["textarea", "decodeEntity", "name", "hasOwn", "has", "object", "key", "assign", "obj", "sources", "source", "UNESCAPE_MD_RE", "unescapeMd", "str", "isValidEntityCode", "c", "fromCodePoint", "surrogate1", "surrogate2", "NAMED_ENTITY_RE", "DIGITAL_ENTITY_TEST_RE", "replaceEntityPattern", "match", "name", "code", "decoded", "decodeEntity", "replaceEntities", "HTML_ESCAPE_TEST_RE", "HTML_ESCAPE_REPLACE_RE", "HTML_REPLACEMENTS", "replaceUnsafeChar", "ch", "escapeHtml", "rules", "tokens", "idx", "getBreak", "escapeHtml", "options", "env", "instance", "token", "langClass", "langPrefix", "langName", "fences", "fenceName", "highlighted", "has", "replaceEntities", "unescapeMd", "order", "addBreak", "title", "target", "src", "alt", "suffix", "n", "id", "hr", "nextToken", "Renderer", "assign", "_rules", "len", "i", "result", "Ruler", "name", "self", "chains", "rule", "altName", "chain", "fn", "opt", "beforeName", "ruleName", "afterName", "list", "strict", "chainName", "block", "state", "StateInline", "parserInline", "outTokens", "key", "val", "parseLinkLabel", "start", "level", "found", "marker", "labelEnd", "max", "oldPos", "oldFlag", "parseAbbr", "str", "pos", "label", "abbr", "l", "content", "normalizeLink", "url", "normalized", "parseLinkDestination", "code", "link", "parseLinkTitle", "normalizeReference", "parseReference", "parser", "href", "references", "inline", "tok", "footnote_block", "j", "lastParagraph", "current", "currentLabel", "insideRef", "refTokens", "PUNCT_CHARS", "regEscape", "s", "abbr2", "text", "nodes", "reg", "m", "regText", "blockTokens", "x", "a", "b", "RARE_RE", "SCOPED_ABBR_RE", "SCOPED_ABBR", "replaceScopedAbbr", "match", "replace", "inlineTokens", "blkIdx", "QUOTE_TEST_RE", "QUOTE_RE", "PUNCT_RE", "APOSTROPHE", "isLetter", "replaceAt", "index", "ch", "smartquotes", "thisLevel", "lastSpace", "nextSpace", "item", "canOpen", "canClose", "isSingle", "stack", "OUTER", "Core", "StateBlock", "indent", "indent_found", "line", "from", "min", "begin", "end", "keepLastLF", "first", "last", "queue", "shift", "startLine", "endLine", "nextLine", "silent", "params", "mem", "haveEndMarker", "blockquote", "lastLineEmpty", "oldTShift", "oldBMarks", "oldIndent", "oldParentType", "lines", "terminatorRules", "terminate", "cnt", "skipBulletListMarker", "skipOrderedListMarker", "markTightParagraphs", "oldTight", "posAfterMarker", "indentAfterMarker", "markerValue", "markerCharCode", "isOrdered", "contentStart", "listTokIdx", "prevEmptyEnd", "listLines", "itemLines", "tight", "footnote", "oldBMark", "heading", "tmp", "lheading", "next", "html_blocks", "HTML_TAG_OPEN_RE", "HTML_TAG_CLOSE_RE", "isLetter$1", "lc", "htmlblock", "getLine", "table", "lineText", "rows", "cell", "aligns", "t", "tableLines", "tbodyLines", "skipMarker", "markTightParagraphs$1", "deflist", "ddLine", "dtLine", "oldDDIndent", "paragraph", "_rules$1", "ParserBlock", "hasEmptyLines", "ok", "TABS_SCAN_RE", "NEWLINES_RE", "SPACES_RE", "lineStart", "lastTabPos", "offset", "isTerminatorChar", "newline", "pmax", "ESCAPED", "escape", "backticks", "matchStart", "matchEnd", "del", "lastChar", "nextChar", "ins", "mark", "isAlphaNum", "scanDelims", "count", "can_open", "can_close", "emphasis", "startCount", "oldCount", "newCount", "res", "UNESCAPE_RE", "sub", "UNESCAPE_RE$1", "sup", "links", "labelStart", "ref", "isImage", "footnote_inline", "footnoteId", "oldLength", "footnote_ref", "footnoteSubId", "url_schemas", "EMAIL_RE", "AUTOLINK_RE", "autolink", "tail", "linkMatch", "emailMatch", "fullUrl", "replace$1", "regex", "attr_name", "unquoted", "single_quoted", "double_quoted", "attr_value", "attribute", "open_tag", "close_tag", "comment", "processing", "declaration", "cdata", "HTML_TAG_RE", "isLetter$2", "htmltag", "DIGITAL_RE", "NAMED_RE", "entity", "isValidEntityCode", "fromCodePoint", "decoded", "decodeEntity", "_rules$2", "ParserInline", "validateLink", "cached_pos", "BAD_PROTOCOLS", "defaultConfig", "fullConfig", "commonmarkConfig", "config", "StateCore", "Remarkable", "preset", "presets", "plugin", "Parser", "Remarkable", "tokens", "idx", "spanReturn", "baseReturn", "options", "env", "filePath", "resolve", "reject", "xhr", "file", "fileData", "content", "fallback", "tagToken", "endingIndex", "jsonTag", "classOp", "backslash", "delimiter", "parseBlockKatex", "state", "startLine", "endLine", "haveEndMarker", "pos", "max", "marker", "mem", "len", "nextLine", "parseInlineKatex", "silent", "start", "spanStart", "escapedDepth", "char", "matchStart", "matchEnd", "Search", "techPages", "addPageChangeEvent", "search", "input", "event", "searchField", "onboardingIcon", "type", "id", "baseName", "inputName", "base", "inputField", "searchboxWidth", "a", "i", "searchBox", "referenceBox", "referenceId", "filter", "idReference", "filterArray", "searchCounter", "txtValue", "compareTxtValue", "containFlag", "stringFilter", "searchContents1L", "searchContents1", "searchContents2L", "searchContents2", "searchResults", "key", "techDocument", "doc", "headings2", "currentH2", "currentHeading", "label", "searchContents", "item", "targetHeading", "h2Collection", "h2Section", "x", "hiddenItems", "success", "targetList", "target", "TOC", "helperObj", "section", "tech", "currentDocument", "tocBorder", "selector", "content", "toc", "tocMobile", "tocIcon", "sectionContainer", "tocIconBox", "box", "boxWidth", "event", "tocContent", "h3s", "h4s", "h3", "h4", "a", "b", "tocLinks", "heading", "link", "currentH3", "currentH3Index", "nextH3Index", "i", "currentActive", "active", "currentH3Link", "searchH4", "search", "tocBox", "Headings", "helperObj", "page", "currentH4", "currentH3", "currentH2", "currentH2Text", "newInner", "newHeading", "firstH2", "currentHTML", "contentElem", "i", "injectionIndex", "injectedSearch", "newH4", "selectionTab", "h2Tag", "h2Text", "h2Color", "mobileChevrons", "chevronBox", "chevronLeft", "chevronRight", "selectorBox", "selectorBoxWidth", "selectorBoxScrollWidth", "sBoxScrollLeft", "leftActive", "rightActive", "event", "openTags", "targetList", "target", "pathname", "splitPath", "base_url", "headings", "heading", "Directives", "helperObj", "katex", "taggedElement", "tagTextData", "tagData", "todoTag", "systemActive", "systemSpan", "bossesActive", "bossesSpan", "charActive", "charSpan", "currentDocument", "currentSection", "sectionsHTML", "sectionsDiv", "input", "versionText", "versionTag", "mediaType", "createMediaElement", "type", "src", "width", "height", "caption", "mediaHolder", "mediaTag", "source", "captionElement", "addMediaIcon", "mediaIcon", "mediaTarget", "redirectIcon", "obj", "katexText", "getCellValue", "tr", "idx", "comparer", "asc", "a", "b", "v1", "v2", "th", "tbody", "spoilerElement", "event", "imageList", "contentElement", "Helper", "addPageChangeEvent", "fileList", "document", "section", "inTechPage", "logo", "values", "a", "b", "currentAngle", "angle", "event", "scrollTotal", "toc", "tocLocation", "bodyRect", "elemRect", "offset", "behavior", "pieces", "tooltip", "tooltipText", "base", "tip", "boundingBox", "query", "direction", "sliderSelector", "startDraggingX", "e", "startDraggingY", "moveX", "x", "scroll", "moveY", "y", "stopDragging", "parsedDocuments", "fileList", "searchObj", "tocObj", "helperObj", "Helper", "addPageChangeEvent", "headingsObj", "Headings", "directivesObj", "Directives", "parserObj", "Parser", "parsePromises", "item", "page", "currentDocument", "katexLoaded", "pageInit", "Search", "TOC", "event", "changeEventObj", "pathname", "ref", "splitPath", "redirect", "obj", "inputField", "changeEvent", "dataset", "parsedKatex", "changeDocument", "resolve", "module", "link", "contentText", "toHome", "toPage", "toTech", "pastDocument", "parsedPage", "key", "value", "prepHome", "elem", "video", "element", "documentKey", "updatePage", "url", "compileH2s", "selectorBox", "currentCollection", "h2", "button"]
}
