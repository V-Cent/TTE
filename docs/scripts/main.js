import"./chunk-YVLJX3HV.js";var N;function Ee(e){return N=N||document.createElement("textarea"),N.innerHTML="&"+e+";",N.value}var qe=Object.prototype.hasOwnProperty;function Pe(e,n){return e?qe.call(e,n):!1}function Te(e){var n=[].slice.call(arguments,1);return n.forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(t){e[t]=r[t]})}}),e}var je=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function w(e){return e.indexOf("\\")<0?e:e.replace(je,"$1")}function Me(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function ie(e){if(e>65535){e-=65536;var n=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(n,r)}return String.fromCharCode(e)}var Fe=/&([a-z#][a-z0-9]{1,31});/gi,ze=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function Ve(e,n){var r=0,t=Ee(n);return n!==t?t:n.charCodeAt(0)===35&&ze.test(n)&&(r=n[1].toLowerCase()==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10),Me(r))?ie(r):e}function M(e){return e.indexOf("&")<0?e:e.replace(Fe,Ve)}var Ue=/[&<>"]/,Ze=/[&<>"]/g,Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function We(e){return Ye[e]}function k(e){return Ue.test(e)?e.replace(Ze,We):e}var m={};m.blockquote_open=function(){return`<blockquote>
`};m.blockquote_close=function(e,n){return"</blockquote>"+C(e,n)};m.code=function(e,n){return e[n].block?"<pre><code>"+k(e[n].content)+"</code></pre>"+C(e,n):"<code>"+k(e[n].content)+"</code>"};m.fence=function(e,n,r,t,i){var o=e[n],l="",s=r.langPrefix,c="",a,u,f;if(o.params){if(a=o.params.split(/\s+/g),u=a.join(" "),Pe(i.rules.fence_custom,a[0]))return i.rules.fence_custom[a[0]](e,n,r,t,i);c=k(M(w(u))),l=' class="'+s+c+'"'}return r.highlight?f=r.highlight.apply(r.highlight,[o.content].concat(a))||k(o.content):f=k(o.content),"<pre><code"+l+">"+f+"</code></pre>"+C(e,n)};m.fence_custom={};m.heading_open=function(e,n){return"<h"+e[n].hLevel+">"};m.heading_close=function(e,n){return"</h"+e[n].hLevel+`>
`};m.hr=function(e,n,r){return(r.xhtmlOut?"<hr />":"<hr>")+C(e,n)};m.bullet_list_open=function(){return`<ul>
`};m.bullet_list_close=function(e,n){return"</ul>"+C(e,n)};m.list_item_open=function(){return"<li>"};m.list_item_close=function(){return`</li>
`};m.ordered_list_open=function(e,n){var r=e[n],t=r.order>1?' start="'+r.order+'"':"";return"<ol"+t+`>
`};m.ordered_list_close=function(e,n){return"</ol>"+C(e,n)};m.paragraph_open=function(e,n){return e[n].tight?"":"<p>"};m.paragraph_close=function(e,n){var r=!(e[n].tight&&n&&e[n-1].type==="inline"&&!e[n-1].content);return(e[n].tight?"":"</p>")+(r?C(e,n):"")};m.link_open=function(e,n,r){var t=e[n].title?' title="'+k(M(e[n].title))+'"':"",i=r.linkTarget?' target="'+r.linkTarget+'"':"";return'<a href="'+k(e[n].href)+'"'+t+i+">"};m.link_close=function(){return"</a>"};m.image=function(e,n,r){var t=' src="'+k(e[n].src)+'"',i=e[n].title?' title="'+k(M(e[n].title))+'"':"",o=' alt="'+(e[n].alt?k(M(w(e[n].alt))):"")+'"',l=r.xhtmlOut?" /":"";return"<img"+t+o+i+l+">"};m.table_open=function(){return`<table>
`};m.table_close=function(){return`</table>
`};m.thead_open=function(){return`<thead>
`};m.thead_close=function(){return`</thead>
`};m.tbody_open=function(){return`<tbody>
`};m.tbody_close=function(){return`</tbody>
`};m.tr_open=function(){return"<tr>"};m.tr_close=function(){return`</tr>
`};m.th_open=function(e,n){var r=e[n];return"<th"+(r.align?' style="text-align:'+r.align+'"':"")+">"};m.th_close=function(){return"</th>"};m.td_open=function(e,n){var r=e[n];return"<td"+(r.align?' style="text-align:'+r.align+'"':"")+">"};m.td_close=function(){return"</td>"};m.strong_open=function(){return"<strong>"};m.strong_close=function(){return"</strong>"};m.em_open=function(){return"<em>"};m.em_close=function(){return"</em>"};m.del_open=function(){return"<del>"};m.del_close=function(){return"</del>"};m.ins_open=function(){return"<ins>"};m.ins_close=function(){return"</ins>"};m.mark_open=function(){return"<mark>"};m.mark_close=function(){return"</mark>"};m.sub=function(e,n){return"<sub>"+k(e[n].content)+"</sub>"};m.sup=function(e,n){return"<sup>"+k(e[n].content)+"</sup>"};m.hardbreak=function(e,n,r){return r.xhtmlOut?`<br />
`:`<br>
`};m.softbreak=function(e,n,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};m.text=function(e,n){return k(e[n].content)};m.htmlblock=function(e,n){return e[n].content};m.htmltag=function(e,n){return e[n].content};m.abbr_open=function(e,n){return'<abbr title="'+k(M(e[n].title))+'">'};m.abbr_close=function(){return"</abbr>"};m.footnote_ref=function(e,n){var r=Number(e[n].id+1).toString(),t="fnref"+r;return e[n].subId>0&&(t+=":"+e[n].subId),'<sup class="footnote-ref"><a href="#fn'+r+'" id="'+t+'">['+r+"]</a></sup>"};m.footnote_block_open=function(e,n,r){var t=r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return t+`<section class="footnotes">
<ol class="footnotes-list">
`};m.footnote_block_close=function(){return`</ol>
</section>
`};m.footnote_open=function(e,n){var r=Number(e[n].id+1).toString();return'<li id="fn'+r+'"  class="footnote-item">'};m.footnote_close=function(){return`</li>
`};m.footnote_anchor=function(e,n){var r=Number(e[n].id+1).toString(),t="fnref"+r;return e[n].subId>0&&(t+=":"+e[n].subId),' <a href="#'+t+'" class="footnote-backref">\u21A9</a>'};m.dl_open=function(){return`<dl>
`};m.dt_open=function(){return"<dt>"};m.dd_open=function(){return"<dd>"};m.dl_close=function(){return`</dl>
`};m.dt_close=function(){return`</dt>
`};m.dd_close=function(){return`</dd>
`};function Ce(e,n){return++n>=e.length-2?n:e[n].type==="paragraph_open"&&e[n].tight&&e[n+1].type==="inline"&&e[n+1].content.length===0&&e[n+2].type==="paragraph_close"&&e[n+2].tight?Ce(e,n+2):n}var C=m.getBreak=function(n,r){return r=Ce(n,r),r<n.length&&n[r].type==="list_item_close"?"":`
`};function le(){this.rules=Te({},m),this.getBreak=m.getBreak}le.prototype.renderInline=function(e,n,r){for(var t=this.rules,i=e.length,o=0,l="";i--;)l+=t[e[o].type](e,o++,n,r,this);return l};le.prototype.render=function(e,n,r){for(var t=this.rules,i=e.length,o=-1,l="";++o<i;)e[o].type==="inline"?l+=this.renderInline(e[o].children,n,r):l+=t[e[o].type](e,o,n,r,this);return l};function _(){this.__rules__=[],this.__cache__=null}_.prototype.__find__=function(e){for(var n=this.__rules__.length,r=-1;n--;)if(this.__rules__[++r].name===e)return r;return-1};_.prototype.__compile__=function(){var e=this,n=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(t){n.indexOf(t)<0&&n.push(t)})}),e.__cache__={},n.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(t){t.enabled&&(r&&t.alt.indexOf(r)<0||e.__cache__[r].push(t.fn))})})};_.prototype.at=function(e,n,r){var t=this.__find__(e),i=r||{};if(t===-1)throw new Error("Parser rule not found: "+e);this.__rules__[t].fn=n,this.__rules__[t].alt=i.alt||[],this.__cache__=null};_.prototype.before=function(e,n,r,t){var i=this.__find__(e),o=t||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:n,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};_.prototype.after=function(e,n,r,t){var i=this.__find__(e),o=t||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:n,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};_.prototype.push=function(e,n,r){var t=r||{};this.__rules__.push({name:e,enabled:!0,fn:n,alt:t.alt||[]}),this.__cache__=null};_.prototype.enable=function(e,n){e=Array.isArray(e)?e:[e],n&&this.__rules__.forEach(function(r){r.enabled=!1}),e.forEach(function(r){var t=this.__find__(r);if(t<0)throw new Error("Rules manager: invalid rule name "+r);this.__rules__[t].enabled=!0},this),this.__cache__=null};_.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(n){var r=this.__find__(n);if(r<0)throw new Error("Rules manager: invalid rule name "+n);this.__rules__[r].enabled=!1},this),this.__cache__=null};_.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Xe(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function L(e,n,r,t,i){this.src=e,this.env=t,this.options=r,this.parser=n,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}L.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};L.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level};L.prototype.cacheSet=function(e,n){for(var r=this.cache.length;r<=e;r++)this.cache.push(0);this.cache[e]=n};L.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function I(e,n){var r,t,i,o=-1,l=e.posMax,s=e.pos,c=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=n+1,e.isInLabel=!0,r=1;e.pos<l;){if(i=e.src.charCodeAt(e.pos),i===91)r++;else if(i===93&&(r--,r===0)){t=!0;break}e.parser.skipToken(e)}return t?(o=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=r-1,e.pos=s,e.isInLabel=c,o}function Ge(e,n,r,t){var i,o,l,s,c,a;if(e.charCodeAt(0)!==42||e.charCodeAt(1)!==91||e.indexOf("]:")===-1||(i=new L(e,n,r,t,[]),o=I(i,1),o<0||e.charCodeAt(o+1)!==58))return-1;for(s=i.posMax,l=o+2;l<s&&i.src.charCodeAt(l)!==10;l++);return c=e.slice(2,o),a=e.slice(o+2,l).trim(),a.length===0?-1:(t.abbreviations||(t.abbreviations={}),typeof t.abbreviations[":"+c]>"u"&&(t.abbreviations[":"+c]=a),l)}function Je(e){var n=e.tokens,r,t,i,o;if(!e.inlineMode){for(r=1,t=n.length-1;r<t;r++)if(n[r-1].type==="paragraph_open"&&n[r].type==="inline"&&n[r+1].type==="paragraph_close"){for(i=n[r].content;i.length&&(o=Ge(i,e.inline,e.options,e.env),!(o<0));)i=i.slice(o).trim();n[r].content=i,i.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function oe(e){var n=M(e);try{n=decodeURI(n)}catch{}return encodeURI(n)}function Le(e,n){var r,t,i,o=n,l=e.posMax;if(e.src.charCodeAt(n)===60){for(n++;n<l;){if(r=e.src.charCodeAt(n),r===10)return!1;if(r===62)return i=oe(w(e.src.slice(o+1,n))),e.parser.validateLink(i)?(e.pos=n+1,e.linkContent=i,!0):!1;if(r===92&&n+1<l){n+=2;continue}n++}return!1}for(t=0;n<l&&(r=e.src.charCodeAt(n),!(r===32||r<32||r===127));){if(r===92&&n+1<l){n+=2;continue}if(r===40&&(t++,t>1)||r===41&&(t--,t<0))break;n++}return o===n||(i=w(e.src.slice(o,n)),!e.parser.validateLink(i))?!1:(e.linkContent=i,e.pos=n,!0)}function Se(e,n){var r,t=n,i=e.posMax,o=e.src.charCodeAt(n);if(o!==34&&o!==39&&o!==40)return!1;for(n++,o===40&&(o=41);n<i;){if(r=e.src.charCodeAt(n),r===o)return e.pos=n+1,e.linkContent=w(e.src.slice(t+1,n)),!0;if(r===92&&n+1<i){n+=2;continue}n++}return!1}function Ae(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function Ke(e,n,r,t){var i,o,l,s,c,a,u,f,d;if(e.charCodeAt(0)!==91||e.indexOf("]:")===-1||(i=new L(e,n,r,t,[]),o=I(i,0),o<0||e.charCodeAt(o+1)!==58))return-1;for(s=i.posMax,l=o+2;l<s&&(c=i.src.charCodeAt(l),!(c!==32&&c!==10));l++);if(!Le(i,l))return-1;for(u=i.linkContent,l=i.pos,a=l,l=l+1;l<s&&(c=i.src.charCodeAt(l),!(c!==32&&c!==10));l++);for(l<s&&a!==l&&Se(i,l)?(f=i.linkContent,l=i.pos):(f="",l=a);l<s&&i.src.charCodeAt(l)===32;)l++;return l<s&&i.src.charCodeAt(l)!==10?-1:(d=Ae(e.slice(1,o)),typeof t.references[d]>"u"&&(t.references[d]={title:f,href:u}),l)}function Qe(e){var n=e.tokens,r,t,i,o;if(e.env.references=e.env.references||{},!e.inlineMode){for(r=1,t=n.length-1;r<t;r++)if(n[r].type==="inline"&&n[r-1].type==="paragraph_open"&&n[r+1].type==="paragraph_close"){for(i=n[r].content;i.length&&(o=Ke(i,e.inline,e.options,e.env),!(o<0));)i=i.slice(o).trim();n[r].content=i,i.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function en(e){var n=e.tokens,r,t,i;for(t=0,i=n.length;t<i;t++)r=n[t],r.type==="inline"&&e.inline.parse(r.content,e.options,e.env,r.children)}function nn(e){var n,r,t,i,o,l,s,c,a,u=0,f=!1,d={};if(e.env.footnotes&&(e.tokens=e.tokens.filter(function(h){return h.type==="footnote_reference_open"?(f=!0,c=[],a=h.label,!1):h.type==="footnote_reference_close"?(f=!1,d[":"+a]=c,!1):(f&&c.push(h),!f)}),!!e.env.footnotes.list)){for(l=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:u++}),n=0,r=l.length;n<r;n++){for(e.tokens.push({type:"footnote_open",id:n,level:u++}),l[n].tokens?(s=[],s.push({type:"paragraph_open",tight:!1,level:u++}),s.push({type:"inline",content:"",level:u,children:l[n].tokens}),s.push({type:"paragraph_close",tight:!1,level:--u})):l[n].label&&(s=d[":"+l[n].label]),e.tokens=e.tokens.concat(s),e.tokens[e.tokens.length-1].type==="paragraph_close"?o=e.tokens.pop():o=null,i=l[n].count>0?l[n].count:1,t=0;t<i;t++)e.tokens.push({type:"footnote_anchor",id:n,subId:t,level:u});o&&e.tokens.push(o),e.tokens.push({type:"footnote_close",level:--u})}e.tokens.push({type:"footnote_block_close",level:--u})}}var me=` 
()[]'".,!?-`;function Q(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function rn(e){var n,r,t,i,o,l,s,c,a,u,f,d,h=e.tokens;if(e.env.abbreviations){for(e.env.abbrRegExp||(d="(^|["+me.split("").map(Q).join("")+"])("+Object.keys(e.env.abbreviations).map(function(g){return g.substr(1)}).sort(function(g,p){return p.length-g.length}).map(Q).join("|")+")($|["+me.split("").map(Q).join("")+"])",e.env.abbrRegExp=new RegExp(d,"g")),u=e.env.abbrRegExp,r=0,t=h.length;r<t;r++)if(h[r].type==="inline"){for(i=h[r].children,n=i.length-1;n>=0;n--)if(o=i[n],o.type==="text"){for(c=0,l=o.content,u.lastIndex=0,a=o.level,s=[];f=u.exec(l);)u.lastIndex>c&&s.push({type:"text",content:l.slice(c,f.index+f[1].length),level:a}),s.push({type:"abbr_open",title:e.env.abbreviations[":"+f[2]],level:a++}),s.push({type:"text",content:f[2],level:a}),s.push({type:"abbr_close",level:--a}),c=u.lastIndex-f[3].length;s.length&&(c<l.length&&s.push({type:"text",content:l.slice(c),level:a}),h[r].children=i=[].concat(i.slice(0,n),s,i.slice(n+1)))}}}}var tn=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,on=/\((c|tm|r|p)\)/ig,ln={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function sn(e){return e.indexOf("(")<0?e:e.replace(on,function(n,r){return ln[r.toLowerCase()]})}function cn(e){var n,r,t,i,o;if(e.options.typographer){for(o=e.tokens.length-1;o>=0;o--)if(e.tokens[o].type==="inline")for(i=e.tokens[o].children,n=i.length-1;n>=0;n--)r=i[n],r.type==="text"&&(t=r.content,t=sn(t),tn.test(t)&&(t=t.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])â€¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1\u2014$2").replace(/(^|\s)--(\s|$)/mg,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1\u2013$2")),r.content=t)}}var an=/['"]/,ge=/['"]/g,un=/[-\s()\[\]]/,ve="\u2019";function be(e,n){return n<0||n>=e.length?!1:!un.test(e[n])}function O(e,n,r){return e.substr(0,n)+r+e.substr(n+1)}function fn(e){var n,r,t,i,o,l,s,c,a,u,f,d,h,g,p,v,b;if(e.options.typographer){for(b=[],p=e.tokens.length-1;p>=0;p--)if(e.tokens[p].type==="inline"){for(v=e.tokens[p].children,b.length=0,n=0;n<v.length;n++)if(r=v[n],!(r.type!=="text"||an.test(r.text))){for(s=v[n].level,h=b.length-1;h>=0&&!(b[h].level<=s);h--);b.length=h+1,t=r.content,o=0,l=t.length;e:for(;o<l&&(ge.lastIndex=o,i=ge.exec(t),!!i);){if(c=!be(t,i.index-1),o=i.index+1,g=i[0]==="'",a=!be(t,o),!a&&!c){g&&(r.content=O(r.content,i.index,ve));continue}if(f=!a,d=!c,d){for(h=b.length-1;h>=0&&(u=b[h],!(b[h].level<s));h--)if(u.single===g&&b[h].level===s){u=b[h],g?(v[u.token].content=O(v[u.token].content,u.pos,e.options.quotes[2]),r.content=O(r.content,i.index,e.options.quotes[3])):(v[u.token].content=O(v[u.token].content,u.pos,e.options.quotes[0]),r.content=O(r.content,i.index,e.options.quotes[1])),b.length=h;continue e}}f?b.push({token:n,pos:i.index,single:g,level:s}):d&&g&&(r.content=O(r.content,i.index,ve))}}}}}var ee=[["block",Xe],["abbr",Je],["references",Qe],["inline",en],["footnote_tail",nn],["abbr2",rn],["replacements",cn],["smartquotes",fn]];function He(){this.options={},this.ruler=new _;for(var e=0;e<ee.length;e++)this.ruler.push(ee[e][0],ee[e][1])}He.prototype.process=function(e){var n,r,t;for(t=this.ruler.getRules(""),n=0,r=t.length;n<r;n++)t[n](e)};function S(e,n,r,t,i){var o,l,s,c,a,u,f;for(this.src=e,this.parser=n,this.options=r,this.env=t,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",l=this.src,u=0,f=!1,s=c=u=0,a=l.length;c<a;c++){if(o=l.charCodeAt(c),!f)if(o===32){u++;continue}else f=!0;(o===10||c===a-1)&&(o!==10&&c++,this.bMarks.push(s),this.eMarks.push(c),this.tShift.push(u),f=!1,u=0,s=c+1)}this.bMarks.push(l.length),this.eMarks.push(l.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}S.prototype.isEmpty=function(n){return this.bMarks[n]+this.tShift[n]>=this.eMarks[n]};S.prototype.skipEmptyLines=function(n){for(var r=this.lineMax;n<r&&!(this.bMarks[n]+this.tShift[n]<this.eMarks[n]);n++);return n};S.prototype.skipSpaces=function(n){for(var r=this.src.length;n<r&&this.src.charCodeAt(n)===32;n++);return n};S.prototype.skipChars=function(n,r){for(var t=this.src.length;n<t&&this.src.charCodeAt(n)===r;n++);return n};S.prototype.skipCharsBack=function(n,r,t){if(n<=t)return n;for(;n>t;)if(r!==this.src.charCodeAt(--n))return n+1;return n};S.prototype.getLines=function(n,r,t,i){var o,l,s,c,a,u=n;if(n>=r)return"";if(u+1===r)return l=this.bMarks[u]+Math.min(this.tShift[u],t),s=i?this.eMarks[u]+1:this.eMarks[u],this.src.slice(l,s);for(c=new Array(r-n),o=0;u<r;u++,o++)a=this.tShift[u],a>t&&(a=t),a<0&&(a=0),l=this.bMarks[u]+a,u+1<r||i?s=this.eMarks[u]+1:s=this.eMarks[u],c[o]=this.src.slice(l,s);return c.join("")};function hn(e,n,r){var t,i;if(e.tShift[n]-e.blkIndent<4)return!1;for(i=t=n+1;t<r;){if(e.isEmpty(t)){t++;continue}if(e.tShift[t]-e.blkIndent>=4){t++,i=t;continue}break}return e.line=t,e.tokens.push({type:"code",content:e.getLines(n,i,4+e.blkIndent,!0),block:!0,lines:[n,e.line],level:e.level}),!0}function dn(e,n,r,t){var i,o,l,s,c,a=!1,u=e.bMarks[n]+e.tShift[n],f=e.eMarks[n];if(u+3>f||(i=e.src.charCodeAt(u),i!==126&&i!==96)||(c=u,u=e.skipChars(u,i),o=u-c,o<3)||(l=e.src.slice(u,f).trim(),l.indexOf("`")>=0))return!1;if(t)return!0;for(s=n;s++,!(s>=r||(u=c=e.bMarks[s]+e.tShift[s],f=e.eMarks[s],u<f&&e.tShift[s]<e.blkIndent));)if(e.src.charCodeAt(u)===i&&!(e.tShift[s]-e.blkIndent>=4)&&(u=e.skipChars(u,i),!(u-c<o)&&(u=e.skipSpaces(u),!(u<f)))){a=!0;break}return o=e.tShift[n],e.line=s+(a?1:0),e.tokens.push({type:"fence",params:l,content:e.getLines(n+1,s,o,!0),lines:[n,e.line],level:e.level}),!0}function pn(e,n,r,t){var i,o,l,s,c,a,u,f,d,h,g,p=e.bMarks[n]+e.tShift[n],v=e.eMarks[n];if(p>v||e.src.charCodeAt(p++)!==62||e.level>=e.options.maxNesting)return!1;if(t)return!0;for(e.src.charCodeAt(p)===32&&p++,c=e.blkIndent,e.blkIndent=0,s=[e.bMarks[n]],e.bMarks[n]=p,p=p<v?e.skipSpaces(p):p,o=p>=v,l=[e.tShift[n]],e.tShift[n]=p-e.bMarks[n],f=e.parser.ruler.getRules("blockquote"),i=n+1;i<r&&(p=e.bMarks[i]+e.tShift[i],v=e.eMarks[i],!(p>=v));i++){if(e.src.charCodeAt(p++)===62){e.src.charCodeAt(p)===32&&p++,s.push(e.bMarks[i]),e.bMarks[i]=p,p=p<v?e.skipSpaces(p):p,o=p>=v,l.push(e.tShift[i]),e.tShift[i]=p-e.bMarks[i];continue}if(o)break;for(g=!1,d=0,h=f.length;d<h;d++)if(f[d](e,i,r,!0)){g=!0;break}if(g)break;s.push(e.bMarks[i]),l.push(e.tShift[i]),e.tShift[i]=-1337}for(a=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:u=[n,0],level:e.level++}),e.parser.tokenize(e,n,i),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=a,u[1]=e.line,d=0;d<l.length;d++)e.bMarks[d+n]=s[d],e.tShift[d+n]=l[d];return e.blkIndent=c,!0}function mn(e,n,r,t){var i,o,l,s=e.bMarks[n],c=e.eMarks[n];if(s+=e.tShift[n],s>c||(i=e.src.charCodeAt(s++),i!==42&&i!==45&&i!==95))return!1;for(o=1;s<c;){if(l=e.src.charCodeAt(s++),l!==i&&l!==32)return!1;l===i&&o++}return o<3?!1:(t||(e.line=n+1,e.tokens.push({type:"hr",lines:[n,e.line],level:e.level})),!0)}function ke(e,n){var r,t,i;return t=e.bMarks[n]+e.tShift[n],i=e.eMarks[n],t>=i||(r=e.src.charCodeAt(t++),r!==42&&r!==45&&r!==43)||t<i&&e.src.charCodeAt(t)!==32?-1:t}function _e(e,n){var r,t=e.bMarks[n]+e.tShift[n],i=e.eMarks[n];if(t+1>=i||(r=e.src.charCodeAt(t++),r<48||r>57))return-1;for(;;){if(t>=i)return-1;if(r=e.src.charCodeAt(t++),!(r>=48&&r<=57)){if(r===41||r===46)break;return-1}}return t<i&&e.src.charCodeAt(t)!==32?-1:t}function gn(e,n){var r,t,i=e.level+2;for(r=n+2,t=e.tokens.length-2;r<t;r++)e.tokens[r].level===i&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function vn(e,n,r,t){var i,o,l,s,c,a,u,f,d,h,g,p,v,b,fe,X,G,he,de=!0,J,D,pe,K;if((f=_e(e,n))>=0)v=!0;else if((f=ke(e,n))>=0)v=!1;else return!1;if(e.level>=e.options.maxNesting)return!1;if(p=e.src.charCodeAt(f-1),t)return!0;for(fe=e.tokens.length,v?(u=e.bMarks[n]+e.tShift[n],g=Number(e.src.substr(u,f-u-1)),e.tokens.push({type:"ordered_list_open",order:g,lines:G=[n,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:G=[n,0],level:e.level++}),i=n,X=!1,J=e.parser.ruler.getRules("list");i<r&&(b=e.skipSpaces(f),d=e.eMarks[i],b>=d?h=1:h=b-f,h>4&&(h=1),h<1&&(h=1),o=f-e.bMarks[i]+h,e.tokens.push({type:"list_item_open",lines:he=[n,0],level:e.level++}),s=e.blkIndent,c=e.tight,l=e.tShift[n],a=e.parentType,e.tShift[n]=b-e.bMarks[n],e.blkIndent=o,e.tight=!0,e.parentType="list",e.parser.tokenize(e,n,r,!0),(!e.tight||X)&&(de=!1),X=e.line-n>1&&e.isEmpty(e.line-1),e.blkIndent=s,e.tShift[n]=l,e.tight=c,e.parentType=a,e.tokens.push({type:"list_item_close",level:--e.level}),i=n=e.line,he[1]=i,b=e.bMarks[n],!(i>=r||e.isEmpty(i)||e.tShift[i]<e.blkIndent));){for(K=!1,D=0,pe=J.length;D<pe;D++)if(J[D](e,i,r,!0)){K=!0;break}if(K)break;if(v){if(f=_e(e,i),f<0)break}else if(f=ke(e,i),f<0)break;if(p!==e.src.charCodeAt(f-1))break}return e.tokens.push({type:v?"ordered_list_close":"bullet_list_close",level:--e.level}),G[1]=i,e.line=i,de&&gn(e,fe),!0}function bn(e,n,r,t){var i,o,l,s,c,a=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(a+4>u||e.src.charCodeAt(a)!==91||e.src.charCodeAt(a+1)!==94||e.level>=e.options.maxNesting)return!1;for(s=a+2;s<u;s++){if(e.src.charCodeAt(s)===32)return!1;if(e.src.charCodeAt(s)===93)break}return s===a+2||s+1>=u||e.src.charCodeAt(++s)!==58?!1:(t||(s++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),c=e.src.slice(a+2,s-2),e.env.footnotes.refs[":"+c]=-1,e.tokens.push({type:"footnote_reference_open",label:c,level:e.level++}),i=e.bMarks[n],o=e.tShift[n],l=e.parentType,e.tShift[n]=e.skipSpaces(s)-s,e.bMarks[n]=s,e.blkIndent+=4,e.parentType="footnote",e.tShift[n]<e.blkIndent&&(e.tShift[n]+=e.blkIndent,e.bMarks[n]-=e.blkIndent),e.parser.tokenize(e,n,r,!0),e.parentType=l,e.blkIndent-=4,e.tShift[n]=o,e.bMarks[n]=i,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0)}function kn(e,n,r,t){var i,o,l,s=e.bMarks[n]+e.tShift[n],c=e.eMarks[n];if(s>=c||(i=e.src.charCodeAt(s),i!==35||s>=c))return!1;for(o=1,i=e.src.charCodeAt(++s);i===35&&s<c&&o<=6;)o++,i=e.src.charCodeAt(++s);return o>6||s<c&&i!==32?!1:(t||(c=e.skipCharsBack(c,32,s),l=e.skipCharsBack(c,35,s),l>s&&e.src.charCodeAt(l-1)===32&&(c=l),e.line=n+1,e.tokens.push({type:"heading_open",hLevel:o,lines:[n,e.line],level:e.level}),s<c&&e.tokens.push({type:"inline",content:e.src.slice(s,c).trim(),level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:o,level:e.level})),!0)}function _n(e,n,r){var t,i,o,l=n+1;return l>=r||e.tShift[l]<e.blkIndent||e.tShift[l]-e.blkIndent>3||(i=e.bMarks[l]+e.tShift[l],o=e.eMarks[l],i>=o)||(t=e.src.charCodeAt(i),t!==45&&t!==61)||(i=e.skipChars(i,t),i=e.skipSpaces(i),i<o)?!1:(i=e.bMarks[n]+e.tShift[n],e.line=l+1,e.tokens.push({type:"heading_open",hLevel:t===61?1:2,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(i,e.eMarks[n]).trim(),level:e.level+1,lines:[n,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:t===61?1:2,level:e.level}),!0)}var Oe={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){Oe[e]=!0});var xn=/^<([a-zA-Z]{1,15})[\s\/>]/,yn=/^<\/([a-zA-Z]{1,15})[\s>]/;function En(e){var n=e|32;return n>=97&&n<=122}function Tn(e,n,r,t){var i,o,l,s=e.bMarks[n],c=e.eMarks[n],a=e.tShift[n];if(s+=a,!e.options.html||a>3||s+2>=c||e.src.charCodeAt(s)!==60)return!1;if(i=e.src.charCodeAt(s+1),i===33||i===63){if(t)return!0}else if(i===47||En(i)){if(i===47){if(o=e.src.slice(s,c).match(yn),!o)return!1}else if(o=e.src.slice(s,c).match(xn),!o)return!1;if(Oe[o[1].toLowerCase()]!==!0)return!1;if(t)return!0}else return!1;for(l=n+1;l<e.lineMax&&!e.isEmpty(l);)l++;return e.line=l,e.tokens.push({type:"htmlblock",level:e.level,lines:[n,e.line],content:e.getLines(n,l,0,!0)}),!0}function ne(e,n){var r=e.bMarks[n]+e.blkIndent,t=e.eMarks[n];return e.src.substr(r,t-r)}function Mn(e,n,r,t){var i,o,l,s,c,a,u,f,d,h,g;if(n+2>r||(c=n+1,e.tShift[c]<e.blkIndent)||(l=e.bMarks[c]+e.tShift[c],l>=e.eMarks[c])||(i=e.src.charCodeAt(l),i!==124&&i!==45&&i!==58)||(o=ne(e,n+1),!/^[-:| ]+$/.test(o))||(a=o.split("|"),a<=2))return!1;for(f=[],s=0;s<a.length;s++){if(d=a[s].trim(),!d){if(s===0||s===a.length-1)continue;return!1}if(!/^:?-+:?$/.test(d))return!1;d.charCodeAt(d.length-1)===58?f.push(d.charCodeAt(0)===58?"center":"right"):d.charCodeAt(0)===58?f.push("left"):f.push("")}if(o=ne(e,n).trim(),o.indexOf("|")===-1||(a=o.replace(/^\||\|$/g,"").split("|"),f.length!==a.length))return!1;if(t)return!0;for(e.tokens.push({type:"table_open",lines:h=[n,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[n,n+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[n,n+1],level:e.level++}),s=0;s<a.length;s++)e.tokens.push({type:"th_open",align:f[s],lines:[n,n+1],level:e.level++}),e.tokens.push({type:"inline",content:a[s].trim(),lines:[n,n+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:g=[n+2,0],level:e.level++}),c=n+2;c<r&&!(e.tShift[c]<e.blkIndent||(o=ne(e,c).trim(),o.indexOf("|")===-1));c++){for(a=o.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),s=0;s<a.length;s++)e.tokens.push({type:"td_open",align:f[s],level:e.level++}),u=a[s].substring(a[s].charCodeAt(0)===124?1:0,a[s].charCodeAt(a[s].length-1)===124?a[s].length-1:a[s].length).trim(),e.tokens.push({type:"inline",content:u,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),h[1]=g[1]=c,e.line=c,!0}function B(e,n){var r,t,i=e.bMarks[n]+e.tShift[n],o=e.eMarks[n];return i>=o||(t=e.src.charCodeAt(i++),t!==126&&t!==58)||(r=e.skipSpaces(i),i===r)||r>=o?-1:r}function Cn(e,n){var r,t,i=e.level+2;for(r=n+2,t=e.tokens.length-2;r<t;r++)e.tokens[r].level===i&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function Ln(e,n,r,t){var i,o,l,s,c,a,u,f,d,h,g,p,v,b;if(t)return e.ddIndent<0?!1:B(e,n)>=0;if(u=n+1,e.isEmpty(u)&&++u>r||e.tShift[u]<e.blkIndent||(i=B(e,u),i<0)||e.level>=e.options.maxNesting)return!1;a=e.tokens.length,e.tokens.push({type:"dl_open",lines:c=[n,0],level:e.level++}),l=n,o=u;e:for(;;){for(b=!0,v=!1,e.tokens.push({type:"dt_open",lines:[l,l],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(l,l+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[l,l],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:s=[u,0],level:e.level++}),p=e.tight,d=e.ddIndent,f=e.blkIndent,g=e.tShift[o],h=e.parentType,e.blkIndent=e.ddIndent=e.tShift[o]+2,e.tShift[o]=i-e.bMarks[o],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,o,r,!0),(!e.tight||v)&&(b=!1),v=e.line-o>1&&e.isEmpty(e.line-1),e.tShift[o]=g,e.tight=p,e.parentType=h,e.blkIndent=f,e.ddIndent=d,e.tokens.push({type:"dd_close",level:--e.level}),s[1]=u=e.line,u>=r||e.tShift[u]<e.blkIndent)break e;if(i=B(e,u),i<0)break;o=u}if(u>=r||(l=u,e.isEmpty(l))||e.tShift[l]<e.blkIndent||(o=l+1,o>=r)||(e.isEmpty(o)&&o++,o>=r)||e.tShift[o]<e.blkIndent||(i=B(e,o),i<0))break}return e.tokens.push({type:"dl_close",level:--e.level}),c[1]=u,e.line=u,b&&Cn(e,a),!0}function Sn(e,n){var r,t,i,o,l,s=n+1,c;if(r=e.lineMax,s<r&&!e.isEmpty(s)){for(c=e.parser.ruler.getRules("paragraph");s<r&&!e.isEmpty(s);s++)if(!(e.tShift[s]-e.blkIndent>3)){for(i=!1,o=0,l=c.length;o<l;o++)if(c[o](e,s,r,!0)){i=!0;break}if(i)break}}return t=e.getLines(n,s,e.blkIndent,!1).trim(),e.line=s,t.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:t,level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var q=[["code",hn],["fences",dn,["paragraph","blockquote","list"]],["blockquote",pn,["paragraph","blockquote","list"]],["hr",mn,["paragraph","blockquote","list"]],["list",vn,["paragraph","blockquote"]],["footnote",bn,["paragraph"]],["heading",kn,["paragraph","blockquote"]],["lheading",_n],["htmlblock",Tn,["paragraph","blockquote"]],["table",Mn,["paragraph"]],["deflist",Ln,["paragraph"]],["paragraph",Sn]];function se(){this.ruler=new _;for(var e=0;e<q.length;e++)this.ruler.push(q[e][0],q[e][1],{alt:(q[e][2]||[]).slice()})}se.prototype.tokenize=function(e,n,r){for(var t=this.ruler.getRules(""),i=t.length,o=n,l=!1,s,c;o<r&&(e.line=o=e.skipEmptyLines(o),!(o>=r||e.tShift[o]<e.blkIndent));){for(c=0;c<i&&(s=t[c](e,o,r,!1),!s);c++);if(e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),o=e.line,o<r&&e.isEmpty(o)){if(l=!0,o++,o<r&&e.parentType==="list"&&e.isEmpty(o))break;e.line=o}}};var An=/[\n\t]/g,Hn=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,On=/\u00a0/g;se.prototype.parse=function(e,n,r,t){var i,o=0,l=0;if(!e)return[];e=e.replace(On," "),e=e.replace(Hn,`
`),e.indexOf("	")>=0&&(e=e.replace(An,function(s,c){var a;return e.charCodeAt(c)===10?(o=c+1,l=0,s):(a="    ".slice((c-o-l)%4),l=c-o+1,a)})),i=new S(e,this,n,r,t),this.tokenize(i,i.line,i.lineMax)};function wn(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function In(e,n){for(var r=e.pos;r<e.posMax&&!wn(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}function Rn(e,n){var r,t,i=e.pos;if(e.src.charCodeAt(i)!==10)return!1;if(r=e.pending.length-1,t=e.posMax,!n)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(var o=r-2;o>=0;o--)if(e.pending.charCodeAt(o)!==32){e.pending=e.pending.substring(0,o+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(i++;i<t&&e.src.charCodeAt(i)===32;)i++;return e.pos=i,!0}var ce=[];for(re=0;re<256;re++)ce.push(0);var re;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){ce[e.charCodeAt(0)]=1});function $n(e,n){var r,t=e.pos,i=e.posMax;if(e.src.charCodeAt(t)!==92)return!1;if(t++,t<i){if(r=e.src.charCodeAt(t),r<256&&ce[r]!==0)return n||(e.pending+=e.src[t]),e.pos+=2,!0;if(r===10){for(n||e.push({type:"hardbreak",level:e.level}),t++;t<i&&e.src.charCodeAt(t)===32;)t++;return e.pos=t,!0}}return n||(e.pending+="\\"),e.pos++,!0}function Dn(e,n){var r,t,i,o,l,s=e.pos,c=e.src.charCodeAt(s);if(c!==96)return!1;for(r=s,s++,t=e.posMax;s<t&&e.src.charCodeAt(s)===96;)s++;for(i=e.src.slice(r,s),o=l=s;(o=e.src.indexOf("`",l))!==-1;){for(l=o+1;l<t&&e.src.charCodeAt(l)===96;)l++;if(l-o===i.length)return n||e.push({type:"code",content:e.src.slice(s,o).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=l,!0}return n||(e.pending+=i),e.pos+=i.length,!0}function Nn(e,n){var r,t,i,o=e.posMax,l=e.pos,s,c;if(e.src.charCodeAt(l)!==126||n||l+4>=o||e.src.charCodeAt(l+1)!==126||e.level>=e.options.maxNesting||(s=l>0?e.src.charCodeAt(l-1):-1,c=e.src.charCodeAt(l+2),s===126)||c===126||c===32||c===10)return!1;for(t=l+2;t<o&&e.src.charCodeAt(t)===126;)t++;if(t>l+3)return e.pos+=t-l,n||(e.pending+=e.src.slice(l,t)),!0;for(e.pos=l+2,i=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===126&&e.src.charCodeAt(e.pos+1)===126&&(s=e.src.charCodeAt(e.pos-1),c=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,c!==126&&s!==126&&(s!==32&&s!==10?i--:c!==32&&c!==10&&i++,i<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=l+2,n||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=l,!1)}function Bn(e,n){var r,t,i,o=e.posMax,l=e.pos,s,c;if(e.src.charCodeAt(l)!==43||n||l+4>=o||e.src.charCodeAt(l+1)!==43||e.level>=e.options.maxNesting||(s=l>0?e.src.charCodeAt(l-1):-1,c=e.src.charCodeAt(l+2),s===43)||c===43||c===32||c===10)return!1;for(t=l+2;t<o&&e.src.charCodeAt(t)===43;)t++;if(t!==l+2)return e.pos+=t-l,n||(e.pending+=e.src.slice(l,t)),!0;for(e.pos=l+2,i=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===43&&e.src.charCodeAt(e.pos+1)===43&&(s=e.src.charCodeAt(e.pos-1),c=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,c!==43&&s!==43&&(s!==32&&s!==10?i--:c!==32&&c!==10&&i++,i<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=l+2,n||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=l,!1)}function qn(e,n){var r,t,i,o=e.posMax,l=e.pos,s,c;if(e.src.charCodeAt(l)!==61||n||l+4>=o||e.src.charCodeAt(l+1)!==61||e.level>=e.options.maxNesting||(s=l>0?e.src.charCodeAt(l-1):-1,c=e.src.charCodeAt(l+2),s===61)||c===61||c===32||c===10)return!1;for(t=l+2;t<o&&e.src.charCodeAt(t)===61;)t++;if(t!==l+2)return e.pos+=t-l,n||(e.pending+=e.src.slice(l,t)),!0;for(e.pos=l+2,i=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===61&&e.src.charCodeAt(e.pos+1)===61&&(s=e.src.charCodeAt(e.pos-1),c=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,c!==61&&s!==61&&(s!==32&&s!==10?i--:c!==32&&c!==10&&i++,i<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=l+2,n||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=l,!1)}function xe(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function ye(e,n){var r=n,t,i,o,l=!0,s=!0,c=e.posMax,a=e.src.charCodeAt(n);for(t=n>0?e.src.charCodeAt(n-1):-1;r<c&&e.src.charCodeAt(r)===a;)r++;return r>=c&&(l=!1),o=r-n,o>=4?l=s=!1:(i=r<c?e.src.charCodeAt(r):-1,(i===32||i===10)&&(l=!1),(t===32||t===10)&&(s=!1),a===95&&(xe(t)&&(l=!1),xe(i)&&(s=!1))),{can_open:l,can_close:s,delims:o}}function Pn(e,n){var r,t,i,o,l,s,c,a=e.posMax,u=e.pos,f=e.src.charCodeAt(u);if(f!==95&&f!==42||n)return!1;if(c=ye(e,u),r=c.delims,!c.can_open)return e.pos+=r,n||(e.pending+=e.src.slice(u,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=u+r,s=[r];e.pos<a;){if(e.src.charCodeAt(e.pos)===f){if(c=ye(e,e.pos),t=c.delims,c.can_close){for(o=s.pop(),l=t;o!==l;){if(l<o){s.push(o-l);break}if(l-=o,s.length===0)break;e.pos+=o,o=s.pop()}if(s.length===0){r=o,i=!0;break}e.pos+=t;continue}c.can_open&&s.push(t),e.pos+=t;continue}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=u+r,n||((r===2||r===3)&&e.push({type:"strong_open",level:e.level++}),(r===1||r===3)&&e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),(r===1||r===3)&&e.push({type:"em_close",level:--e.level}),(r===2||r===3)&&e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+r,e.posMax=a,!0):(e.pos=u,!1)}var jn=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Fn(e,n){var r,t,i=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==126||n||o+2>=i||e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<i;){if(e.src.charCodeAt(e.pos)===126){r=!0;break}e.parser.skipToken(e)}return!r||o+1===e.pos||(t=e.src.slice(o+1,e.pos),t.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,n||e.push({type:"sub",level:e.level,content:t.replace(jn,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0)}var zn=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Vn(e,n){var r,t,i=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==94||n||o+2>=i||e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<i;){if(e.src.charCodeAt(e.pos)===94){r=!0;break}e.parser.skipToken(e)}return!r||o+1===e.pos||(t=e.src.slice(o+1,e.pos),t.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,n||e.push({type:"sup",level:e.level,content:t.replace(zn,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0)}function Un(e,n){var r,t,i,o,l,s,c,a,u=!1,f=e.pos,d=e.posMax,h=e.pos,g=e.src.charCodeAt(h);if(g===33&&(u=!0,g=e.src.charCodeAt(++h)),g!==91||e.level>=e.options.maxNesting||(r=h+1,t=I(e,h),t<0))return!1;if(s=t+1,s<d&&e.src.charCodeAt(s)===40){for(s++;s<d&&(a=e.src.charCodeAt(s),!(a!==32&&a!==10));s++);if(s>=d)return!1;for(h=s,Le(e,s)?(o=e.linkContent,s=e.pos):o="",h=s;s<d&&(a=e.src.charCodeAt(s),!(a!==32&&a!==10));s++);if(s<d&&h!==s&&Se(e,s))for(l=e.linkContent,s=e.pos;s<d&&(a=e.src.charCodeAt(s),!(a!==32&&a!==10));s++);else l="";if(s>=d||e.src.charCodeAt(s)!==41)return e.pos=f,!1;s++}else{if(e.linkLevel>0)return!1;for(;s<d&&(a=e.src.charCodeAt(s),!(a!==32&&a!==10));s++);if(s<d&&e.src.charCodeAt(s)===91&&(h=s+1,s=I(e,s),s>=0?i=e.src.slice(h,s++):s=h-1),i||(typeof i>"u"&&(s=t+1),i=e.src.slice(r,t)),c=e.env.references[Ae(i)],!c)return e.pos=f,!1;o=c.href,l=c.title}return n||(e.pos=r,e.posMax=t,u?e.push({type:"image",src:o,title:l,alt:e.src.substr(r,t-r),level:e.level}):(e.push({type:"link_open",href:o,title:l,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=s,e.posMax=d,!0}function Zn(e,n){var r,t,i,o,l=e.posMax,s=e.pos;return s+2>=l||e.src.charCodeAt(s)!==94||e.src.charCodeAt(s+1)!==91||e.level>=e.options.maxNesting||(r=s+2,t=I(e,s+1),t<0)?!1:(n||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),i=e.env.footnotes.list.length,e.pos=r,e.posMax=t,e.push({type:"footnote_ref",id:i,level:e.level}),e.linkLevel++,o=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[i]={tokens:e.tokens.splice(o)},e.linkLevel--),e.pos=t+1,e.posMax=l,!0)}function Yn(e,n){var r,t,i,o,l=e.posMax,s=e.pos;if(s+3>l||!e.env.footnotes||!e.env.footnotes.refs||e.src.charCodeAt(s)!==91||e.src.charCodeAt(s+1)!==94||e.level>=e.options.maxNesting)return!1;for(t=s+2;t<l;t++){if(e.src.charCodeAt(t)===32||e.src.charCodeAt(t)===10)return!1;if(e.src.charCodeAt(t)===93)break}return t===s+2||t>=l||(t++,r=e.src.slice(s+2,t-1),typeof e.env.footnotes.refs[":"+r]>"u")?!1:(n||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+r]<0?(i=e.env.footnotes.list.length,e.env.footnotes.list[i]={label:r,count:0},e.env.footnotes.refs[":"+r]=i):i=e.env.footnotes.refs[":"+r],o=e.env.footnotes.list[i].count,e.env.footnotes.list[i].count++,e.push({type:"footnote_ref",id:i,subId:o,level:e.level})),e.pos=t,e.posMax=l,!0)}var Wn=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],Xn=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Gn=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function Jn(e,n){var r,t,i,o,l,s=e.pos;return e.src.charCodeAt(s)!==60||(r=e.src.slice(s),r.indexOf(">")<0)?!1:(t=r.match(Gn),t?Wn.indexOf(t[1].toLowerCase())<0||(o=t[0].slice(1,-1),l=oe(o),!e.parser.validateLink(o))?!1:(n||(e.push({type:"link_open",href:l,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=t[0].length,!0):(i=r.match(Xn),i?(o=i[0].slice(1,-1),l=oe("mailto:"+o),e.parser.validateLink(l)?(n||(e.push({type:"link_open",href:l,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0):!1):!1))}function P(e,n){return e=e.source,n=n||"",function r(t,i){return t?(i=i.source||i,e=e.replace(t,i),r):new RegExp(e,n)}}var Kn=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,Qn=/[^"'=<>`\x00-\x20]+/,er=/'[^']*'/,nr=/"[^"]*"/,rr=P(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",Qn)("single_quoted",er)("double_quoted",nr)(),tr=P(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",Kn)("attr_value",rr)(),ir=P(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",tr)(),or=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,lr=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,sr=/<[?].*?[?]>/,cr=/<![A-Z]+\s+[^>]*>/,ar=/<!\[CDATA\[[\s\S]*?\]\]>/,ur=P(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",ir)("close_tag",or)("comment",lr)("processing",sr)("declaration",cr)("cdata",ar)();function fr(e){var n=e|32;return n>=97&&n<=122}function hr(e,n){var r,t,i,o=e.pos;return!e.options.html||(i=e.posMax,e.src.charCodeAt(o)!==60||o+2>=i)||(r=e.src.charCodeAt(o+1),r!==33&&r!==63&&r!==47&&!fr(r))||(t=e.src.slice(o).match(ur),!t)?!1:(n||e.push({type:"htmltag",content:e.src.slice(o,o+t[0].length),level:e.level}),e.pos+=t[0].length,!0)}var dr=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,pr=/^&([a-z][a-z0-9]{1,31});/i;function mr(e,n){var r,t,i,o=e.pos,l=e.posMax;if(e.src.charCodeAt(o)!==38)return!1;if(o+1<l){if(r=e.src.charCodeAt(o+1),r===35){if(i=e.src.slice(o).match(dr),i)return n||(t=i[1][0].toLowerCase()==="x"?parseInt(i[1].slice(1),16):parseInt(i[1],10),e.pending+=Me(t)?ie(t):ie(65533)),e.pos+=i[0].length,!0}else if(i=e.src.slice(o).match(pr),i){var s=Ee(i[1]);if(i[1]!==s)return n||(e.pending+=s),e.pos+=i[0].length,!0}}return n||(e.pending+="&"),e.pos++,!0}var te=[["text",In],["newline",Rn],["escape",$n],["backticks",Dn],["del",Nn],["ins",Bn],["mark",qn],["emphasis",Pn],["sub",Fn],["sup",Vn],["links",Un],["footnote_inline",Zn],["footnote_ref",Yn],["autolink",Jn],["htmltag",hr],["entity",mr]];function j(){this.ruler=new _;for(var e=0;e<te.length;e++)this.ruler.push(te[e][0],te[e][1]);this.validateLink=gr}j.prototype.skipToken=function(e){var n=this.ruler.getRules(""),r=n.length,t=e.pos,i,o;if((o=e.cacheGet(t))>0){e.pos=o;return}for(i=0;i<r;i++)if(n[i](e,!0)){e.cacheSet(t,e.pos);return}e.pos++,e.cacheSet(t,e.pos)};j.prototype.tokenize=function(e){for(var n=this.ruler.getRules(""),r=n.length,t=e.posMax,i,o;e.pos<t;){for(o=0;o<r&&(i=n[o](e,!1),!i);o++);if(i){if(e.pos>=t)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};j.prototype.parse=function(e,n,r,t){var i=new L(e,this,n,r,t);this.tokenize(i)};function gr(e){var n=["vbscript","javascript","file","data"],r=e.trim().toLowerCase();return r=M(r),!(r.indexOf(":")!==-1&&n.indexOf(r.split(":")[0])!==-1)}var vr={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},br={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},kr={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},_r={default:vr,full:br,commonmark:kr};function we(e,n,r){this.src=n,this.env=r,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function y(e,n){typeof e!="string"&&(n=e,e="default"),n&&n.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new j,this.block=new se,this.core=new He,this.renderer=new le,this.ruler=new _,this.options={},this.configure(_r[e]),this.set(n||{})}y.prototype.set=function(e){Te(this.options,e)};y.prototype.configure=function(e){var n=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&n[r].ruler.enable(e.components[r].rules,!0)})};y.prototype.use=function(e,n){return e(this,n),this};y.prototype.parse=function(e,n){var r=new we(this,e,n);return this.core.process(r),r.tokens};y.prototype.render=function(e,n){return n=n||{},this.renderer.render(this.parse(e,n),this.options,n)};y.prototype.parseInline=function(e,n){var r=new we(this,e,n);return r.inlineMode=!0,this.core.process(r),r.tokens};y.prototype.renderInline=function(e,n){return n=n||{},this.renderer.render(this.parseInline(e,n),this.options,n)};var F=class{constructor(){this.md=new y("full",{html:!0,typographer:!1}),this.openEmRenderer=this.md.renderer.rules.em_open,this.closeEmRenderer=this.md.renderer.rules.em_close,this.closeHeadingRenderer=this.md.renderer.rules.heading_close,this.injectedHeading=!1,this.injectedEm=!1,this.tagMap={r:"red",b:"blue",g:"green",y:"yellow",p:"pink",t:"teal","!":"spoiler"},this.updateRules()}isTextToken(n){return"content"in n}updateRules(){this.md.renderer.rules.heading_open=(n,r)=>{let t=n[r+1];if(t&&this.isTextToken(t)&&t.content&&t.content[0]===":"&&(this.injectedHeading=!0,t.content[1]==="{")){let i=this.parseJsonTag(n,r),o=`<h${n[r].hLevel} id="${t.content.replace(/\s+/g,"-").toLowerCase()}">`;return i+o}return t&&this.isTextToken(t)&&t.content?`<h${n[r].hLevel} id="${t.content.replace(/\s+/g,"-").toLowerCase()}">`:`<h${n[r].hLevel}>`},this.md.renderer.rules.em_open=(n,r,t,i)=>this.parseTags(n,r,t,i,this.openEmRenderer),this.md.renderer.rules.heading_close=(n,r,t,i)=>this.injectedHeading?(this.injectedHeading=!1,`${this.closeHeadingRenderer(n,r,t,i).concat("</span>").replace(/\n/g," ")}
`):this.closeHeadingRenderer(n,r,t,i),this.md.renderer.rules.em_close=(n,r,t,i)=>this.injectedEm?(this.injectedEm=!1,"</span>"):this.closeEmRenderer(n,r,t,i),this.parseKatex()}async loadFile(n){return new Promise((r,t)=>{let i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=()=>{i.status>=200&&i.status<300?r(i.response):t({status:i.status,statusText:i.statusText})},i.onerror=()=>{t({status:i.status,statusText:i.statusText})},i.send()})}async asyncRead(n){let r=await this.loadFile(n);return!r||r.length<=1?"":r}async parseGFM(n){let r=await this.loadFile(`${n}.md`);return!r||r.length<=1?"":this.md.render(r)}parseTags(n,r,t,i,o){let l=n[r+1];if(l&&this.isTextToken(l))if(l.content&&l.content[0]===":"){if(this.injectedEm=!0,l.content[1]==="{")return this.parseJsonTag(n,r);let s=l.content[1];return l.content=l.content.slice(2),`<span class="${this.tagMap[s]}">`}else return o?o(n,r,t,i):"";return o?o(n,r,t,i):""}parseJsonTag(n,r){let t=n[r+1];if(!t||!this.isTextToken(t)||!t.content)return"";let i=t.content.indexOf("}");if(i===-1)return"";let o=t.content.substring(1,i+1);if(t.content=t.content.slice(i+2),t.type==="inline"&&t.children&&t.children[0]){let s=t.children[0];s.content=t.content}return`<span class="${n[r].type==="em_open"?"tagging-text":"tagging"}" data-tags="${o}">`}parseKatex(){let n="\\",r="$",t=(o,l,s)=>{let c=!1,a=o.bMarks[l]+o.tShift[l],u=o.eMarks[l];if(a+1>u)return!1;let f=o.src.charAt(a);if(f!==r)return!1;let d=a;a=o.skipChars(a,+f);let h=a-d;if(h!==2)return!1;let g=l;for(;++g,!(g>=s||(a=o.bMarks[g]+o.tShift[g],u=o.eMarks[g],a<u&&o.tShift[g]<o.blkIndent));)if(o.src.charAt(a)===r&&!(o.tShift[g]-o.blkIndent>=4)&&(a=o.skipChars(a,+f),!(a-d<h)&&(a=o.skipSpaces(a),!(a<u)))){c=!0;break}let p=o.getLines(l+1,g,o.tShift[l],!0).replace(/[ \n]+/g," ").trim();return o.tokens.push({type:"katex",content:p,lines:[l,g+(c?1:0)],level:o.level}),o.line=g+(c?1:0),!0},i=(o,l)=>{let s=o.pos,c=o.posMax,a=s;if(o.src.charAt(a)!==r)return!1;for(++a;a<c&&o.src.charAt(a)===r;)++a;let u=o.src.slice(s,a);if(u.length>2)return!1;let f=a,d=0;for(;a<c;){let h=o.src.charAt(a);if(h==="{"&&(a===0||o.src.charAt(a-1)!==n))d++;else if(h==="}"&&(a===0||o.src.charAt(a-1)!==n)){if(d--,d<0)return!1}else if(h===r&&d===0){let g=a,p=a+1;for(;p<c&&o.src.charAt(p)===r;)++p;if(p-g===u.length){if(!l){let v=o.src.slice(f,g).replace(/[ \n]+/g," ").trim();o.push({type:"katex",content:v,block:u.length>1,level:o.level})}return o.pos=p,!0}}a++}return l||(o.pending+=u),o.pos+=u.length,!0};this.md.inline.ruler.push("katex",i.bind(this),{}),this.md.block.ruler.push("katex",t.bind(this),{}),this.md.renderer.rules.katex=(o,l)=>`<span class="tagging-katex">${o[l].content}</span>`}};var z=class{constructor(n,r){this.navLock=!1,this.currentActiveSearch=null,this.techPages=n,this.addPageChangeEvent=r,this.searchBoxListener=this.searchBoxListener.bind(this)}initSearchIcons(){let n=document.querySelector("#nav-bar__searchbox");if(!n)return;n.addEventListener("click",this.searchBoxListener);let r=document.querySelector("#nav-bar__search--input");r&&(r.addEventListener("keyup",this.filterFunction.bind(this)),r.addEventListener("focusin",this.filterFunction.bind(this))),n.targetParam="search";let t=document.querySelector("#nav-bar__games--icon");t&&t.addEventListener("click",this.gamesFunction.bind(this)),n.addEventListener("focusout",i=>{let o=document.querySelector("#nav-bar__search");o&&(i.stopPropagation(),o.contains(i.relatedTarget)||this.clearFunction())}),this.fillSearch()}initOnboardingIcon(){let n=document.querySelector("#content__home__onboarding--icon");n&&n.addEventListener("click",this.gamesFunction.bind(this))}searchBoxListener(n){if(this.navLock)return;let t=n.currentTarget.targetParam;if(!t)return;this.currentActiveSearch=t,this.injectSearchBox("#nav-bar__search"),document.querySelector(".nav-bar__search--results")===null&&this.fillSearch()}injectSearchBox(n){if(this.navLock)return;let r=document.querySelector(n);if(!r)return;r.removeEventListener("click",this.searchBoxListener);let t=`${n}box`,i=`${n}--input`,o=document.querySelector(t),l=document.querySelector(i);if(!o)return;let s=280;this.currentActiveSearch==="search"?document.body.clientWidth>=480&&(s=400):s=280,o.style.width=`${s}px`,this.currentActiveSearch==="search"?l&&l.focus():o.focus()}clearFunction(){let n=document.querySelector("#nav-bar__searchbox");if(!n)return;this.navLock=!0;let r=n,t="#nav-bar__search",i=r.getElementsByClassName("button__redirect");for(let l of i)l.style.display="none";let o=document.querySelector(`${t}--hr`);o&&(o.style.display="none"),this.navLock=!1}filterFunction(){let n="#nav-bar__search";if(this.currentActiveSearch==="games")return;let r=document.querySelector(`${n}--input`);if(!r)return;let t=r.value.toUpperCase().trim(),i=t.split(" "),o=document.querySelector(`${n}box`);if(!o)return;let l=o.getElementsByClassName("button__redirect"),s=0;for(let a of l){let u=a,f=u.textContent||u.innerText||"";f+=` ${u.dataset.section||""} ${u.dataset.document||""}`;let d=f.toUpperCase(),h=!0;for(let g of i)if(!d.includes(g)||t.length===0){h=!1;break}if(h){if("TALES OF".includes(t)||t==="T"||t==="TO"){u.dataset.tag==="game"&&(u.style.display="block");continue}u.style.display=s<12||u.dataset.tag==="game"?"block":"none",s++}else u.style.display="none"}let c=document.querySelector(`${n}--hr`);c&&(c.style.display=(s>0||"TALES OF".includes(t)||t==="T"||t==="TO")&&t.length>0?"block":"none")}gamesFunction(){let n=document.querySelector("#nav-bar__searchbox");if(!n)return;let r=n.getElementsByClassName("button__redirect");for(let l of r)l.style.display="none";let t=document.querySelector("#nav-bar__search--hr");t&&(t.style.display="none"),this.navLock=!1;let i=document.querySelector("#nav-bar__search--input");if(!i)return;let o="Tales of";i.value=o,i.focus()}fillSearch(){let n=[],r=[],t=document.querySelector("#nav-bar__searchbox");if(!t)return;t.insertAdjacentHTML("beforeend",`
      <hr id="nav-bar__search--hr" tabindex="0" style="display: none;">
    `);for(let[c,a]of this.techPages.entries()){if(c.dim==="N/A"||c.document.includes("-C")||c.document.includes("-B"))continue;let f=new DOMParser().parseFromString(a,"text/html");f.querySelectorAll("h1").forEach(()=>{let p=`
          <a href="/${c.document}" 
             title="${c.section}" 
             data-document="${c.document}" 
             class="nav-bar__search--results button__redirect" 
             tabindex="0" 
             data-section="${c.section}" 
             data-tag="game">
            <span class="nav-bar__search--results--games material-symbols-rounded">sports_esports</span>
            <b>${c.section}</b>
          </a>
        `;n.push(p)});let h=f.querySelectorAll("h1, h2, h3, h4"),g=null;h.forEach(p=>{if(p.tagName==="H1")g=null;else if(p.tagName==="H2"&&(g=p.id),(g==="glitches"||g==="techniques")&&p.id!=="general-techniques"&&p.tagName!=="H2"){let v=c.section.replace("Tales of","").trim(),b=`
              <a href="/${c.document}" 
                 title="${c.section}" 
                 data-document="${c.document}" 
                 class="nav-bar__search--results button__redirect" 
                 tabindex="0" 
                 data-section="${c.section}" 
                 data-tag="tech" 
                 data-redirect="#${p.id}">
                <span class="nav-bar__search--results--games material-symbols-rounded">book_2</span>
                <b>${v}</b>
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;${p.textContent||""}
              </a>
            `;r.push(b)}})}n.sort(),r.sort();let o=n.join(""),l=r.join(""),s=`${o}${l}`;t.insertAdjacentHTML("beforeend",s),document.querySelectorAll("a.nav-bar__search--results").forEach(c=>{this.addPageChangeEvent(c)})}revealID(n){let r=document.getElementById(n);if(!r){let o=JSON.parse(sessionStorage.getItem("h2Collection")||"null");if(!o)return;console.log(o);let l=0;for(let c=0;c<o.length;c++)if(o[c][2].includes(`id="${n}"`)){l=c;break}let s=document.querySelectorAll(".content__selectorbox--item");s[l]&&s[l].click()}if(r=document.getElementById(n),!r)return;let t=null,i=!1;if(r.tagName==="H4")r.dataset.open&&(t=r.dataset.open.split(" "),i=!0);else if(r.parentNode instanceof HTMLElement&&r.parentNode.className.includes("content__")){let o=r.parentNode.firstElementChild;o?.dataset.open&&(t=o.dataset.open.split(" "),i=!0)}else if(r.parentNode?.parentNode instanceof HTMLElement){let o=r.parentNode.parentNode.firstElementChild;o?.dataset.open&&(t=o.dataset.open.split(" "),i=!0)}i&&t&&t.forEach(o=>{let l=document.getElementsByClassName(o);for(let s of l){let c=s;if(c.hidden){if(c.hidden=!1,c.parentNode instanceof HTMLElement&&c.parentNode.className.includes("content__")){let a=c.parentNode.firstElementChild?.firstChild;a&&a.innerHTML==="expand_circle_down"&&(a.innerHTML="expand_circle_up")}else if(c.parentNode?.parentNode instanceof HTMLElement){let a=c.parentNode.parentNode.firstElementChild?.firstChild;a&&a.innerHTML==="expand_circle_down"&&(a.innerHTML="expand_circle_up")}}}})}};var V=class{constructor(n){this.headings=[],this.ticking=!1,this.helperObj=n,document.addEventListener("scroll",()=>{!this.ticking&&this.helperObj.inTechPage&&(window.requestAnimationFrame(()=>{this.highlightTOC(),this.ticking=!1}),this.ticking=!0)})}clearHeadings(){this.headings=[]}createTOC(n){let r=document.getElementById("content__tocborder"),t=null,i=null,o=null,l=null;if(r==null){if(document.querySelector(".content__selectorbox--item.selected")==null||(i=document.getElementById("content"),!i)||(r=document.createElement("div"),r.id="content__tocborder",i.appendChild(r),o=document.createElement("div"),o.id="content__toc",l=document.createElement("div"),l.id="content__tocmobile",r.appendChild(o),t=document.getElementById("content__selector"),!t))return;r.style.top=`${t.offsetTop+i.offsetTop+10}px`;let d=document.createElement("span");d.className="material-symbols-rounded",d.id="content__tocicon",d.innerHTML="menu_book",d.style.display="none";let h=document.getElementById("section-container__div");if(!h)return;h.appendChild(d);let g=document.createElement("div");g.id="content__tocicon--box",g.style.width="0px",g.tabIndex=0,h.appendChild(g),g.appendChild(l),this.helperObj.dragScrollElement(`#${g.id}`,1),this.helperObj.dragScrollElement(`#${o.id}`,1),d.addEventListener("click",()=>{let p=document.getElementById("content__tocicon--box");if(!p)return;let v=document.body.clientWidth>=480?360:300;p.style.width=`${v}px`,p.className="fadein",g.style.display="block",p.focus()}),g.addEventListener("focusout",p=>{let v=document.getElementById("content__tocicon--box");v&&(p.stopPropagation(),v.className="fadeout")})}else t=document.getElementById("content__selector"),i=document.getElementById("content"),o=document.getElementById("content__toc"),l=document.getElementById("content__tocmobile");if(!r||!t)return;r.style.height=`calc(100% - ${t.offsetTop+150}px)`;let s="<p>ON THIS SECTION</p><hr>";o&&(o.innerHTML=s),l&&(l.innerHTML=s),this.headings=[];let c=document.querySelectorAll("#content__currenth2 h3"),a=document.querySelectorAll("#content__currenth2 h4");for(let f of c)this.headings.push({name:f.textContent||"",clientY:f.getBoundingClientRect().top,isH3:!0,obj:f,id:f.id});for(let f of a)this.headings.push({name:f.textContent||"",clientY:f.getBoundingClientRect().top,isH3:!1,obj:f,id:f.id});this.headings.sort((f,d)=>f.clientY-d.clientY);let u="";for(let f of this.headings){let d="";d=f.isH3?`<div data-document="${n}" data-section="${this.helperObj.currentSection}" data-redirect="#${f.id}" class="content__toc--search button__redirect" style="display: block;">`:`<div data-document="${n}" data-section="${this.helperObj.currentSection}" data-redirect="#${f.id}" class="content__toc--search content__toc--search-h4 button__redirect" style="display: block;">`,d=d.concat(`${f.name}</div>`),u=u.concat(d)}o&&(o.innerHTML=s.concat(u)),l&&(l.innerHTML=s.concat(u))}highlightTOC(){let n=null,r=0,t=0;for(let i=0;i<this.headings.length;i++){let o=this.headings[i];if(o.isH3){let l=o.obj.getBoundingClientRect().top,s=Math.max(window.innerHeight*.25,150);if(l<=s||n===null)n=o,r=i;else{t=i;break}}}n!==null&&(document.querySelectorAll(".content__toc--search.active").forEach(l=>l.classList.remove("active")),document.querySelectorAll(`.content__toc--search[data-redirect="#${n.id}"]`).forEach(l=>l.classList.add("active")));for(let i=0;i<this.headings.length;i++){let o=this.headings[i];if(!o.isH3){let l=i>=r&&i<=t||t===0&&r>0&&i>=r||t===0&&r===0;document.querySelectorAll(`.content__toc--search[data-redirect="#${o.id}"]`).forEach(c=>{l?(c.style.display="block",c.classList.add("active")):(c.style.display="none",c.classList.remove("active"))})}}}clearSectionTOC(){let n=document.getElementById("content__tocicon");n!==null&&n.remove();let r=document.getElementById("content__tocicon--box");r!==null&&r.remove()}};var U=class{constructor(n){this.colorCollection=[["yellow","#f8d959"],["pink","#fe796f"],["teal","#45c9c9"],["green","#58f15b"],["red","#e74a41"],["lavender","#c8a2b0"],["blue","#205aaa"]],this.h2Collection=[],this.helperObj=n}returnH2Collection(){return this.h2Collection}collapseHeadings(n){this.h2Collection=[];let r=null,t=null,i=null,o="",l="",s="",c=!0,a=n.innerHTML.split(`
`),u=document.getElementById("content");if(!u)return;for(let h=0;h<a.length;h++)if(a[h].includes('h4 id="')){r&&(l+=`</div></div>
`),r=a[h].substring(a[h].indexOf('h4 id="')+7),r=r.substring(0,r.indexOf('"')),l+=`
          <div class="content__h4">
        `;let g=a[h].indexOf('h4 id="')+7+r.length+1,p=` data-open="${r} ${t} ${i}"`,v=a[h].substring(0,g)+p+a[h].substring(g);l+=`
          ${v}
          <div class="${r}">
        `}else a[h].includes('h3 id="')?(r&&(l+=`</div></div>
`,r=null),t&&(l+=`
            <hr class="content__h3--divider" draggable="false" />
            </div></div>
          `),t=a[h].substring(a[h].indexOf('h3 id="')+7),t=t.substring(0,t.indexOf('"')),l+=`
          <div class="content__h3">
            <button class="content__collapse" data-open="${t} ${i}">
              <span class="material-symbols-rounded">expand_circle_up</span>
            </button>
            ${a[h]}
            <div class="${t}">
        `):a[h].includes('h2 id="')?(c=!1,r&&(l+=`</div></div>
`,r=null),t&&(l+=`</div></div>
`,t=null),i&&(l+=`</div></div>
`,this.h2Collection.push([i,o,l]),l=""),i=a[h].substring(a[h].indexOf('h2 id="')+7),i=i.substring(0,i.indexOf('"')),o=a[h].substring(a[h].indexOf('">')+2),o=o.substring(0,o.indexOf("</h2>")),l+=`
          <div class="content__h2" id="${i}">
            <div class="${i}">
        `):c?s+=`${a[h]}
`:l+=`${a[h]}
`;r&&(l+=`</div></div>
`),t&&(l+=`</div></div>
`),i&&(l+=`</div></div>
`,this.h2Collection.push([i,o,l]),l="");let f=`
      <div id="content__selector">
        <div id="content__selectorbox">
    `;for(let h=0;h<this.h2Collection.length;h++){let g=this.h2Collection[h][0],p=this.h2Collection[h][1],v=this.colorCollection[h%this.colorCollection.length];f+=`
        <div class="content__selectorbox--item" data-open="${g}" data-highlight="${v[1]}">
          ${p}
        </div>
      `,this.h2Collection[h].push(v)}sessionStorage.setItem("h2Collection",JSON.stringify(this.h2Collection)),f+=`
        </div>
        <hr id="content__selectorhr"></hr>
    `;let d=`
      <div id="content__mobilechevrons">
        <span class="content__mobilechevrons--left material-symbols-rounded">chevron_backward</span>
        <span class="content__mobilechevrons--right material-symbols-rounded">chevron_forward</span>
      </div></div>
      <div id="content__currenth2"></div>
    `;n.innerHTML=this.h2Collection.length>0?`${s}${f}${d}`:s,this.helperObj.dragScrollElement("#content__selectorbox",0),this.setupChevrons(),u.style.visibility="visible"}setupChevrons(){let n=document.getElementById("content__mobilechevrons"),r=document.querySelector(".content__mobilechevrons--left"),t=document.querySelector(".content__mobilechevrons--right"),i=document.getElementById("content__selectorbox");if(!n||!r||!t||!i)return;let o=()=>{let l=i.clientWidth,s=i.scrollWidth;l<s?(n.style.display="block",n.style.left=`${i.getBoundingClientRect().right}px`):n.style.display="none";let c=i.scrollLeft;c>0?r.classList.add("active"):r.classList.remove("active"),c<s-l?t.classList.add("active"):t.classList.remove("active")};o(),window.addEventListener("resize",o,!0),r.addEventListener("click",()=>{let l=i.offsetWidth,s=Math.max(0,i.scrollLeft-l);i.scrollTo({left:s,behavior:"smooth"}),setTimeout(()=>o(),700)}),t.addEventListener("click",()=>{let l=i.offsetWidth,s=Math.min(i.scrollWidth-l,i.scrollLeft+l);i.scrollTo({left:s,behavior:"smooth"}),setTimeout(()=>o(),700)}),i.addEventListener("scroll",()=>{o()})}collapseHeadingStyle(n){let r=n.currentTarget;if(!r.dataset.open)return;let t=r.dataset.open.split(" ");for(let i=0;i<t.length;i++){let o=document.getElementsByClassName(t[i]);for(let l of o){let s=l;if(s.hidden){s.hidden=!1;let c=r.firstChild;c&&c.innerHTML==="expand_circle_down"&&(c.innerHTML="expand_circle_up")}else if(i===0){s.hidden=!0;let c=r.firstChild;c&&c.innerHTML==="expand_circle_up"&&(c.innerHTML="expand_circle_down")}}}}shareHeadings(){let n=document.location.pathname.substring(1),r=n.split("/");r.length>1&&(n=r[0]);let t=window.location.origin;document.querySelectorAll("h3, h4").forEach(o=>{o.style.cursor="copy",o.addEventListener("click",()=>{let l=`${t}/${n}/${o.id}`;navigator.clipboard.writeText(l).catch(()=>{})})})}};var Z=class{constructor(n){this.compileDirectives=this.compileDirectives.bind(this),this.sortTables=this.sortTables.bind(this),this.treatSpoilers=this.treatSpoilers.bind(this),this.styleImages=this.styleImages.bind(this),this.compileTags=this.compileTags.bind(this),this.helperObj=n,this.katexObj=null}setKatex(n){this.katexObj=n}compileTags(){document.querySelectorAll(".tagging, .tagging-text").forEach(n=>{if(n.classList.contains("tagging-computed"))return;n.classList.add("tagging-computed");let r=n.dataset.tags||"{}",t=JSON.parse(r.replace(/'/g,'"')),i=(l,s,c,a,u)=>{let f=document.createElement("p");f.style.opacity="1";let d;if(l==="img")d=document.createElement("img"),d.alt="";else{d=document.createElement("video"),d.preload="metadata",d.controls=!0,d.muted=!0,d.loop=!0;let h=document.createElement("source");h.src=s,h.type="video/mp4",d.appendChild(h)}if(d.draggable=!1,d.width=c,d.height=a,d.style.order="2",d.style.width="80%",d.style.height="auto",d.style.maxWidth="640px",d.style.outline="none",d.style.borderRadius="14px",d.src=s,f.appendChild(d),u){let h=document.createElement("figcaption");h.textContent=`\xA0${u}\xA0`,f.appendChild(h)}return f},o=(l,s,c)=>{let a=document.createElement("span");a.dataset.media=s,a.className="material-symbols-rounded",a.style.marginRight="15px",a.style.cursor="pointer",a.textContent=l==="img"?"imagesmode":"play_circle",n.appendChild(a),a.addEventListener("click",()=>{let u=l==="img"?"img":"video",f=document.querySelector(`p[data-media="${a.dataset.media}"]`);if(f){f.remove();return}let d=i(u,s,640,480,c);d.dataset.media=s,n.parentNode?.insertBefore(d,n.nextSibling)})};if(t.sections){let l="checked",s=" <span>(LOADED)</span>",c="",a="",u="",f="";t.article==="b"?(c="checked",a=" <span>(LOADED)</span>",l="",s="",u="",f=""):t.article==="c"&&(u="checked",f=" <span>(LOADED)</span>",c="",a="",l="",s="");let d=(this.helperObj.currentDocument??"").replace("-C","").replace("-B",""),h=this.helperObj.currentSection??"",g=`
          <div id="content__sections">
            <div class="content__sections--entry">
              <div class="content__sections--input-label">
                <input type="radio" id="systems" name="sections" value="systems" data-redirect="NONE" data-document="${d}" data-section="${h}" ${l} />
                <label for="systems">Systems${s}</label>
              </div>
              <p>Detailed information on the game's systems, techniques, and glitches.</p>
            </div>
            <div class="content__sections--entry">
              <div class="content__sections--input-label">
                <input type="radio" id="characters" name="sections" value="characters" data-redirect="NONE" data-document="${d}-C" data-section="${h}" ${u} />
                <label for="characters">Characters${f}</label>
              </div>
              <p>A breakdown of each character, such as notable arte properties, strategies, and character-specific techniques.</p>
            </div>
            <div class="content__sections--entry">
              <div class="content__sections--input-label">
                <input type="radio" id="bosses" name="sections" value="bosses" data-redirect="NONE" data-document="${d}-B" data-section="${h}" ${c} />
                <label for="bosses">Bosses${a}</label>
              </div>
              <p>A summary of each boss. Contains spoilers!</p>
            </div>
          </div>`,p=document.createElement("div");p.innerHTML=g,n.appendChild(p),document.querySelectorAll('input[name="sections"]').forEach(v=>{this.helperObj.addPageChangeEvent(v)})}if(t.versions){let l=`Version: ${t.versions}.`;if(!this.helperObj.versionMap.has(t.versions)){let c=this.helperObj.versionMap.size,a=this.helperObj.colorList[c];this.helperObj.versionMap.set(t.versions,a)}let s=document.createElement("span");s.className="material-symbols-rounded",s.style.marginRight="15px",s.style.cursor="help",s.textContent="devices",s.style.color=`var(--${this.helperObj.versionMap.get(t.versions)})`,s.style.filter="brightness(1.5)",n.appendChild(s),s.addEventListener("mouseover",()=>{this.helperObj.loadTooltip(s,l)}),s.addEventListener("mouseleave",()=>{this.helperObj.unloadTooltip()})}if(t.todo){let l=document.createElement("span");l.className="material-symbols-rounded",l.style.color="goldenrod",l.style.marginRight="15px",l.style.cursor="help",l.textContent="error",n.appendChild(l),l.addEventListener("mouseover",()=>{this.helperObj.loadTooltip(l,"This section needs work, is not confirmed or needs testing.")}),l.addEventListener("mouseleave",()=>{this.helperObj.unloadTooltip()})}if(t.media){let s=/\.(webp|png|jpg|&ii)$/.test(t.media)?"img":"video";if(t.forcedmedia===!1)o(s,t.media,t.caption);else{let c=i(s,t.media,640,480,t.caption);n.parentNode?.insertBefore(c,n.nextSibling)}}if(t.redirect){let l=document.createElement("span");l.className="material-symbols-rounded",l.style.marginRight="5px",l.textContent="link",n.classList.remove("tagging","tagging-text"),n.classList.add("content__redirect"),n.dataset.redirect=t.redirect,t.document?(n.dataset.document=t.document,n.dataset.section=this.helperObj.fileList.find(s=>s.document===t.document)?.section||""):(n.dataset.document=this.helperObj.currentDocument,n.dataset.section=this.helperObj.currentSection),n.insertBefore(l,n.firstChild),this.helperObj.addPageChangeEvent(n)}t.reference&&(n.classList.remove("tagging","tagging-text"),n.classList.add("content__redirect"),n.dataset.redirect="#references",n.dataset.document=this.helperObj.currentDocument,n.dataset.section=this.helperObj.currentSection,this.helperObj.addPageChangeEvent(n))}),document.querySelectorAll(".tagging-katex").forEach(n=>{if(n.classList.contains("tagging-computed"))return;n.classList.add("tagging-computed");let r=n.innerHTML;this.katexObj&&(n.innerHTML=this.katexObj.renderToString(r))})}compileDirectives(){this.compileTags(),this.sortTables(),this.treatSpoilers(),this.styleImages()}sortTables(){let n=(i,o)=>i.children[o]?.textContent?.trim()||"",r=(i,o)=>(l,s)=>{let c=n(o?l:s,i),a=n(o?s:l,i);return c!==""&&a!==""&&!isNaN(Number(c))&&!isNaN(Number(a))?Number(c)-Number(a):c.localeCompare(a)};document.querySelectorAll("th").forEach(i=>{i.innerHTML+='<span class="material-symbols-rounded">swap_vert</span>',i.addEventListener("click",()=>{let l=i.closest("table")?.querySelector("tbody")||null;if(!l)return;let s=Array.from(l.querySelectorAll("tr")),c=Array.from(i.parentNode?.children||[]).indexOf(i),a=i.dataset.asc!=="true";s.sort(r(c,a)).forEach(u=>l.appendChild(u)),i.dataset.asc=a.toString()})})}treatSpoilers(){document.querySelectorAll(".spoiler").forEach(r=>{r.addEventListener("click",t=>{let i=t.currentTarget;i.style.background="transparent"})})}styleImages(){let n=document.getElementsByTagName("img"),r=document.getElementById("content");r&&Array.from(n).forEach(t=>{r.contains(t)&&t.classList.add("content__figure")})}};var Y=class{constructor(n,r){this.mouseDown=!1,this.startX=0,this.scrollLeft=0,this.startY=0,this.scrollTop=0,this.scrollButton=null,this.rootElement=null,this.colorList=["yellow","teal","green","pink","red","blue"],this.versionMap=new Map,this.rotateFlag=!1,this.leaveCounter=0,this.currentVelocity=0,this.currentSection=void 0,this.currentDocument=void 0,this.inTechPage=!1,this.addPageChangeEvent=n,this.fileList=r}updateStatus(n,r,t){this.currentDocument=n,this.currentSection=r,this.inTechPage=t,this.versionMap=new Map}logoInit(){let n=document.querySelector("#nav-bar__title");n&&(n.addEventListener("mouseenter",this.startRotateLogo.bind(this)),n.addEventListener("mouseleave",this.stopRotateLogo.bind(this)))}addLogoVelocity(){if(!this.rotateFlag&&this.leaveCounter===0){this.currentVelocity=4,this.leaveCounter=200,requestAnimationFrame(this.rotateLogo.bind(this));return}this.currentVelocity=4,this.leaveCounter=200}startRotateLogo(){!this.rotateFlag&&this.leaveCounter===0?(this.rotateFlag=!0,requestAnimationFrame(this.rotateLogo.bind(this))):(this.rotateFlag=!0,this.leaveCounter=200)}stopRotateLogo(){this.rotateFlag=!1}rotateLogo(){let n=document.querySelector("#nav-bar__title__logo");if(!n)return;let t=getComputedStyle(n,null).getPropertyValue("transform");if(t==="none")return;let i=t.split("(")[1].split(")")[0].split(","),o=parseFloat(i[0]),l=parseFloat(i[1]),s=Math.atan2(l,o)*(180/Math.PI);this.rotateFlag?this.currentVelocity<1.8&&(this.currentVelocity+=.06):this.currentVelocity>0&&(this.currentVelocity-=.03),this.currentVelocity<0&&(this.currentVelocity=0),s<0&&(s+=360);let c=this.currentVelocity+s;if(n.style.transform=`rotate(${c}deg)`,this.rotateFlag){this.leaveCounter=200,requestAnimationFrame(this.rotateLogo.bind(this));return}this.leaveCounter--,this.currentVelocity<=0&&(this.leaveCounter=0),this.leaveCounter>0&&requestAnimationFrame(this.rotateLogo.bind(this))}scrollInit(){this.scrollButton=document.querySelector("#scroll__button--to-top"),this.rootElement=document.documentElement,this.scrollButton&&this.scrollButton.addEventListener("click",this.scrollToTop.bind(this)),window.addEventListener("scroll",this.handleScroll.bind(this))}handleScroll(n){n.preventDefault();let r=this.rootElement.scrollHeight-this.rootElement.clientHeight,t=document.getElementById("content__selectorbox"),i=0;if(t){let o=document.body.getBoundingClientRect(),s=t.getBoundingClientRect().top-o.top;s>0&&(i=s)}(this.rootElement.scrollTop-i)/r>.05?this.scrollButton?.classList.add("scroll__button--to-top--show"):this.scrollButton?.classList.remove("scroll__button--to-top--show")}scrollToTop(){let n=document.getElementById("content__selectorbox"),r=0;if(n!==null){let t=document.body.getBoundingClientRect(),o=n.getBoundingClientRect().top-t.top;o>0&&(r=o-20)}window.requestAnimationFrame(()=>{let t="smooth";if(navigator.userAgent.includes("Chrome")){let i=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/);i&&i.length>=1&&!isNaN(Number(i[1]))&&Number(i[1])<130&&(t="auto")}this.rootElement?.scrollTo({top:r,behavior:t})})}loadTooltip(n,r){let t=document.createElement("tooltip");t.id="nav-bar__tooltip";let i=document.createTextNode(r);if(n===null)return;t.innerHTML="",t.appendChild(i);let o=document.getElementsByTagName("tooltip")[0];o&&o.remove();let l=n.getBoundingClientRect();t.style.top=`${l.bottom-10}px`,t.style.left=`${l.right}px`,document.body.appendChild(t)}unloadTooltip(){let n=document.getElementsByTagName("tooltip")[0];n&&n.remove()}dragScrollElement(n,r){let t=document.querySelector(n);if(t===null)return;let i=a=>{this.mouseDown=!0,this.startX=a instanceof MouseEvent?a.pageX-t.offsetLeft:a.changedTouches[0].pageX-t.offsetLeft,this.scrollLeft=t.scrollLeft},o=a=>{this.mouseDown=!0,this.startY=a instanceof MouseEvent?a.pageY-t.offsetTop:a.changedTouches[0].pageY-t.offsetTop,this.scrollTop=t.scrollTop},l=a=>{if(a.preventDefault(),a.stopPropagation(),!this.mouseDown)return;let f=(a instanceof MouseEvent?a.pageX-t.offsetLeft:a.changedTouches[0].pageX-t.offsetLeft)-this.startX;t.scrollLeft=this.scrollLeft-f},s=a=>{if(a.preventDefault(),a.stopPropagation(),!this.mouseDown)return;let f=(a instanceof MouseEvent?a.pageY-t.offsetTop:a.changedTouches[0].pageY-t.offsetTop)-this.startY;t.scrollTop=this.scrollTop-f},c=()=>{this.mouseDown=!1};if(r===1){t.addEventListener("mousemove",s,!1),t.addEventListener("mousedown",o,!1),t.addEventListener("mouseup",c,!1),t.addEventListener("mouseleave",c,!1),t.addEventListener("touchmove",s,!1),t.addEventListener("touchstart",o,!1),t.addEventListener("touchend",c,!1);return}t.addEventListener("mousemove",l,!1),t.addEventListener("mousedown",i,!1),t.addEventListener("mouseup",c,!1),t.addEventListener("mouseleave",c,!1),t.addEventListener("touchmove",l,!1),t.addEventListener("touchstart",i,!1),t.addEventListener("touchend",c,!1)}};var A=new Map,ue=[{document:"./README",section:"README",dim:"N/A",ref:"readme"},{document:"./STYLING",section:"Document Styling",dim:"N/A",ref:"styling"},{document:"./CONTRIBUTING",section:"How to Contribute",dim:"N/A",ref:"contributing"},{document:"TODPS2",section:"Tales of Destiny",dim:"2D",ref:"todps2"},{document:"TODPS2-C",section:"Tales of Destiny",dim:"2D",ref:"todps2-c"},{document:"TODPS2-B",section:"Tales of Destiny",dim:"2D",ref:"todps2-b"},{document:"TOL",section:"Tales of Legendia",dim:"2D",ref:"tol"},{document:"TOA",section:"Tales of Arise",dim:"3D",ref:"toa"},{document:"TOV",section:"Tales of Vesperia",dim:"3D",ref:"tov"},{document:"TOTA",section:"Tales of the Abyss",dim:"3D",ref:"tota"},{document:"TOX2",section:"Tales of Xillia 2",dim:"3D",ref:"tox2"},{document:"TOZ",section:"Tales of Zestiria",dim:"3D",ref:"toz"},{document:"HOME",section:"HOME",dim:"N/A",ref:""}],H=null,T=null,E=new Y($,ue),W=new U(E),Ne=new Z(E),ae=new F,xr=ue.map(async e=>{if(e.document.includes("./")){let n=await ae.parseGFM(e.document);A.set(e,n)}else if(e.document==="HOME"){let n=await ae.asyncRead("./home.html");A.set(e,n)}else{let n=await ae.parseGFM(`./tech/${e.document.toLowerCase()}`);A.set(e,n)}}),x="",Ie=!1;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Re):Re();function Re(){document.querySelectorAll("div#nav-bar__title, p.footer-container__help--links, img#title-text__img").forEach(e=>{$(e)}),Promise.all(xr).then(()=>{H=new z(A,$),H.initSearchIcons(),H.initOnboardingIcon(),T=new V(E),E.scrollInit(),E.logoInit(),window.addEventListener("popstate",i=>{i.preventDefault(),i.stopPropagation(),i.state?R({...i.state,pushState:!1}):R({document:"HOME",section:"HOME",pushState:!1})});let e=document.location.pathname.substring(1),n=e,r=e.split("/"),t="";r.length>1&&(t=r[1],n=r[0]);for(let i of ue)if(i.ref===n){t===""?(R({...i,pushState:!1}),window.history.replaceState({...i},i.section,e)):(R({...i,redirect:`#${t}`,pushState:!1}),window.history.replaceState({...i,redirect:`#${t}`},i.section,e));break}})}function $(e){let n=document.querySelector("#nav-bar__search--input");n!==null&&n.blur(),e.removeEventListener("click",$e),e.addEventListener("click",$e)}function $e(e){e.preventDefault(),e.stopPropagation();let n=document.querySelector("#nav-bar__search--input");n!==null&&(document.activeElement?.blur(),n.blur());let r=e.currentTarget;R(r.dataset)}function R(e){let n=null;Ie?De(e):(n=new Promise(r=>{import("./katex.min.js").then(t=>{Ne.setKatex(t.default);let i=document.createElement("link");i.rel="stylesheet",i.crossOrigin="anonymous",i.href="styles/katex.min.css",i.onload=()=>{r("KaTeX JS and CSS loaded")},document.head.appendChild(i)})}),n.then(()=>{Ie=!0,De(e)}))}function De(e){let n=document.getElementById("content");n&&(H?.clearFunction(),E.addLogoVelocity(),e.document==="HOME"?(yr(n,e),n.style.minHeight="600px"):e.document?.includes("./")?(n.style.minHeight="600px",Tr(n,e)):(n.style.minHeight="100vh",Mr(n,e)))}function yr(e,n){let r=x;if(x=n.document||"",x===r)return;T?.clearHeadings(),E.updateStatus("HOME","HOME",!1),T?.clearSectionTOC();let t=null;for(let[o,l]of A.entries())if(o.document==="HOME"){t=l;break}t&&(e.innerHTML=t),document.title="Tales Tech Encyclopedia";let i=document.querySelector('meta[name="description"]');i&&i.setAttribute("content","Tales Tech Encyclopedia (TTE), is a project that aims to document techniques and mechanics on the games of the 'Tales of Series'."),n.pushState==null&&window.history.pushState(JSON.parse(JSON.stringify(n)),document.title,"/"),Er(),H?.initOnboardingIcon()}function Er(){document.querySelectorAll("span.content__redirect").forEach(e=>{$(e)}),document.querySelectorAll(".content__home__showcase-item--play").forEach(e=>{e.addEventListener("click",n=>{let r=n.currentTarget;if(r.innerHTML==="play_circle"){r.innerHTML="stop_circle";let i=document.createElement("video");i.src=r.dataset.video||"",i.className="content__home__showcase-item--video",i.autoplay=!0,i.controls=!1,i.muted=!0,i.loop=!0,r.parentElement?.appendChild(i),setTimeout(()=>{i.style.opacity="1"},50);return}let t=r.parentElement?.querySelector(".content__home__showcase-item--video");t?(t.style.opacity="0",setTimeout(()=>{t.remove(),r.innerHTML="play_circle"},500)):r.innerHTML="play_circle"})})}function Tr(e,n){let r=x;if(x=n.document||"",x===r)return;T?.clearHeadings(),E.updateStatus(n.document||"",n.section||"",!1),T?.clearSectionTOC();let t=n.document,i=null;for(let[c,a]of A.entries())if(c.document===t){i=a;break}i&&(e.innerHTML=i),Be(),document.title="Tales Tech Encyclopedia";let o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content","Tales Tech Encyclopedia (TTE), is a project that aims to document techniques and mechanics on the games of the 'Tales of Series'.");let l=`/${x?.toLowerCase()||""}`;n.pushState==null&&window.history.pushState(JSON.parse(JSON.stringify(n)),document.title,l),document.querySelector("#nav-bar")?.scrollIntoView({behavior:"smooth"})}function Mr(e,n){E.updateStatus(n.document||"",n.section||"",!0);let r=x;if(x=n.document||"",x===r){n.redirect?(H?.revealID(n.redirect.substring(1)),n.redirect&&document.querySelector(n.redirect)?.scrollIntoView({behavior:"smooth"})):document.querySelector("#nav-bar")?.scrollIntoView({behavior:"smooth"});return}T?.clearHeadings(),T?.clearSectionTOC();let t=n.document,i=null;for(let[s,c]of A.entries())if(s.document===t){i=c;break}e.style.visibility="hidden",i&&(e.innerHTML=i),document.title=`TTE - ${n.section||""}`;let o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content",`Tales Tech Encyclopedia (TTE) article on ${n.section||""}.`);let l=`/${x?.toLowerCase()||""}`+(n.redirect&&n.redirect!=="NONE"?`/${n.redirect.substring(1)}`:"");n.pushState==null&&window.history.pushState(JSON.parse(JSON.stringify(n)),document.title,l),W.collapseHeadings(e),Cr(),n.redirect&&n.redirect!=="NONE"?(H?.revealID(n.redirect.substring(1)),setTimeout(()=>{n.redirect&&document.querySelector(n.redirect)?.scrollIntoView({behavior:"smooth"})},250)):document.querySelector("#nav-bar")?.scrollIntoView({behavior:"smooth"})}function Be(){Ne.compileDirectives(),T?.createTOC(x),document.querySelectorAll(".content__toc--search").forEach(e=>{$(e)}),W.shareHeadings()}function Cr(){document.querySelectorAll(".content__selectorbox--item").forEach(n=>{n.style.setProperty("--highlight-color",n.dataset.highlight||""),n.addEventListener("click",r=>{let t=r.currentTarget;document.querySelectorAll(".content__selectorbox--item").forEach(l=>{l.className="content__selectorbox--item"}),t.className="content__selectorbox--item selected";let i=W.returnH2Collection().filter(l=>l[0]===t.dataset.open),o=document.getElementById("content__currenth2");if(o&&i.length>0){let l=i[0][2];o.innerHTML=typeof l=="string"?l:l.join(" ")}document.querySelectorAll(".content__collapse").forEach(l=>{l.addEventListener("click",W.collapseHeadingStyle)}),Be(),T?.highlightTOC()})}),document.querySelectorAll(".content__selectorbox--item")[0]?.click()}export{$ as addPageChangeEvent,Be as updatePage};
//# sourceMappingURL=main.js.map
