import"./chunk-YVLJX3HV.js";var D;function Ce(e){return D=D||document.createElement("textarea"),D.innerHTML="&"+e+";",D.value}var Pe=Object.prototype.hasOwnProperty;function je(e,n){return e?Pe.call(e,n):!1}function Ee(e){var n=[].slice.call(arguments,1);return n.forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(i){e[i]=r[i]})}}),e}var Fe=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function O(e){return e.indexOf("\\")<0?e:e.replace(Fe,"$1")}function Ae(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function oe(e){if(e>65535){e-=65536;var n=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(n,r)}return String.fromCharCode(e)}var ze=/&([a-z#][a-z0-9]{1,31});/gi,$e=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function Ve(e,n){var r=0,i=Ce(n);return n!==i?i:n.charCodeAt(0)===35&&$e.test(n)&&(r=n[1].toLowerCase()==="x"?parseInt(n.slice(2),16):parseInt(n.slice(1),10),Ae(r))?oe(r):e}function A(e){return e.indexOf("&")<0?e:e.replace(ze,Ve)}var We=/[&<>"]/,Ue=/[&<>"]/g,Ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Ze(e){return Ye[e]}function _(e){return We.test(e)?e.replace(Ue,Ze):e}var g={};g.blockquote_open=function(){return`<blockquote>
`};g.blockquote_close=function(e,n){return"</blockquote>"+S(e,n)};g.code=function(e,n){return e[n].block?"<pre><code>"+_(e[n].content)+"</code></pre>"+S(e,n):"<code>"+_(e[n].content)+"</code>"};g.fence=function(e,n,r,i,t){var o=e[n],l="",c=r.langPrefix,s="",a,u,f;if(o.params){if(a=o.params.split(/\s+/g),u=a.join(" "),je(t.rules.fence_custom,a[0]))return t.rules.fence_custom[a[0]](e,n,r,i,t);s=_(A(O(u))),l=' class="'+c+s+'"'}return r.highlight?f=r.highlight.apply(r.highlight,[o.content].concat(a))||_(o.content):f=_(o.content),"<pre><code"+l+">"+f+"</code></pre>"+S(e,n)};g.fence_custom={};g.heading_open=function(e,n){return"<h"+e[n].hLevel+">"};g.heading_close=function(e,n){return"</h"+e[n].hLevel+`>
`};g.hr=function(e,n,r){return(r.xhtmlOut?"<hr />":"<hr>")+S(e,n)};g.bullet_list_open=function(){return`<ul>
`};g.bullet_list_close=function(e,n){return"</ul>"+S(e,n)};g.list_item_open=function(){return"<li>"};g.list_item_close=function(){return`</li>
`};g.ordered_list_open=function(e,n){var r=e[n],i=r.order>1?' start="'+r.order+'"':"";return"<ol"+i+`>
`};g.ordered_list_close=function(e,n){return"</ol>"+S(e,n)};g.paragraph_open=function(e,n){return e[n].tight?"":"<p>"};g.paragraph_close=function(e,n){var r=!(e[n].tight&&n&&e[n-1].type==="inline"&&!e[n-1].content);return(e[n].tight?"":"</p>")+(r?S(e,n):"")};g.link_open=function(e,n,r){var i=e[n].title?' title="'+_(A(e[n].title))+'"':"",t=r.linkTarget?' target="'+r.linkTarget+'"':"";return'<a href="'+_(e[n].href)+'"'+i+t+">"};g.link_close=function(){return"</a>"};g.image=function(e,n,r){var i=' src="'+_(e[n].src)+'"',t=e[n].title?' title="'+_(A(e[n].title))+'"':"",o=' alt="'+(e[n].alt?_(A(O(e[n].alt))):"")+'"',l=r.xhtmlOut?" /":"";return"<img"+i+o+t+l+">"};g.table_open=function(){return`<table>
`};g.table_close=function(){return`</table>
`};g.thead_open=function(){return`<thead>
`};g.thead_close=function(){return`</thead>
`};g.tbody_open=function(){return`<tbody>
`};g.tbody_close=function(){return`</tbody>
`};g.tr_open=function(){return"<tr>"};g.tr_close=function(){return`</tr>
`};g.th_open=function(e,n){var r=e[n];return"<th"+(r.align?' style="text-align:'+r.align+'"':"")+">"};g.th_close=function(){return"</th>"};g.td_open=function(e,n){var r=e[n];return"<td"+(r.align?' style="text-align:'+r.align+'"':"")+">"};g.td_close=function(){return"</td>"};g.strong_open=function(){return"<strong>"};g.strong_close=function(){return"</strong>"};g.em_open=function(){return"<em>"};g.em_close=function(){return"</em>"};g.del_open=function(){return"<del>"};g.del_close=function(){return"</del>"};g.ins_open=function(){return"<ins>"};g.ins_close=function(){return"</ins>"};g.mark_open=function(){return"<mark>"};g.mark_close=function(){return"</mark>"};g.sub=function(e,n){return"<sub>"+_(e[n].content)+"</sub>"};g.sup=function(e,n){return"<sup>"+_(e[n].content)+"</sup>"};g.hardbreak=function(e,n,r){return r.xhtmlOut?`<br />
`:`<br>
`};g.softbreak=function(e,n,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};g.text=function(e,n){return _(e[n].content)};g.htmlblock=function(e,n){return e[n].content};g.htmltag=function(e,n){return e[n].content};g.abbr_open=function(e,n){return'<abbr title="'+_(A(e[n].title))+'">'};g.abbr_close=function(){return"</abbr>"};g.footnote_ref=function(e,n){var r=Number(e[n].id+1).toString(),i="fnref"+r;return e[n].subId>0&&(i+=":"+e[n].subId),'<sup class="footnote-ref"><a href="#fn'+r+'" id="'+i+'">['+r+"]</a></sup>"};g.footnote_block_open=function(e,n,r){var i=r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return i+`<section class="footnotes">
<ol class="footnotes-list">
`};g.footnote_block_close=function(){return`</ol>
</section>
`};g.footnote_open=function(e,n){var r=Number(e[n].id+1).toString();return'<li id="fn'+r+'"  class="footnote-item">'};g.footnote_close=function(){return`</li>
`};g.footnote_anchor=function(e,n){var r=Number(e[n].id+1).toString(),i="fnref"+r;return e[n].subId>0&&(i+=":"+e[n].subId),' <a href="#'+i+'" class="footnote-backref">\u21A9</a>'};g.dl_open=function(){return`<dl>
`};g.dt_open=function(){return"<dt>"};g.dd_open=function(){return"<dd>"};g.dl_close=function(){return`</dl>
`};g.dt_close=function(){return`</dt>
`};g.dd_close=function(){return`</dd>
`};function Se(e,n){return++n>=e.length-2?n:e[n].type==="paragraph_open"&&e[n].tight&&e[n+1].type==="inline"&&e[n+1].content.length===0&&e[n+2].type==="paragraph_close"&&e[n+2].tight?Se(e,n+2):n}var S=g.getBreak=function(n,r){return r=Se(n,r),r<n.length&&n[r].type==="list_item_close"?"":`
`};function ce(){this.rules=Ee({},g),this.getBreak=g.getBreak}ce.prototype.renderInline=function(e,n,r){for(var i=this.rules,t=e.length,o=0,l="";t--;)l+=i[e[o].type](e,o++,n,r,this);return l};ce.prototype.render=function(e,n,r){for(var i=this.rules,t=e.length,o=-1,l="";++o<t;)e[o].type==="inline"?l+=this.renderInline(e[o].children,n,r):l+=i[e[o].type](e,o,n,r,this);return l};function x(){this.__rules__=[],this.__cache__=null}x.prototype.__find__=function(e){for(var n=this.__rules__.length,r=-1;n--;)if(this.__rules__[++r].name===e)return r;return-1};x.prototype.__compile__=function(){var e=this,n=[""];e.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(i){n.indexOf(i)<0&&n.push(i)})}),e.__cache__={},n.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(i){i.enabled&&(r&&i.alt.indexOf(r)<0||e.__cache__[r].push(i.fn))})})};x.prototype.at=function(e,n,r){var i=this.__find__(e),t=r||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=n,this.__rules__[i].alt=t.alt||[],this.__cache__=null};x.prototype.before=function(e,n,r,i){var t=this.__find__(e),o=i||{};if(t===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(t,0,{name:n,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};x.prototype.after=function(e,n,r,i){var t=this.__find__(e),o=i||{};if(t===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(t+1,0,{name:n,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};x.prototype.push=function(e,n,r){var i=r||{};this.__rules__.push({name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};x.prototype.enable=function(e,n){e=Array.isArray(e)?e:[e],n&&this.__rules__.forEach(function(r){r.enabled=!1}),e.forEach(function(r){var i=this.__find__(r);if(i<0)throw new Error("Rules manager: invalid rule name "+r);this.__rules__[i].enabled=!0},this),this.__cache__=null};x.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(n){var r=this.__find__(n);if(r<0)throw new Error("Rules manager: invalid rule name "+n);this.__rules__[r].enabled=!1},this),this.__cache__=null};x.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Je(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function T(e,n,r,i,t){this.src=e,this.env=i,this.options=r,this.parser=n,this.tokens=t,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}T.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};T.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level};T.prototype.cacheSet=function(e,n){for(var r=this.cache.length;r<=e;r++)this.cache.push(0);this.cache[e]=n};T.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function B(e,n){var r,i,t,o=-1,l=e.posMax,c=e.pos,s=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=n+1,e.isInLabel=!0,r=1;e.pos<l;){if(t=e.src.charCodeAt(e.pos),t===91)r++;else if(t===93&&(r--,r===0)){i=!0;break}e.parser.skipToken(e)}return i?(o=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=r-1,e.pos=c,e.isInLabel=s,o}function Xe(e,n,r,i){var t,o,l,c,s,a;if(e.charCodeAt(0)!==42||e.charCodeAt(1)!==91||e.indexOf("]:")===-1||(t=new T(e,n,r,i,[]),o=B(t,1),o<0||e.charCodeAt(o+1)!==58))return-1;for(c=t.posMax,l=o+2;l<c&&t.src.charCodeAt(l)!==10;l++);return s=e.slice(2,o),a=e.slice(o+2,l).trim(),a.length===0?-1:(i.abbreviations||(i.abbreviations={}),typeof i.abbreviations[":"+s]>"u"&&(i.abbreviations[":"+s]=a),l)}function Ge(e){var n=e.tokens,r,i,t,o;if(!e.inlineMode){for(r=1,i=n.length-1;r<i;r++)if(n[r-1].type==="paragraph_open"&&n[r].type==="inline"&&n[r+1].type==="paragraph_close"){for(t=n[r].content;t.length&&(o=Xe(t,e.inline,e.options,e.env),!(o<0));)t=t.slice(o).trim();n[r].content=t,t.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function le(e){var n=A(e);try{n=decodeURI(n)}catch{}return encodeURI(n)}function Te(e,n){var r,i,t,o=n,l=e.posMax;if(e.src.charCodeAt(n)===60){for(n++;n<l;){if(r=e.src.charCodeAt(n),r===10)return!1;if(r===62)return t=le(O(e.src.slice(o+1,n))),e.parser.validateLink(t)?(e.pos=n+1,e.linkContent=t,!0):!1;if(r===92&&n+1<l){n+=2;continue}n++}return!1}for(i=0;n<l&&(r=e.src.charCodeAt(n),!(r===32||r<32||r===127));){if(r===92&&n+1<l){n+=2;continue}if(r===40&&(i++,i>1)||r===41&&(i--,i<0))break;n++}return o===n||(t=O(e.src.slice(o,n)),!e.parser.validateLink(t))?!1:(e.linkContent=t,e.pos=n,!0)}function Me(e,n){var r,i=n,t=e.posMax,o=e.src.charCodeAt(n);if(o!==34&&o!==39&&o!==40)return!1;for(n++,o===40&&(o=41);n<t;){if(r=e.src.charCodeAt(n),r===o)return e.pos=n+1,e.linkContent=O(e.src.slice(i+1,n)),!0;if(r===92&&n+1<t){n+=2;continue}n++}return!1}function we(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function Ke(e,n,r,i){var t,o,l,c,s,a,u,f,h;if(e.charCodeAt(0)!==91||e.indexOf("]:")===-1||(t=new T(e,n,r,i,[]),o=B(t,0),o<0||e.charCodeAt(o+1)!==58))return-1;for(c=t.posMax,l=o+2;l<c&&(s=t.src.charCodeAt(l),!(s!==32&&s!==10));l++);if(!Te(t,l))return-1;for(u=t.linkContent,l=t.pos,a=l,l=l+1;l<c&&(s=t.src.charCodeAt(l),!(s!==32&&s!==10));l++);for(l<c&&a!==l&&Me(t,l)?(f=t.linkContent,l=t.pos):(f="",l=a);l<c&&t.src.charCodeAt(l)===32;)l++;return l<c&&t.src.charCodeAt(l)!==10?-1:(h=we(e.slice(1,o)),typeof i.references[h]>"u"&&(i.references[h]={title:f,href:u}),l)}function Qe(e){var n=e.tokens,r,i,t,o;if(e.env.references=e.env.references||{},!e.inlineMode){for(r=1,i=n.length-1;r<i;r++)if(n[r].type==="inline"&&n[r-1].type==="paragraph_open"&&n[r+1].type==="paragraph_close"){for(t=n[r].content;t.length&&(o=Ke(t,e.inline,e.options,e.env),!(o<0));)t=t.slice(o).trim();n[r].content=t,t.length||(n[r-1].tight=!0,n[r+1].tight=!0)}}}function en(e){var n=e.tokens,r,i,t;for(i=0,t=n.length;i<t;i++)r=n[i],r.type==="inline"&&e.inline.parse(r.content,e.options,e.env,r.children)}function nn(e){var n,r,i,t,o,l,c,s,a,u=0,f=!1,h={};if(e.env.footnotes&&(e.tokens=e.tokens.filter(function(p){return p.type==="footnote_reference_open"?(f=!0,s=[],a=p.label,!1):p.type==="footnote_reference_close"?(f=!1,h[":"+a]=s,!1):(f&&s.push(p),!f)}),!!e.env.footnotes.list)){for(l=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:u++}),n=0,r=l.length;n<r;n++){for(e.tokens.push({type:"footnote_open",id:n,level:u++}),l[n].tokens?(c=[],c.push({type:"paragraph_open",tight:!1,level:u++}),c.push({type:"inline",content:"",level:u,children:l[n].tokens}),c.push({type:"paragraph_close",tight:!1,level:--u})):l[n].label&&(c=h[":"+l[n].label]),e.tokens=e.tokens.concat(c),e.tokens[e.tokens.length-1].type==="paragraph_close"?o=e.tokens.pop():o=null,t=l[n].count>0?l[n].count:1,i=0;i<t;i++)e.tokens.push({type:"footnote_anchor",id:n,subId:i,level:u});o&&e.tokens.push(o),e.tokens.push({type:"footnote_close",level:--u})}e.tokens.push({type:"footnote_block_close",level:--u})}}var me=` 
()[]'".,!?-`;function ee(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function rn(e){var n,r,i,t,o,l,c,s,a,u,f,h,p=e.tokens;if(e.env.abbreviations){for(e.env.abbrRegExp||(h="(^|["+me.split("").map(ee).join("")+"])("+Object.keys(e.env.abbreviations).map(function(d){return d.substr(1)}).sort(function(d,m){return m.length-d.length}).map(ee).join("|")+")($|["+me.split("").map(ee).join("")+"])",e.env.abbrRegExp=new RegExp(h,"g")),u=e.env.abbrRegExp,r=0,i=p.length;r<i;r++)if(p[r].type==="inline"){for(t=p[r].children,n=t.length-1;n>=0;n--)if(o=t[n],o.type==="text"){for(s=0,l=o.content,u.lastIndex=0,a=o.level,c=[];f=u.exec(l);)u.lastIndex>s&&c.push({type:"text",content:l.slice(s,f.index+f[1].length),level:a}),c.push({type:"abbr_open",title:e.env.abbreviations[":"+f[2]],level:a++}),c.push({type:"text",content:f[2],level:a}),c.push({type:"abbr_close",level:--a}),s=u.lastIndex-f[3].length;c.length&&(s<l.length&&c.push({type:"text",content:l.slice(s),level:a}),p[r].children=t=[].concat(t.slice(0,n),c,t.slice(n+1)))}}}}var tn=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,on=/\((c|tm|r|p)\)/ig,ln={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function cn(e){return e.indexOf("(")<0?e:e.replace(on,function(n,r){return ln[r.toLowerCase()]})}function sn(e){var n,r,i,t,o;if(e.options.typographer){for(o=e.tokens.length-1;o>=0;o--)if(e.tokens[o].type==="inline")for(t=e.tokens[o].children,n=t.length-1;n>=0;n--)r=t[n],r.type==="text"&&(i=r.content,i=cn(i),tn.test(i)&&(i=i.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])â€¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1\u2014$2").replace(/(^|\s)--(\s|$)/mg,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1\u2013$2")),r.content=i)}}var an=/['"]/,ge=/['"]/g,un=/[-\s()\[\]]/,ve="\u2019";function be(e,n){return n<0||n>=e.length?!1:!un.test(e[n])}function I(e,n,r){return e.substr(0,n)+r+e.substr(n+1)}function fn(e){var n,r,i,t,o,l,c,s,a,u,f,h,p,d,m,v,b;if(e.options.typographer){for(b=[],m=e.tokens.length-1;m>=0;m--)if(e.tokens[m].type==="inline"){for(v=e.tokens[m].children,b.length=0,n=0;n<v.length;n++)if(r=v[n],!(r.type!=="text"||an.test(r.text))){for(c=v[n].level,p=b.length-1;p>=0&&!(b[p].level<=c);p--);b.length=p+1,i=r.content,o=0,l=i.length;e:for(;o<l&&(ge.lastIndex=o,t=ge.exec(i),!!t);){if(s=!be(i,t.index-1),o=t.index+1,d=t[0]==="'",a=!be(i,o),!a&&!s){d&&(r.content=I(r.content,t.index,ve));continue}if(f=!a,h=!s,h){for(p=b.length-1;p>=0&&(u=b[p],!(b[p].level<c));p--)if(u.single===d&&b[p].level===c){u=b[p],d?(v[u.token].content=I(v[u.token].content,u.pos,e.options.quotes[2]),r.content=I(r.content,t.index,e.options.quotes[3])):(v[u.token].content=I(v[u.token].content,u.pos,e.options.quotes[0]),r.content=I(r.content,t.index,e.options.quotes[1])),b.length=p;continue e}}f?b.push({token:n,pos:t.index,single:d,level:c}):h&&d&&(r.content=I(r.content,t.index,ve))}}}}}var ne=[["block",Je],["abbr",Ge],["references",Qe],["inline",en],["footnote_tail",nn],["abbr2",rn],["replacements",sn],["smartquotes",fn]];function Le(){this.options={},this.ruler=new x;for(var e=0;e<ne.length;e++)this.ruler.push(ne[e][0],ne[e][1])}Le.prototype.process=function(e){var n,r,i;for(i=this.ruler.getRules(""),n=0,r=i.length;n<r;n++)i[n](e)};function M(e,n,r,i,t){var o,l,c,s,a,u,f;for(this.src=e,this.parser=n,this.options=r,this.env=i,this.tokens=t,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",l=this.src,u=0,f=!1,c=s=u=0,a=l.length;s<a;s++){if(o=l.charCodeAt(s),!f)if(o===32){u++;continue}else f=!0;(o===10||s===a-1)&&(o!==10&&s++,this.bMarks.push(c),this.eMarks.push(s),this.tShift.push(u),f=!1,u=0,c=s+1)}this.bMarks.push(l.length),this.eMarks.push(l.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}M.prototype.isEmpty=function(n){return this.bMarks[n]+this.tShift[n]>=this.eMarks[n]};M.prototype.skipEmptyLines=function(n){for(var r=this.lineMax;n<r&&!(this.bMarks[n]+this.tShift[n]<this.eMarks[n]);n++);return n};M.prototype.skipSpaces=function(n){for(var r=this.src.length;n<r&&this.src.charCodeAt(n)===32;n++);return n};M.prototype.skipChars=function(n,r){for(var i=this.src.length;n<i&&this.src.charCodeAt(n)===r;n++);return n};M.prototype.skipCharsBack=function(n,r,i){if(n<=i)return n;for(;n>i;)if(r!==this.src.charCodeAt(--n))return n+1;return n};M.prototype.getLines=function(n,r,i,t){var o,l,c,s,a,u=n;if(n>=r)return"";if(u+1===r)return l=this.bMarks[u]+Math.min(this.tShift[u],i),c=t?this.eMarks[u]+1:this.eMarks[u],this.src.slice(l,c);for(s=new Array(r-n),o=0;u<r;u++,o++)a=this.tShift[u],a>i&&(a=i),a<0&&(a=0),l=this.bMarks[u]+a,u+1<r||t?c=this.eMarks[u]+1:c=this.eMarks[u],s[o]=this.src.slice(l,c);return s.join("")};function hn(e,n,r){var i,t;if(e.tShift[n]-e.blkIndent<4)return!1;for(t=i=n+1;i<r;){if(e.isEmpty(i)){i++;continue}if(e.tShift[i]-e.blkIndent>=4){i++,t=i;continue}break}return e.line=i,e.tokens.push({type:"code",content:e.getLines(n,t,4+e.blkIndent,!0),block:!0,lines:[n,e.line],level:e.level}),!0}function dn(e,n,r,i){var t,o,l,c,s,a=!1,u=e.bMarks[n]+e.tShift[n],f=e.eMarks[n];if(u+3>f||(t=e.src.charCodeAt(u),t!==126&&t!==96)||(s=u,u=e.skipChars(u,t),o=u-s,o<3)||(l=e.src.slice(u,f).trim(),l.indexOf("`")>=0))return!1;if(i)return!0;for(c=n;c++,!(c>=r||(u=s=e.bMarks[c]+e.tShift[c],f=e.eMarks[c],u<f&&e.tShift[c]<e.blkIndent));)if(e.src.charCodeAt(u)===t&&!(e.tShift[c]-e.blkIndent>=4)&&(u=e.skipChars(u,t),!(u-s<o)&&(u=e.skipSpaces(u),!(u<f)))){a=!0;break}return o=e.tShift[n],e.line=c+(a?1:0),e.tokens.push({type:"fence",params:l,content:e.getLines(n+1,c,o,!0),lines:[n,e.line],level:e.level}),!0}function pn(e,n,r,i){var t,o,l,c,s,a,u,f,h,p,d,m=e.bMarks[n]+e.tShift[n],v=e.eMarks[n];if(m>v||e.src.charCodeAt(m++)!==62||e.level>=e.options.maxNesting)return!1;if(i)return!0;for(e.src.charCodeAt(m)===32&&m++,s=e.blkIndent,e.blkIndent=0,c=[e.bMarks[n]],e.bMarks[n]=m,m=m<v?e.skipSpaces(m):m,o=m>=v,l=[e.tShift[n]],e.tShift[n]=m-e.bMarks[n],f=e.parser.ruler.getRules("blockquote"),t=n+1;t<r&&(m=e.bMarks[t]+e.tShift[t],v=e.eMarks[t],!(m>=v));t++){if(e.src.charCodeAt(m++)===62){e.src.charCodeAt(m)===32&&m++,c.push(e.bMarks[t]),e.bMarks[t]=m,m=m<v?e.skipSpaces(m):m,o=m>=v,l.push(e.tShift[t]),e.tShift[t]=m-e.bMarks[t];continue}if(o)break;for(d=!1,h=0,p=f.length;h<p;h++)if(f[h](e,t,r,!0)){d=!0;break}if(d)break;c.push(e.bMarks[t]),l.push(e.tShift[t]),e.tShift[t]=-1337}for(a=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:u=[n,0],level:e.level++}),e.parser.tokenize(e,n,t),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=a,u[1]=e.line,h=0;h<l.length;h++)e.bMarks[h+n]=c[h],e.tShift[h+n]=l[h];return e.blkIndent=s,!0}function mn(e,n,r,i){var t,o,l,c=e.bMarks[n],s=e.eMarks[n];if(c+=e.tShift[n],c>s||(t=e.src.charCodeAt(c++),t!==42&&t!==45&&t!==95))return!1;for(o=1;c<s;){if(l=e.src.charCodeAt(c++),l!==t&&l!==32)return!1;l===t&&o++}return o<3?!1:(i||(e.line=n+1,e.tokens.push({type:"hr",lines:[n,e.line],level:e.level})),!0)}function _e(e,n){var r,i,t;return i=e.bMarks[n]+e.tShift[n],t=e.eMarks[n],i>=t||(r=e.src.charCodeAt(i++),r!==42&&r!==45&&r!==43)||i<t&&e.src.charCodeAt(i)!==32?-1:i}function xe(e,n){var r,i=e.bMarks[n]+e.tShift[n],t=e.eMarks[n];if(i+1>=t||(r=e.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=t)return-1;if(r=e.src.charCodeAt(i++),!(r>=48&&r<=57)){if(r===41||r===46)break;return-1}}return i<t&&e.src.charCodeAt(i)!==32?-1:i}function gn(e,n){var r,i,t=e.level+2;for(r=n+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===t&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function vn(e,n,r,i){var t,o,l,c,s,a,u,f,h,p,d,m,v,b,fe,X,G,he,de=!0,K,R,pe,Q;if((f=xe(e,n))>=0)v=!0;else if((f=_e(e,n))>=0)v=!1;else return!1;if(e.level>=e.options.maxNesting)return!1;if(m=e.src.charCodeAt(f-1),i)return!0;for(fe=e.tokens.length,v?(u=e.bMarks[n]+e.tShift[n],d=Number(e.src.substr(u,f-u-1)),e.tokens.push({type:"ordered_list_open",order:d,lines:G=[n,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:G=[n,0],level:e.level++}),t=n,X=!1,K=e.parser.ruler.getRules("list");t<r&&(b=e.skipSpaces(f),h=e.eMarks[t],b>=h?p=1:p=b-f,p>4&&(p=1),p<1&&(p=1),o=f-e.bMarks[t]+p,e.tokens.push({type:"list_item_open",lines:he=[n,0],level:e.level++}),c=e.blkIndent,s=e.tight,l=e.tShift[n],a=e.parentType,e.tShift[n]=b-e.bMarks[n],e.blkIndent=o,e.tight=!0,e.parentType="list",e.parser.tokenize(e,n,r,!0),(!e.tight||X)&&(de=!1),X=e.line-n>1&&e.isEmpty(e.line-1),e.blkIndent=c,e.tShift[n]=l,e.tight=s,e.parentType=a,e.tokens.push({type:"list_item_close",level:--e.level}),t=n=e.line,he[1]=t,b=e.bMarks[n],!(t>=r||e.isEmpty(t)||e.tShift[t]<e.blkIndent));){for(Q=!1,R=0,pe=K.length;R<pe;R++)if(K[R](e,t,r,!0)){Q=!0;break}if(Q)break;if(v){if(f=xe(e,t),f<0)break}else if(f=_e(e,t),f<0)break;if(m!==e.src.charCodeAt(f-1))break}return e.tokens.push({type:v?"ordered_list_close":"bullet_list_close",level:--e.level}),G[1]=t,e.line=t,de&&gn(e,fe),!0}function bn(e,n,r,i){var t,o,l,c,s,a=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(a+4>u||e.src.charCodeAt(a)!==91||e.src.charCodeAt(a+1)!==94||e.level>=e.options.maxNesting)return!1;for(c=a+2;c<u;c++){if(e.src.charCodeAt(c)===32)return!1;if(e.src.charCodeAt(c)===93)break}return c===a+2||c+1>=u||e.src.charCodeAt(++c)!==58?!1:(i||(c++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),s=e.src.slice(a+2,c-2),e.env.footnotes.refs[":"+s]=-1,e.tokens.push({type:"footnote_reference_open",label:s,level:e.level++}),t=e.bMarks[n],o=e.tShift[n],l=e.parentType,e.tShift[n]=e.skipSpaces(c)-c,e.bMarks[n]=c,e.blkIndent+=4,e.parentType="footnote",e.tShift[n]<e.blkIndent&&(e.tShift[n]+=e.blkIndent,e.bMarks[n]-=e.blkIndent),e.parser.tokenize(e,n,r,!0),e.parentType=l,e.blkIndent-=4,e.tShift[n]=o,e.bMarks[n]=t,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0)}function _n(e,n,r,i){var t,o,l,c=e.bMarks[n]+e.tShift[n],s=e.eMarks[n];if(c>=s||(t=e.src.charCodeAt(c),t!==35||c>=s))return!1;for(o=1,t=e.src.charCodeAt(++c);t===35&&c<s&&o<=6;)o++,t=e.src.charCodeAt(++c);return o>6||c<s&&t!==32?!1:(i||(s=e.skipCharsBack(s,32,c),l=e.skipCharsBack(s,35,c),l>c&&e.src.charCodeAt(l-1)===32&&(s=l),e.line=n+1,e.tokens.push({type:"heading_open",hLevel:o,lines:[n,e.line],level:e.level}),c<s&&e.tokens.push({type:"inline",content:e.src.slice(c,s).trim(),level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:o,level:e.level})),!0)}function xn(e,n,r){var i,t,o,l=n+1;return l>=r||e.tShift[l]<e.blkIndent||e.tShift[l]-e.blkIndent>3||(t=e.bMarks[l]+e.tShift[l],o=e.eMarks[l],t>=o)||(i=e.src.charCodeAt(t),i!==45&&i!==61)||(t=e.skipChars(t,i),t=e.skipSpaces(t),t<o)?!1:(t=e.bMarks[n]+e.tShift[n],e.line=l+1,e.tokens.push({type:"heading_open",hLevel:i===61?1:2,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(t,e.eMarks[n]).trim(),level:e.level+1,lines:[n,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:i===61?1:2,level:e.level}),!0)}var Ie={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){Ie[e]=!0});var kn=/^<([a-zA-Z]{1,15})[\s\/>]/,yn=/^<\/([a-zA-Z]{1,15})[\s>]/;function Cn(e){var n=e|32;return n>=97&&n<=122}function En(e,n,r,i){var t,o,l,c=e.bMarks[n],s=e.eMarks[n],a=e.tShift[n];if(c+=a,!e.options.html||a>3||c+2>=s||e.src.charCodeAt(c)!==60)return!1;if(t=e.src.charCodeAt(c+1),t===33||t===63){if(i)return!0}else if(t===47||Cn(t)){if(t===47){if(o=e.src.slice(c,s).match(yn),!o)return!1}else if(o=e.src.slice(c,s).match(kn),!o)return!1;if(Ie[o[1].toLowerCase()]!==!0)return!1;if(i)return!0}else return!1;for(l=n+1;l<e.lineMax&&!e.isEmpty(l);)l++;return e.line=l,e.tokens.push({type:"htmlblock",level:e.level,lines:[n,e.line],content:e.getLines(n,l,0,!0)}),!0}function re(e,n){var r=e.bMarks[n]+e.blkIndent,i=e.eMarks[n];return e.src.substr(r,i-r)}function An(e,n,r,i){var t,o,l,c,s,a,u,f,h,p,d;if(n+2>r||(s=n+1,e.tShift[s]<e.blkIndent)||(l=e.bMarks[s]+e.tShift[s],l>=e.eMarks[s])||(t=e.src.charCodeAt(l),t!==124&&t!==45&&t!==58)||(o=re(e,n+1),!/^[-:| ]+$/.test(o))||(a=o.split("|"),a<=2))return!1;for(f=[],c=0;c<a.length;c++){if(h=a[c].trim(),!h){if(c===0||c===a.length-1)continue;return!1}if(!/^:?-+:?$/.test(h))return!1;h.charCodeAt(h.length-1)===58?f.push(h.charCodeAt(0)===58?"center":"right"):h.charCodeAt(0)===58?f.push("left"):f.push("")}if(o=re(e,n).trim(),o.indexOf("|")===-1||(a=o.replace(/^\||\|$/g,"").split("|"),f.length!==a.length))return!1;if(i)return!0;for(e.tokens.push({type:"table_open",lines:p=[n,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[n,n+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[n,n+1],level:e.level++}),c=0;c<a.length;c++)e.tokens.push({type:"th_open",align:f[c],lines:[n,n+1],level:e.level++}),e.tokens.push({type:"inline",content:a[c].trim(),lines:[n,n+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:d=[n+2,0],level:e.level++}),s=n+2;s<r&&!(e.tShift[s]<e.blkIndent||(o=re(e,s).trim(),o.indexOf("|")===-1));s++){for(a=o.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),c=0;c<a.length;c++)e.tokens.push({type:"td_open",align:f[c],level:e.level++}),u=a[c].substring(a[c].charCodeAt(0)===124?1:0,a[c].charCodeAt(a[c].length-1)===124?a[c].length-1:a[c].length).trim(),e.tokens.push({type:"inline",content:u,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),p[1]=d[1]=s,e.line=s,!0}function H(e,n){var r,i,t=e.bMarks[n]+e.tShift[n],o=e.eMarks[n];return t>=o||(i=e.src.charCodeAt(t++),i!==126&&i!==58)||(r=e.skipSpaces(t),t===r)||r>=o?-1:r}function Sn(e,n){var r,i,t=e.level+2;for(r=n+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===t&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function Tn(e,n,r,i){var t,o,l,c,s,a,u,f,h,p,d,m,v,b;if(i)return e.ddIndent<0?!1:H(e,n)>=0;if(u=n+1,e.isEmpty(u)&&++u>r||e.tShift[u]<e.blkIndent||(t=H(e,u),t<0)||e.level>=e.options.maxNesting)return!1;a=e.tokens.length,e.tokens.push({type:"dl_open",lines:s=[n,0],level:e.level++}),l=n,o=u;e:for(;;){for(b=!0,v=!1,e.tokens.push({type:"dt_open",lines:[l,l],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(l,l+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[l,l],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:c=[u,0],level:e.level++}),m=e.tight,h=e.ddIndent,f=e.blkIndent,d=e.tShift[o],p=e.parentType,e.blkIndent=e.ddIndent=e.tShift[o]+2,e.tShift[o]=t-e.bMarks[o],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,o,r,!0),(!e.tight||v)&&(b=!1),v=e.line-o>1&&e.isEmpty(e.line-1),e.tShift[o]=d,e.tight=m,e.parentType=p,e.blkIndent=f,e.ddIndent=h,e.tokens.push({type:"dd_close",level:--e.level}),c[1]=u=e.line,u>=r||e.tShift[u]<e.blkIndent)break e;if(t=H(e,u),t<0)break;o=u}if(u>=r||(l=u,e.isEmpty(l))||e.tShift[l]<e.blkIndent||(o=l+1,o>=r)||(e.isEmpty(o)&&o++,o>=r)||e.tShift[o]<e.blkIndent||(t=H(e,o),t<0))break}return e.tokens.push({type:"dl_close",level:--e.level}),s[1]=u,e.line=u,b&&Sn(e,a),!0}function Mn(e,n){var r,i,t,o,l,c=n+1,s;if(r=e.lineMax,c<r&&!e.isEmpty(c)){for(s=e.parser.ruler.getRules("paragraph");c<r&&!e.isEmpty(c);c++)if(!(e.tShift[c]-e.blkIndent>3)){for(t=!1,o=0,l=s.length;o<l;o++)if(s[o](e,c,r,!0)){t=!0;break}if(t)break}}return i=e.getLines(n,c,e.blkIndent,!1).trim(),e.line=c,i.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[n,e.line],level:e.level}),e.tokens.push({type:"inline",content:i,level:e.level+1,lines:[n,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var P=[["code",hn],["fences",dn,["paragraph","blockquote","list"]],["blockquote",pn,["paragraph","blockquote","list"]],["hr",mn,["paragraph","blockquote","list"]],["list",vn,["paragraph","blockquote"]],["footnote",bn,["paragraph"]],["heading",_n,["paragraph","blockquote"]],["lheading",xn],["htmlblock",En,["paragraph","blockquote"]],["table",An,["paragraph"]],["deflist",Tn,["paragraph"]],["paragraph",Mn]];function se(){this.ruler=new x;for(var e=0;e<P.length;e++)this.ruler.push(P[e][0],P[e][1],{alt:(P[e][2]||[]).slice()})}se.prototype.tokenize=function(e,n,r){for(var i=this.ruler.getRules(""),t=i.length,o=n,l=!1,c,s;o<r&&(e.line=o=e.skipEmptyLines(o),!(o>=r||e.tShift[o]<e.blkIndent));){for(s=0;s<t&&(c=i[s](e,o,r,!1),!c);s++);if(e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),o=e.line,o<r&&e.isEmpty(o)){if(l=!0,o++,o<r&&e.parentType==="list"&&e.isEmpty(o))break;e.line=o}}};var wn=/[\n\t]/g,Ln=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,In=/\u00a0/g;se.prototype.parse=function(e,n,r,i){var t,o=0,l=0;if(!e)return[];e=e.replace(In," "),e=e.replace(Ln,`
`),e.indexOf("	")>=0&&(e=e.replace(wn,function(c,s){var a;return e.charCodeAt(s)===10?(o=s+1,l=0,c):(a="    ".slice((s-o-l)%4),l=s-o+1,a)})),t=new M(e,this,n,r,i),this.tokenize(t,t.line,t.lineMax)};function On(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function Bn(e,n){for(var r=e.pos;r<e.posMax&&!On(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}function Nn(e,n){var r,i,t=e.pos;if(e.src.charCodeAt(t)!==10)return!1;if(r=e.pending.length-1,i=e.posMax,!n)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(var o=r-2;o>=0;o--)if(e.pending.charCodeAt(o)!==32){e.pending=e.pending.substring(0,o+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(t++;t<i&&e.src.charCodeAt(t)===32;)t++;return e.pos=t,!0}var ae=[];for(te=0;te<256;te++)ae.push(0);var te;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){ae[e.charCodeAt(0)]=1});function qn(e,n){var r,i=e.pos,t=e.posMax;if(e.src.charCodeAt(i)!==92)return!1;if(i++,i<t){if(r=e.src.charCodeAt(i),r<256&&ae[r]!==0)return n||(e.pending+=e.src[i]),e.pos+=2,!0;if(r===10){for(n||e.push({type:"hardbreak",level:e.level}),i++;i<t&&e.src.charCodeAt(i)===32;)i++;return e.pos=i,!0}}return n||(e.pending+="\\"),e.pos++,!0}function Rn(e,n){var r,i,t,o,l,c=e.pos,s=e.src.charCodeAt(c);if(s!==96)return!1;for(r=c,c++,i=e.posMax;c<i&&e.src.charCodeAt(c)===96;)c++;for(t=e.src.slice(r,c),o=l=c;(o=e.src.indexOf("`",l))!==-1;){for(l=o+1;l<i&&e.src.charCodeAt(l)===96;)l++;if(l-o===t.length)return n||e.push({type:"code",content:e.src.slice(c,o).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=l,!0}return n||(e.pending+=t),e.pos+=t.length,!0}function Dn(e,n){var r,i,t,o=e.posMax,l=e.pos,c,s;if(e.src.charCodeAt(l)!==126||n||l+4>=o||e.src.charCodeAt(l+1)!==126||e.level>=e.options.maxNesting||(c=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),c===126)||s===126||s===32||s===10)return!1;for(i=l+2;i<o&&e.src.charCodeAt(i)===126;)i++;if(i>l+3)return e.pos+=i-l,n||(e.pending+=e.src.slice(l,i)),!0;for(e.pos=l+2,t=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===126&&e.src.charCodeAt(e.pos+1)===126&&(c=e.src.charCodeAt(e.pos-1),s=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,s!==126&&c!==126&&(c!==32&&c!==10?t--:s!==32&&s!==10&&t++,t<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=l+2,n||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=l,!1)}function Hn(e,n){var r,i,t,o=e.posMax,l=e.pos,c,s;if(e.src.charCodeAt(l)!==43||n||l+4>=o||e.src.charCodeAt(l+1)!==43||e.level>=e.options.maxNesting||(c=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),c===43)||s===43||s===32||s===10)return!1;for(i=l+2;i<o&&e.src.charCodeAt(i)===43;)i++;if(i!==l+2)return e.pos+=i-l,n||(e.pending+=e.src.slice(l,i)),!0;for(e.pos=l+2,t=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===43&&e.src.charCodeAt(e.pos+1)===43&&(c=e.src.charCodeAt(e.pos-1),s=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,s!==43&&c!==43&&(c!==32&&c!==10?t--:s!==32&&s!==10&&t++,t<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=l+2,n||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=l,!1)}function Pn(e,n){var r,i,t,o=e.posMax,l=e.pos,c,s;if(e.src.charCodeAt(l)!==61||n||l+4>=o||e.src.charCodeAt(l+1)!==61||e.level>=e.options.maxNesting||(c=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),c===61)||s===61||s===32||s===10)return!1;for(i=l+2;i<o&&e.src.charCodeAt(i)===61;)i++;if(i!==l+2)return e.pos+=i-l,n||(e.pending+=e.src.slice(l,i)),!0;for(e.pos=l+2,t=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===61&&e.src.charCodeAt(e.pos+1)===61&&(c=e.src.charCodeAt(e.pos-1),s=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,s!==61&&c!==61&&(c!==32&&c!==10?t--:s!==32&&s!==10&&t++,t<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=l+2,n||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=l,!1)}function ke(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function ye(e,n){var r=n,i,t,o,l=!0,c=!0,s=e.posMax,a=e.src.charCodeAt(n);for(i=n>0?e.src.charCodeAt(n-1):-1;r<s&&e.src.charCodeAt(r)===a;)r++;return r>=s&&(l=!1),o=r-n,o>=4?l=c=!1:(t=r<s?e.src.charCodeAt(r):-1,(t===32||t===10)&&(l=!1),(i===32||i===10)&&(c=!1),a===95&&(ke(i)&&(l=!1),ke(t)&&(c=!1))),{can_open:l,can_close:c,delims:o}}function jn(e,n){var r,i,t,o,l,c,s,a=e.posMax,u=e.pos,f=e.src.charCodeAt(u);if(f!==95&&f!==42||n)return!1;if(s=ye(e,u),r=s.delims,!s.can_open)return e.pos+=r,n||(e.pending+=e.src.slice(u,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=u+r,c=[r];e.pos<a;){if(e.src.charCodeAt(e.pos)===f){if(s=ye(e,e.pos),i=s.delims,s.can_close){for(o=c.pop(),l=i;o!==l;){if(l<o){c.push(o-l);break}if(l-=o,c.length===0)break;e.pos+=o,o=c.pop()}if(c.length===0){r=o,t=!0;break}e.pos+=i;continue}s.can_open&&c.push(i),e.pos+=i;continue}e.parser.skipToken(e)}return t?(e.posMax=e.pos,e.pos=u+r,n||((r===2||r===3)&&e.push({type:"strong_open",level:e.level++}),(r===1||r===3)&&e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),(r===1||r===3)&&e.push({type:"em_close",level:--e.level}),(r===2||r===3)&&e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+r,e.posMax=a,!0):(e.pos=u,!1)}var Fn=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function zn(e,n){var r,i,t=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==126||n||o+2>=t||e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<t;){if(e.src.charCodeAt(e.pos)===126){r=!0;break}e.parser.skipToken(e)}return!r||o+1===e.pos||(i=e.src.slice(o+1,e.pos),i.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,n||e.push({type:"sub",level:e.level,content:i.replace(Fn,"$1")}),e.pos=e.posMax+1,e.posMax=t,!0)}var $n=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Vn(e,n){var r,i,t=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==94||n||o+2>=t||e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<t;){if(e.src.charCodeAt(e.pos)===94){r=!0;break}e.parser.skipToken(e)}return!r||o+1===e.pos||(i=e.src.slice(o+1,e.pos),i.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,n||e.push({type:"sup",level:e.level,content:i.replace($n,"$1")}),e.pos=e.posMax+1,e.posMax=t,!0)}function Wn(e,n){var r,i,t,o,l,c,s,a,u=!1,f=e.pos,h=e.posMax,p=e.pos,d=e.src.charCodeAt(p);if(d===33&&(u=!0,d=e.src.charCodeAt(++p)),d!==91||e.level>=e.options.maxNesting||(r=p+1,i=B(e,p),i<0))return!1;if(c=i+1,c<h&&e.src.charCodeAt(c)===40){for(c++;c<h&&(a=e.src.charCodeAt(c),!(a!==32&&a!==10));c++);if(c>=h)return!1;for(p=c,Te(e,c)?(o=e.linkContent,c=e.pos):o="",p=c;c<h&&(a=e.src.charCodeAt(c),!(a!==32&&a!==10));c++);if(c<h&&p!==c&&Me(e,c))for(l=e.linkContent,c=e.pos;c<h&&(a=e.src.charCodeAt(c),!(a!==32&&a!==10));c++);else l="";if(c>=h||e.src.charCodeAt(c)!==41)return e.pos=f,!1;c++}else{if(e.linkLevel>0)return!1;for(;c<h&&(a=e.src.charCodeAt(c),!(a!==32&&a!==10));c++);if(c<h&&e.src.charCodeAt(c)===91&&(p=c+1,c=B(e,c),c>=0?t=e.src.slice(p,c++):c=p-1),t||(typeof t>"u"&&(c=i+1),t=e.src.slice(r,i)),s=e.env.references[we(t)],!s)return e.pos=f,!1;o=s.href,l=s.title}return n||(e.pos=r,e.posMax=i,u?e.push({type:"image",src:o,title:l,alt:e.src.substr(r,i-r),level:e.level}):(e.push({type:"link_open",href:o,title:l,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=c,e.posMax=h,!0}function Un(e,n){var r,i,t,o,l=e.posMax,c=e.pos;return c+2>=l||e.src.charCodeAt(c)!==94||e.src.charCodeAt(c+1)!==91||e.level>=e.options.maxNesting||(r=c+2,i=B(e,c+1),i<0)?!1:(n||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),t=e.env.footnotes.list.length,e.pos=r,e.posMax=i,e.push({type:"footnote_ref",id:t,level:e.level}),e.linkLevel++,o=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[t]={tokens:e.tokens.splice(o)},e.linkLevel--),e.pos=i+1,e.posMax=l,!0)}function Yn(e,n){var r,i,t,o,l=e.posMax,c=e.pos;if(c+3>l||!e.env.footnotes||!e.env.footnotes.refs||e.src.charCodeAt(c)!==91||e.src.charCodeAt(c+1)!==94||e.level>=e.options.maxNesting)return!1;for(i=c+2;i<l;i++){if(e.src.charCodeAt(i)===32||e.src.charCodeAt(i)===10)return!1;if(e.src.charCodeAt(i)===93)break}return i===c+2||i>=l||(i++,r=e.src.slice(c+2,i-1),typeof e.env.footnotes.refs[":"+r]>"u")?!1:(n||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+r]<0?(t=e.env.footnotes.list.length,e.env.footnotes.list[t]={label:r,count:0},e.env.footnotes.refs[":"+r]=t):t=e.env.footnotes.refs[":"+r],o=e.env.footnotes.list[t].count,e.env.footnotes.list[t].count++,e.push({type:"footnote_ref",id:t,subId:o,level:e.level})),e.pos=i,e.posMax=l,!0)}var Zn=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],Jn=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Xn=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function Gn(e,n){var r,i,t,o,l,c=e.pos;return e.src.charCodeAt(c)!==60||(r=e.src.slice(c),r.indexOf(">")<0)?!1:(i=r.match(Xn),i?Zn.indexOf(i[1].toLowerCase())<0||(o=i[0].slice(1,-1),l=le(o),!e.parser.validateLink(o))?!1:(n||(e.push({type:"link_open",href:l,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0):(t=r.match(Jn),t?(o=t[0].slice(1,-1),l=le("mailto:"+o),e.parser.validateLink(l)?(n||(e.push({type:"link_open",href:l,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=t[0].length,!0):!1):!1))}function j(e,n){return e=e.source,n=n||"",function r(i,t){return i?(t=t.source||t,e=e.replace(i,t),r):new RegExp(e,n)}}var Kn=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,Qn=/[^"'=<>`\x00-\x20]+/,er=/'[^']*'/,nr=/"[^"]*"/,rr=j(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",Qn)("single_quoted",er)("double_quoted",nr)(),tr=j(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",Kn)("attr_value",rr)(),ir=j(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",tr)(),or=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,lr=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,cr=/<[?].*?[?]>/,sr=/<![A-Z]+\s+[^>]*>/,ar=/<!\[CDATA\[[\s\S]*?\]\]>/,ur=j(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",ir)("close_tag",or)("comment",lr)("processing",cr)("declaration",sr)("cdata",ar)();function fr(e){var n=e|32;return n>=97&&n<=122}function hr(e,n){var r,i,t,o=e.pos;return!e.options.html||(t=e.posMax,e.src.charCodeAt(o)!==60||o+2>=t)||(r=e.src.charCodeAt(o+1),r!==33&&r!==63&&r!==47&&!fr(r))||(i=e.src.slice(o).match(ur),!i)?!1:(n||e.push({type:"htmltag",content:e.src.slice(o,o+i[0].length),level:e.level}),e.pos+=i[0].length,!0)}var dr=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,pr=/^&([a-z][a-z0-9]{1,31});/i;function mr(e,n){var r,i,t,o=e.pos,l=e.posMax;if(e.src.charCodeAt(o)!==38)return!1;if(o+1<l){if(r=e.src.charCodeAt(o+1),r===35){if(t=e.src.slice(o).match(dr),t)return n||(i=t[1][0].toLowerCase()==="x"?parseInt(t[1].slice(1),16):parseInt(t[1],10),e.pending+=Ae(i)?oe(i):oe(65533)),e.pos+=t[0].length,!0}else if(t=e.src.slice(o).match(pr),t){var c=Ce(t[1]);if(t[1]!==c)return n||(e.pending+=c),e.pos+=t[0].length,!0}}return n||(e.pending+="&"),e.pos++,!0}var ie=[["text",Bn],["newline",Nn],["escape",qn],["backticks",Rn],["del",Dn],["ins",Hn],["mark",Pn],["emphasis",jn],["sub",zn],["sup",Vn],["links",Wn],["footnote_inline",Un],["footnote_ref",Yn],["autolink",Gn],["htmltag",hr],["entity",mr]];function F(){this.ruler=new x;for(var e=0;e<ie.length;e++)this.ruler.push(ie[e][0],ie[e][1]);this.validateLink=gr}F.prototype.skipToken=function(e){var n=this.ruler.getRules(""),r=n.length,i=e.pos,t,o;if((o=e.cacheGet(i))>0){e.pos=o;return}for(t=0;t<r;t++)if(n[t](e,!0)){e.cacheSet(i,e.pos);return}e.pos++,e.cacheSet(i,e.pos)};F.prototype.tokenize=function(e){for(var n=this.ruler.getRules(""),r=n.length,i=e.posMax,t,o;e.pos<i;){for(o=0;o<r&&(t=n[o](e,!1),!t);o++);if(t){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};F.prototype.parse=function(e,n,r,i){var t=new T(e,this,n,r,i);this.tokenize(t)};function gr(e){var n=["vbscript","javascript","file","data"],r=e.trim().toLowerCase();return r=A(r),!(r.indexOf(":")!==-1&&n.indexOf(r.split(":")[0])!==-1)}var vr={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},br={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},_r={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},xr={default:vr,full:br,commonmark:_r};function Oe(e,n,r){this.src=n,this.env=r,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function y(e,n){typeof e!="string"&&(n=e,e="default"),n&&n.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new F,this.block=new se,this.core=new Le,this.renderer=new ce,this.ruler=new x,this.options={},this.configure(xr[e]),this.set(n||{})}y.prototype.set=function(e){Ee(this.options,e)};y.prototype.configure=function(e){var n=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&n[r].ruler.enable(e.components[r].rules,!0)})};y.prototype.use=function(e,n){return e(this,n),this};y.prototype.parse=function(e,n){var r=new Oe(this,e,n);return this.core.process(r),r.tokens};y.prototype.render=function(e,n){return n=n||{},this.renderer.render(this.parse(e,n),this.options,n)};y.prototype.parseInline=function(e,n){var r=new Oe(this,e,n);return r.inlineMode=!0,this.core.process(r),r.tokens};y.prototype.renderInline=function(e,n){return n=n||{},this.renderer.render(this.parseInline(e,n),this.options,n)};var z=class{constructor(){this.md=new y("full",{html:!0,typographer:!1}),this.openEmRenderer=this.md.renderer.rules.em_open,this.closeEmRenderer=this.md.renderer.rules.em_close,this.closeHeadingRenderer=this.md.renderer.rules.heading_close,this.injectedHeading=!1,this.injectedEm=!1,this.tagMap={r:"red",b:"blue",g:"green",y:"yellow",p:"pink",t:"teal","!":"spoiler"},this.updateRules()}updateRules(){this.md.renderer.rules.heading_open=function(n,r){if(n[r+1].content[0]==":"){if(this.injectedHeading=!0,n[r+1].content[1]=="{"){let i=this.parseJsonTag(n,r),t="<h"+n[r].hLevel+' id="'+n[r+1].content.replace(/\s+/g,"-").toLowerCase()+'">';return i+t}}else return"<h"+n[r].hLevel+' id="'+n[r+1].content.replace(/\s+/g,"-").toLowerCase()+'">'}.bind(this),this.md.renderer.rules.em_open=function(n,r,i,t){return this.parseTags(n,r,i,t,this.openEmRenderer)}.bind(this),this.md.renderer.rules.heading_close=function(n,r,i,t){return this.injectedHeading?(this.injectedHeading=!1,this.closeHeadingRenderer(n,r,i,t).concat("</span>").replace(/\n/g," ")+`
`):this.closeHeadingRenderer(n,r,i,t)}.bind(this),this.md.renderer.rules.em_close=function(n,r,i,t){return this.injectedEm?(this.injectedEm=!1,"</span>"):this.closeEmRenderer(n,r,i,t)}.bind(this),this.parseKatex()}async loadFile(n){return new Promise(function(r,i){let t=new XMLHttpRequest;t.open("GET",n,!0),t.onload=function(){this.status>=200&&this.status<300?r(t.response):i({status:this.status,statusText:t.statusText})},t.onerror=function(){i({status:this.status,statusText:t.statusText})},t.send()})}async asyncRead(n){let r=await this.loadFile(n);return r.length<=1||r==null?"":r}async parseGFM(n){let r=await this.loadFile(n+".md");if(r.length<=1||r==null)return"";let i="";return i=this.md.render(r),i}parseTags(n,r,i,t,o){if(n[r+1].type=="text")if(n[r+1].content[0]==":"){if(this.injectedEm=!0,n[r+1].content[1]=="{")return this.parseJsonTag(n,r);{let l=n[r+1].content[1];return n[r+1].content=n[r+1].content.slice(2),'<span class="'+this.tagMap[l]+'">'}}else return o(n,r,i,t);else return o(n,r,i,t)}parseJsonTag(n,r){let i=n[r+1].content.indexOf("}"),t=n[r+1].content.substring(1,i+1);n[r+1].content=n[r+1].content.slice(i+2),n[r+1].type=="inline"&&(n[r+1].children[0].content=n[r+1].content);let o="tagging";return n[r].type=="em_open"&&(o="tagging-text"),'<span class="'+o+'" data-tags="'+t+'">'}parseKatex(){let n="\\",r="$",i=(o,l,c)=>{let s=!1,a=o.bMarks[l]+o.tShift[l],u=o.eMarks[l];if(a+1>u)return!1;let f=o.src.charAt(a);if(f!==r)return!1;let h=a;a=o.skipChars(a,f);let p=a-h;if(p!==2)return!1;let d=l;for(;++d,!(d>=c||(a=h=o.bMarks[d]+o.tShift[d],u=o.eMarks[d],a<u&&o.tShift[d]<o.blkIndent));)if(o.src.charAt(a)===r&&!(o.tShift[d]-o.blkIndent>=4)&&(a=o.skipChars(a,f),!(a-h<p)&&(a=o.skipSpaces(a),!(a<u)))){s=!0;break}p=o.tShift[l],o.line=d+(s?1:0);let m=o.getLines(l+1,d,p,!0).replace(/[ \n]+/g," ").trim();return o.tokens.push({type:"katex",params:null,content:m,lines:[l,o.line],level:o.level,block:!0}),!0},t=(o,l)=>{let c=o.pos,s=o.posMax,a=c;if(o.src.charAt(a)!==r)return!1;for(++a;a<s&&o.src.charAt(a)===r;)++a;let u=o.src.slice(c,a);if(u.length>2)return!1;let f=a,h=0;for(;a<s;){let p=o.src.charAt(a);if(p==="{"&&(a==0||o.src.charAt(a-1)!=n))h+=1;else if(p==="}"&&(a==0||o.src.charAt(a-1)!=n)){if(h-=1,h<0)return!1}else if(p===r&&h===0){let d=a,m=a+1;for(;m<s&&o.src.charAt(m)===r;)++m;if(m-d===u.length){if(!l){let v=o.src.slice(f,d).replace(/[ \n]+/g," ").trim();o.push({type:"katex",content:v,block:u.length>1,level:o.level})}return o.pos=m,!0}}a+=1}return l||(o.pending+=u),o.pos+=u.length,!0};this.md.inline.ruler.push("katex",t.bind(this),{}),this.md.block.ruler.push("katex",i.bind(this),{}),this.md.renderer.rules.katex=(o,l)=>'<span class="tagging-katex">'+o[l].content+"</span>",this.md.renderer.rules.katex.delimiter=r}};var $=class{constructor(n,r){this.navLock=!1,this.resultState=!1,this.currentActiveSearch=null,this.techPages=n,this.addPageChangeEvent=r,this.searchBoxListener=this.searchBoxListener.bind(this)}initSearchIcons(){let n=document.querySelector("#nav-bar__searchbox");n.addEventListener("click",this.searchBoxListener);let r=document.querySelector("#nav-bar__search--input");r.addEventListener("keyup",this.filterFunction),r.addEventListener("focusin",this.filterFunction),n.targetParam="search",document.querySelector("#nav-bar__games--icon").addEventListener("click",this.gamesFunction),n.addEventListener("focusout",t=>{let o=document.querySelector("#nav-bar__search");t.stopPropagation(),o.contains(t.relatedTarget)||this.clearFunction()}),this.fillSearch()}initOnboardingIcon(){let n=document.querySelector("#content__home__onboarding--icon");n?.addEventListener("click",this.gamesFunction)}searchBoxListener(){if(this.navLock)return;let n=event.currentTarget.targetParam;this.currentActiveSearch=n,this.injectSearchBox("#nav-bar__search"),document.querySelector(".nav-bar__search--results")==null&&this.fillSearch()}injectSearchBox(n){if(this.navLock)return;document.querySelector(n).removeEventListener("click",this.searchBoxListener);var i=n+"box",t=n+"--input",o=document.querySelector(i),l=document.querySelector(t);o=document.querySelector(i);var c=280;this.currentActiveSearch=="search"?document.body.clientWidth>=480&&(c=400):c=280,o.style.width=c+"px",this.currentActiveSearch=="search"?(l=document.querySelector(t),l.focus()):o.focus()}clearFunction(){var n,r,i=document.querySelector("#nav-bar__searchbox");if(i==null)return;this.navLock=!0;var t=i;let o="#nav-bar__search";for(n=t.getElementsByClassName("button__redirect"),r=0;r<n.length;r++)n[r].style.display="none";document.querySelector(o+"--hr").style.display="none",this.navLock=!1}filterFunction(){var n,r,i,t,o="#nav-bar__search";if(this.currentActiveSearch=="games")return;n=document.querySelector(o+"--input"),r=n.value.toUpperCase().trim();let l=r.split(" ");i=document.querySelector(o+"box").getElementsByClassName("button__redirect");let s=0;for(t=0;t<i.length;t++){let a=i[t].textContent||i[t].innerText;a=a+" "+i[t].dataset.section+" "+i[t].dataset.document;let u=a.toUpperCase(),f=!0;for(let h of l.values())u.includes(h)&&r.length!==0||(f=!1);if(f){if("TALES OF".includes(r)||r=="T"||r=="TO"){i[t].dataset.tag=="game"&&(i[t].style.display="block");continue}s<12||i[t].dataset.tag=="game"?i[t].style.display="block":i[t].style.display="none",s=s+1}else i[t].style.display="none"}(s>0||"TALES OF".includes(r)||r=="T"||r=="TO")&&r.length>0?document.querySelector(o+"--hr").style.display="block":document.querySelector(o+"--hr").style.display="none"}gamesFunction(){var n=document.querySelector("#nav-bar__searchbox");if(n==null)return;let r=n.getElementsByClassName("button__redirect");for(let o=0;o<r.length;o++)r[o].style.display="none";document.querySelector("#nav-bar__search--hr").style.display="none",this.navLock=!1;let i=document.querySelector("#nav-bar__search--input"),t="Tales of";i.value=t,i.focus()}fillSearch(){var n=[],r="",i=[],t="",o=document.querySelector("#nav-bar__searchbox");o.insertAdjacentHTML("beforeend","<hr id='nav-bar__search--hr'  tabindex='0' style='display: none;'>");for(let[s,a]of this.techPages.entries()){if(s.dim==="N/A"||s.document.includes("-C")||s.document.includes("-B"))continue;let f=new DOMParser().parseFromString(a,"text/html");f.querySelectorAll("h1").forEach(()=>{r="",r=r.concat('<a href="/'),r=r.concat(s.document),r=r.concat('" title="'),r=r.concat(s.section),r=r.concat('" data-document="'),r=r.concat(s.document),r=r.concat('" class="nav-bar__search--results button__redirect" tabindex="0" data-section="'),r=r.concat(s.section),r=r.concat('" data-tag="game"><span class="nav-bar__search--results--games material-symbols-rounded"> sports_esports </span><b>'),r=r.concat(s.section),r=r.concat("</b> </a>"),n.push(r)});let p=f.querySelectorAll("h1, h2, h3, h4"),d=null;p.forEach(m=>{if(m.tagName==="H1")d=null;else if(m.tagName==="H2"&&(d=m.id),(d==="glitches"||d==="techniques")&&m.id!=="general-techniques"&&m.tagName!=="H2"){let v=s.section.replace("Tales of","").trim();t="",t=t.concat('<a href="/'),t=t.concat(s.document),t=t.concat('" title="'),t=t.concat(s.section),t=t.concat('" data-document="'),t=t.concat(s.document),t=t.concat('" class="nav-bar__search--results button__redirect" tabindex="0" data-section="'),t=t.concat(s.section),t=t.concat('" data-tag="tech" data-redirect="#'),t=t.concat(m.id),t=t.concat('"><span class="nav-bar__search--results--games material-symbols-rounded"> book_2 </span><b>'),t=t.concat(v),t=t.concat("</b> <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),t=t.concat(m.textContent),t=t.concat("</div>"),i.push(t)}})}n.sort(),i.sort(),r=n.join(""),t=i.join("");let c=r.concat(t);o.insertAdjacentHTML("beforeend",c),c="",document.querySelectorAll("a.nav-bar__search--results").forEach(s=>{this.addPageChangeEvent(s)})}revealID(n){let r=document.getElementById(n);if(r==null){let o=JSON.parse(sessionStorage.getItem("h2Collection")),l=0;for(let c=0;c<o.length;c++)if(o[c][2].includes(`id="${n}"`)){l=c;break}document.querySelectorAll(".content__selectorbox--item")[l].click()}r=document.getElementById(n);let i=null,t=!1;r.tagName=="H4"?r.dataset.open!=null&&(i=r.dataset.open.split(" "),t=!0):r.parentNode.className.includes("content__")?r.parentNode.firstElementChild.dataset.open!=null&&(i=r.parentNode.firstElementChild.dataset.open.split(" "),t=!0):r.parentNode.parentNode.firstElementChild.dataset.open!=null&&(i=r.parentNode.parentNode.firstElementChild.dataset.open.split(" "),t=!0),t&&i.forEach(o=>{let l=document.getElementsByClassName(o);for(let c of l)c.hidden&&(c.hidden=!1,c.parentNode.className.includes("content__")?c.parentNode.firstElementChild.firstChild.innerHTML=="expand_circle_down"&&(c.parentNode.firstElementChild.firstChild.innerHTML="expand_circle_up"):c.parentNode.parentNode.firstElementChild.firstChild.innerHTML=="expand_circle_down"&&(c.parentNode.parentNode.firstElementChild.firstChild.innerHTML="expand_circle_up"))})}};var V=class{constructor(n){this.headings=[],this.ticking=!1,this.currentSection=null,this.inTechPage=!1,this.helperObj=n,document.addEventListener("scroll",()=>{!this.ticking&&this.helperObj.inTechPage&&(window.requestAnimationFrame(()=>{this.highlightTOC(),this.ticking=!1}),this.ticking=!0)})}updateStatus(n,r){this.currentSection=n,this.helperObj.inTechPage=r}clearHeadings(){this.headings=[]}createTOC(n){let r=document.getElementById("content__tocborder"),i=null,t=null,o=null,l=null;if(r==null){if(document.querySelector(".content__selectorbox--item.selected")==null)return;t=document.getElementById("content"),r=document.createElement("div"),r.id="content__tocborder",t.appendChild(r),o=document.createElement("div"),o.id="content__toc",l=document.createElement("div"),l.id="content__tocmobile",r.appendChild(o),i=document.getElementById("content__selector"),r.style.top=i.getBoundingClientRect().bottom+document.documentElement.scrollTop+180+"px";let h=document.createElement("span");h.className="material-symbols-rounded",h.id="content__tocicon",h.innerHTML="menu_book",h.style.display="none";let p=document.getElementById("section-container__div");p.appendChild(h);let d=document.createElement("div");d.id="content__tocicon--box",d.style.width="0px",d.tabIndex="0",p.appendChild(d),d.appendChild(l),this.helperObj.dragScrollElement("#"+d.id,1),this.helperObj.dragScrollElement("#"+o.id,1),h.addEventListener("click",()=>{let m=document.getElementById("content__tocicon--box");var v=300;document.body.clientWidth>=480&&(v=360),m.style.width=v+"px",m.className="fadein",d.display="block",m.focus()}),d.addEventListener("focusout",m=>{let v=document.getElementById("content__tocicon--box");m.stopPropagation(),v.className="fadeout"})}else i=document.getElementById("content__selector"),t=document.getElementById("content"),o=document.getElementById("content__toc"),l=document.getElementById("content__tocmobile");r.style.height="calc(100% - "+(i.offsetTop+150)+"px)";let c="<p>ON THIS SECTION</p><hr>";o.innerHTML=c,l.innerHTML=c,this.headings=[];let s=document.querySelectorAll("#content__currenth2 h3"),a=document.querySelectorAll("#content__currenth2 h4");for(let f of s)this.headings.push({name:f.textContent,clientY:f.getBoundingClientRect().top,isH3:!0,obj:f,id:f.id});for(let f of a)this.headings.push({name:f.textContent,clientY:f.getBoundingClientRect().top,isH3:!1,obj:f,id:f.id});this.headings.sort((f,h)=>f.clientY-h.clientY);let u="";for(let f of this.headings){let h="";f.isH3?h='<div data-document="'+n+'" data-section="'+this.helperObj.currentSection+'" data-redirect="#'+f.id+'" class="content__toc--search button__redirect" style="display: block;':h='<div data-document="'+n+'" data-section="'+this.helperObj.currentSection+'" data-redirect="#'+f.id+'" class="content__toc--search content__toc--search-h4 button__redirect" style="display: block;',h=h.concat('">'+f.name),h=h.concat("</div>"),u=u.concat(h)}o.innerHTML=c.concat(u),l.innerHTML=c.concat(u)}highlightTOC(){let n=null,r=0,i=0;for(let t=0;t<this.headings.length;t++)if(this.headings[t].isH3)if(this.headings[t].obj.getBoundingClientRect().top<=Math.max(window.innerHeight*.25,150)||n==null)n=this.headings[t],r=t;else{i=t;break}if(n!=null){let t=document.querySelectorAll(".content__toc--search.active");for(let l of t)l.classList.remove("active");let o=document.querySelectorAll('.content__toc--search[data-redirect="#'+n.id+'"]');for(let l of o)l.classList.add("active")}for(let t=0;t<this.headings.length;t++)if(!this.headings[t].isH3)if(t>=r&&t<=i||i==0&&r>0&&t>=r||i==0&&r==0){let o=document.querySelectorAll('.content__toc--search[data-redirect="#'+this.headings[t].id+'"]');for(let l of o)l.style.display="block",l.classList.add("active")}else{let o=document.querySelectorAll('.content__toc--search[data-redirect="#'+this.headings[t].id+'"]');for(let l of o)l.style.display="none"}}clearSectionTOC(){let n=document.getElementById("content__tocicon");n?.remove();let r=document.getElementById("content__tocicon--box");r?.remove()}};var W=class{constructor(n){this.colorCollection=[["yellow","#f8d959"],["pink","#fe796f"],["teal","#45c9c9"],["green","#58f15b"],["red","#e74a41"],["lavender","#c8a2b0"],["blue","#205aaa"]],this.mouseDown=!1,this.h2Collection=[],this.startX=0,this.scrollLeft=0,this.helperObj=n}returnH2Collection(){return this.h2Collection}collapseHeadings(n){this.h2Collection=[];let r=null,i=null,t=null,o="",l="",c="",s=!0,a=n.innerHTML.split(`
`),u=document.getElementById("content");for(let d=0;d<a.length;d++)if(a[d].includes('h4 id="')){r&&(l=l+`</div></div>
`),r=a[d].substring(a[d].indexOf('h4 id="')+7),r=r.substring(0,r.indexOf('"')),l=l+`<div class="content__h4">
`;let m=a[d].indexOf('h4 id="')+7+r.length+1,v=' data-open="'+r+" "+i+" "+t+'"',b=a[d].substr(0,m)+v+a[d].substr(m);l=l+b+`
`,l=l+'<div class="'+r+`">
`}else a[d].includes('h3 id="')?(r&&(l=l+`</div></div>
`,r=null),i&&(l=l+`<hr class="content__h3--divider" draggable="false" /></div></div>
`),i=a[d].substring(a[d].indexOf('h3 id="')+7),i=i.substring(0,i.indexOf('"')),l=l+`<div class="content__h3">
`,l=l+'<button class="content__collapse" data-open="'+i+" "+t+'"><span class="material-symbols-rounded">expand_circle_up</span></button>',l=l+a[d]+`
`,l=l+'<div class="'+i+`">
`):a[d].includes('h2 id="')?(s=!1,r&&(l=l+`</div></div>
`,r=null),i&&(l=l+`</div></div>
`,i=null),t&&(l=l+`</div></div>
`,this.h2Collection.push([t,o,l]),l=""),t=a[d].substring(a[d].indexOf('h2 id="')+7),t=t.substring(0,t.indexOf('"')),o=a[d].substring(a[d].indexOf('">')+2),o=o.substring(0,o.indexOf("</h2>")),l=l+'<div class="content__h2" id="'+t+`">
`,l=l+'<div class="'+t+`">
`):s?c=c+a[d]+`
`:l=l+a[d]+`
`;r&&(l=l+`</div></div>
`),i&&(l=l+`</div></div>
`),t&&(l=l+`</div></div>
`,this.h2Collection.push([t,o,l]),l="");var f='<div id="content__selector"><div id="content__selectorbox">';let h=0;for(;h<this.h2Collection.length;){let d=this.h2Collection[h][0],m=this.h2Collection[h][1],v=this.colorCollection[h%this.colorCollection.length];f=f+'<div class="content__selectorbox--item" data-open="'+d+'" data-highlight="'+v[1]+'">',f=f+m+"</div>",this.h2Collection[h].push(v),h++}sessionStorage.setItem("h2Collection",JSON.stringify(this.h2Collection)),f=f+'</div><hr id="content__selectorhr"></hr>';var p='<div id="content__mobilechevrons"><span class="content__mobilechevrons--left material-symbols-rounded">chevron_backward</span><span class="content__mobilechevrons--right material-symbols-rounded">chevron_forward</span></div></div><div id="content__currenth2"></div>';this.h2Collection.length>0?n.innerHTML=c+f+p:n.innerHTML=c,this.helperObj.dragScrollElement("#content__selectorbox",0),this.setupChevrons(),u.style.visibility="visible"}setupChevrons(){let n=document.getElementById("content__mobilechevrons"),r=document.getElementsByClassName("content__mobilechevrons--left")[0],i=document.getElementsByClassName("content__mobilechevrons--right")[0],t=document.getElementById("content__selectorbox"),o=t.clientWidth,l=t.scrollWidth;o<l?(n.style.display="block",n.style.left=t.getBoundingClientRect().right+"px"):n.style.display="none",window.addEventListener("resize",function(){let s=document.getElementById("content__selectorbox");if(s==null)return;let a=document.getElementById("content__mobilechevrons"),u=s.clientWidth,f=s.scrollWidth,h=document.getElementsByClassName("content__mobilechevrons--left")[0],p=document.getElementsByClassName("content__mobilechevrons--right")[0];if(u<f){a.style.display="block",a.style.left=s.getBoundingClientRect().right+"px";let d=s.scrollLeft;d>0&&h.classList.add("active"),d<s.scrollWidth-s.offsetWidth&&p.classList.add("active")}else a.style.display="none"},!0);let c=t.scrollLeft;c>0&&r.classList.add("active"),c<t.scrollWidth-t.offsetWidth&&i.classList.add("active"),r.addEventListener("click",function(){let s=document.getElementsByClassName("content__mobilechevrons--left")[0],a=document.getElementsByClassName("content__mobilechevrons--right")[0],u=document.getElementById("content__selectorbox"),f=u.offsetWidth,h=s.classList.contains("active"),p=a.classList.contains("active");h&&(u.scrollLeft-f<=0&&(u.dataset.isScrolling="true",s.classList.remove("active"),setTimeout(function(){let d=document.getElementById("content__selectorbox");d.dataset.isScrolling="false"},700),h=!1),u.scrollTo({left:u.scrollLeft-f,behavior:"smooth"}),p||a.classList.add("active"))},!0),i.addEventListener("click",function(){let s=document.getElementsByClassName("content__mobilechevrons--left")[0],a=document.getElementsByClassName("content__mobilechevrons--right")[0],u=document.getElementById("content__selectorbox"),f=u.offsetWidth,h=a.classList.contains("active"),p=s.classList.contains("active");h&&(u.scrollLeft+f+f>=u.scrollWidth&&(u.dataset.isScrolling="true",a.classList.remove("active"),setTimeout(function(){let d=document.getElementById("content__selectorbox");d.dataset.isScrolling="false"},700),h=!1),u.scrollTo({left:u.scrollLeft+f,behavior:"smooth"}),p||(s.classList.add("active"),p=!0))},!0),t.addEventListener("scroll",function(){let s=document.getElementsByClassName("content__mobilechevrons--left")[0],a=document.getElementsByClassName("content__mobilechevrons--right")[0],u=document.getElementById("content__selectorbox"),f=u.offsetWidth;if(u.dataset.isScrolling!=null&&u.dataset.isScrolling=="true")return;let h=s.classList.contains("active"),p=a.classList.contains("active");u.scrollLeft<=0?s.classList.remove("active"):h||s.classList.add("active"),u.scrollLeft>=u.scrollWidth-f?a.classList.remove("active"):p||a.classList.add("active")},!0)}collapseHeadingStyle(n){let r=n.currentTarget.dataset.open.split(" ");for(let i=0;i<r.length;i++){let t=document.getElementsByClassName(r[i]);for(let o of t)o.hidden?(o.hidden=!1,n.currentTarget.firstChild.innerHTML=="expand_circle_down"&&(n.currentTarget.firstChild.innerHTML="expand_circle_up")):i==0&&(o.hidden=!0,n.currentTarget.firstChild.innerHTML=="expand_circle_up"&&(n.currentTarget.firstChild.innerHTML="expand_circle_down"))}}shareHeadings(){let n=document.location.pathname;n=n.substring(1);let r=n.split("/");r.length>1&&(n=r[0]);var i=window.location.origin;let t=document.querySelectorAll("h3, h4");for(let o of t)o.style.cursor="copy",o.addEventListener("click",function(){navigator.clipboard.writeText(i+"/"+n+"/"+o.id)})}};var U=class{constructor(n){this.compileDirectives=this.compileDirectives.bind(this),this.sortTables=this.sortTables.bind(this),this.treatSpoilers=this.treatSpoilers.bind(this),this.styleImages=this.styleImages.bind(this),this.compileTags=this.compileTags.bind(this),this.helperObj=n,this.katexObj=null}setKatex(n){this.katexObj=n}compileTags(){document.querySelectorAll(".tagging, .tagging-text").forEach(n=>{if(n.classList.contains("tagging-computed"))return;n.classList.add("tagging-computed");let r=n.dataset.tags,i=JSON.parse(r.replace(/'/g,'"'));if(i.todo){let t=document.createElement("span");t.className="material-symbols-rounded",t.style.color="goldenrod",t.style.marginRight="15px",t.style.cursor="help",t.textContent="error",n.appendChild(t),t.addEventListener("mouseover",()=>{this.helperObj.loadTooltip(t,"This section needs work, is not confirmed or needs testing.")}),t.addEventListener("mouseleave",()=>{this.helperObj.unloadTooltip(t)})}if(i.sections){let t="checked",o=" <span>(LOADED)</span>",l="",c="",s="",a="";i.article=="b"?(l="checked",c=" <span>(LOADED)</span>",t="",o="",s="",a=""):i.article=="c"&&(s="checked",a=" <span>(LOADED)</span>",l="",c="",t="",o="");let u=this.helperObj.currentDocument;u=u.replace("-C",""),u=u.replace("-B","");let f=`
          <div id="content__sections">
            <div class="content__sections--entry">
              <div class="content__sections--input-label">
                <input type="radio" id="systems" name="sections" value="systems" data-redirect="NONE" data-document="`+u+'" '+t+` />
                <label for="systems">Systems`+o+`</label>
              </div>
              <p>Detailed information on the game's systems, techniques, and glitches.</p>
            </div>
            <div class="content__sections--entry">
              <div class="content__sections--input-label">
                <input type="radio" id="characters" name="sections" value="characters" data-redirect="NONE" data-document="`+u+'-C" '+s+` />
                <label for="characters">Characters`+a+`</label>
              </div>
              <p>A breakdown of each character, such as notable arte properties, strategies, and character-specific techniques.</p>
            </div>
            <div class="content__sections--entry">
              <div class="content__sections--input-label">
                <input type="radio" id="bosses" name="sections" value="bosses" data-redirect="NONE" data-document="`+u+'-B" '+l+` />
                <label for="bosses">Bosses`+c+`</label>
              </div>
              <p>A summary of each boss. Contains spoilers!</p>
            </div>
          </div>`,h=document.createElement("div");h.innerHTML=f,n.appendChild(h),document.querySelectorAll('input[name="sections"]').forEach(p=>{this.helperObj.addPageChangeEvent(p)})}if(i.versions){let t="Version: ";t=t.concat(i.versions),t=t.concat("."),this.helperObj.versionMap.has(i.versions)||this.helperObj.versionMap.set(i.versions,this.helperObj.colorList[this.helperObj.versionMap.size]);let o=document.createElement("span");o.className="material-symbols-rounded",o.style.marginRight="15px",o.style.cursor="help",o.textContent="devices",o.style.color="var(--"+this.helperObj.versionMap.get(i.versions)+")",o.style.filter="brightness(1.5)",n.appendChild(o),o.addEventListener("mouseover",()=>{this.helperObj.loadTooltip(o,t)}),o.addEventListener("mouseleave",()=>{this.helperObj.unloadTooltip(o)})}if(i.media){let o=i.media.includes(".webp")||i.media.includes(".png")||i.media.includes(".jpg")||i.media.includes("&ii")?"img":"video",l=(s,a,u,f,h)=>{let p=document.createElement("p");p.style.opacity="1";let d;if(s==="img")d=document.createElement("img");else if(s==="video"){d=document.createElement("video"),d.preload="metadata",d.controls=!0,d.muted=!0,d.loop=!0;let m=document.createElement("source");m.src=a,m.type="video/mp4",d.appendChild(m)}if(d.draggable=!1,d.width=u,d.height=f,d.style.order=2,d.style.width="80%",d.style.height="auto",d.style.maxWidth="640px",d.style.outline="none",d.style.borderRadius="14px",d.src=a,p.appendChild(d),h){let m=document.createElement("figcaption");m.textContent="\xA0"+h+"\xA0",p.appendChild(m)}return p},c=(s,a,u)=>{let f=document.createElement("span");f.dataset.media=a,f.className="material-symbols-rounded",f.style.marginRight="15px",f.style.cursor="pointer",f.textContent=s==="img"?"imagesmode":"play_circle",n.appendChild(f),f.addEventListener("click",h=>{let p=s==="img"?"img":"video",d=document.querySelector(`p[data-media~="${h.target.dataset.media}"]`);if(d==null){let m=l(p,h.target.dataset.media,640,480,u);m.dataset.media=h.target.dataset.media,n.parentNode.insertBefore(m,n.nextSibling)}else d.remove()})};if(i.forcedmedia!==!1){let s=l(o,i.media,640,480,i.caption);n.parentNode.insertBefore(s,n.nextSibling)}else c(o,i.media,i.caption)}if(i.redirect){let t=document.createElement("span");t.className="material-symbols-rounded",t.style.marginRight="5px",t.textContent="link",n.classList.remove("tagging"),n.classList.remove("tagging-text"),n.classList.add("content__redirect"),n.dataset.redirect=i.redirect,i.document?(n.dataset.document=i.document,n.dataset.section=this.helperObj.fileList.find(o=>o.document===i.document).section):(n.dataset.document=this.helperObj.currentDocument,n.dataset.section=this.helperObj.currentSection),n.insertBefore(t,n.firstChild),this.helperObj.addPageChangeEvent(n)}i.reference&&(n.classList.remove("tagging"),n.classList.remove("tagging-text"),n.classList.add("content__redirect"),n.dataset.redirect="#references",n.dataset.document=this.helperObj.currentDocument,n.dataset.section=this.helperObj.currentSection,this.helperObj.addPageChangeEvent(n))}),document.querySelectorAll(".tagging-katex").forEach(n=>{if(n.classList.contains("tagging-computed"))return;n.classList.add("tagging-computed");let r=n.innerHTML;n.innerHTML=this.katexObj.renderToString(r)})}compileDirectives(){this.compileTags(),this.sortTables(),this.treatSpoilers(),this.styleImages()}sortTables(){let n=(i,t)=>i.children[t].innerText||i.children[t].textContent,r=(i,t)=>(o,l)=>((c,s)=>c!==""&&s!==""&&!isNaN(c)&&!isNaN(s)?c-s:c.toString().localeCompare(s))(n(t?o:l,i),n(t?l:o,i));document.querySelectorAll("th").forEach(i=>{i.innerHTML=i.innerHTML+'<span class="material-symbols-rounded">swap_vert</span>',i.addEventListener("click",()=>{let o=i.closest("table").querySelector("tbody");Array.from(o.querySelectorAll("tr")).sort(r(Array.from(i.parentNode.children).indexOf(i),this.asc=!this.asc)).forEach(l=>o.appendChild(l))})})}treatSpoilers(){document.querySelectorAll(".spoiler").forEach(n=>{n.addEventListener("click",r=>{r.target.style.background="transparent"})})}styleImages(){let n=document.getElementsByTagName("img"),r=document.getElementById("content");for(let i=0;i<n.length;i++)r.contains(n[i])&&n[i].classList.add("content__figure")}};var Y=class{constructor(n,r){this.mouseDown=!1,this.startX=0,this.scrollLeft=0,this.startY=0,this.scrollTop=0,this.scrollButton=null,this.rootElement=null,this.colorList=["yellow","teal","green","pink","red","blue"],this.versionMap=new Map,this.scrollToTop=this.scrollToTop.bind(this),this.handleScroll=this.handleScroll.bind(this),this.dragScrollElement=this.dragScrollElement.bind(this),this.rotateFlag=!1,this.leaveCounter=0,this.currentVelocity=0,this.currentSection=null,this.currentDocument=null,this.inTechPage=!1,this.addPageChangeEvent=n,this.fileList=r}updateStatus(n,r,i){this.currentDocument=n,this.currentSection=r,this.inTechPage=i,this.versionMap=new Map}logoInit(){this.titleElement=document.querySelector("#nav-bar__title"),this.titleElement.addEventListener("mouseenter",this.startRotateLogo.bind(this)),this.titleElement.addEventListener("mouseleave",this.stopRotateLogo.bind(this))}addLogoVelocity(){!this.rotateFlag&&this.leaveCounter==0?(this.currentVelocity=4,this.leaveCounter=200,requestAnimationFrame(this.rotateLogo.bind(this))):(this.currentVelocity=4,this.leaveCounter=200)}startRotateLogo(){!this.rotateFlag&&this.leaveCounter==0?(this.rotateFlag=!0,requestAnimationFrame(this.rotateLogo.bind(this))):(this.rotateFlag=!0,this.leaveCounter=200)}stopRotateLogo(){this.rotateFlag=!1}rotateLogo(){let n=document.querySelector("#nav-bar__title__logo"),t=getComputedStyle(n,null).getPropertyValue("transform").split("(")[1].split(")")[0].split(","),o=t[0],l=t[1],c=Math.atan2(l,o)*(180/Math.PI);this.rotateFlag?this.currentVelocity<1.8&&(this.currentVelocity=this.currentVelocity+.06):this.currentVelocity>0&&(this.currentVelocity=this.currentVelocity-.03),this.currentVelocity<0&&(this.currentVelocity=0),c<0&&(c=c+360);let s=this.currentVelocity+c;n.style.transform="rotate("+s+"deg)",this.rotateFlag?(this.leaveCounter=200,requestAnimationFrame(this.rotateLogo.bind(this))):(this.leaveCounter--,this.currentVelocity<=0&&(this.leaveCounter=0),this.leaveCounter>0&&requestAnimationFrame(this.rotateLogo.bind(this)))}scrollInit(){this.scrollButton=document.querySelector("#scroll__button--to-top"),this.rootElement=document.documentElement,this.scrollButton.addEventListener("click",this.scrollToTop),window.addEventListener("scroll",this.handleScroll)}handleScroll(n){n.preventDefault();let r=this.rootElement.scrollHeight-this.rootElement.clientHeight,i=document.getElementById("content__selectorbox"),t=0;if(i!=null){let o=document.body.getBoundingClientRect(),l=i.getBoundingClientRect(),c=l.top-o.top;c>0&&(t=c)}(this.rootElement.scrollTop-t)/r>.05?this.scrollButton.classList.add("scroll__button--to-top--show"):this.scrollButton.classList.remove("scroll__button--to-top--show")}scrollToTop(){let n=document.getElementById("content__selectorbox"),r=0;if(n!=null){let i=document.body.getBoundingClientRect(),t=n.getBoundingClientRect(),o=t.top-i.top;o>0&&(r=o-20)}window.requestAnimationFrame(()=>{let i="smooth";if(navigator.userAgent.includes("Chrome")){let t=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/);t.length>=1&&(isNaN(t[1])||Number(t[1])<130)&&(i="auto")}this.rootElement.scrollTo({top:r,behavior:i})})}loadTooltip(n,r){let i=document.createElement("tooltip");i.id="nav-bar__tooltip";let t=document.createTextNode(r);if(n!=null){i.innerHTML="",i.appendChild(t),document.getElementsByTagName("tooltip")[0]&&document.getElementsByTagName("tooltip")[0].remove();let o=n.getBoundingClientRect();i.style.top=o.bottom-10+"px",i.style.left=o.right+"px",document.body.appendChild(i)}}unloadTooltip(){document.getElementsByTagName("tooltip")[0]&&document.getElementsByTagName("tooltip")[0].remove()}dragScrollElement(n,r){let i=document.querySelector(n);if(i==null)return;let t=a=>{this.mouseDown=!0,this.startX=a.pageX-i.offsetLeft,isNaN(this.startX)&&(this.startX=a.changedTouches[0].pageX-i.offsetLeft),this.scrollLeft=i.scrollLeft},o=a=>{this.mouseDown=!0,this.startY=a.pageY-i.offsetTop,isNaN(this.startY)&&(this.startY=a.changedTouches[0].pageY-i.offsetTop),this.scrollTop=i.scrollTop},l=a=>{if(a.preventDefault(),a.stopPropagation(),!this.mouseDown)return;let u=a.pageX-i.offsetLeft,f=u-this.startX;if(isNaN(u)){let p=a.changedTouches[0].pageX-i.offsetLeft-this.startX;i.scrollLeft=this.scrollLeft-p}else i.scrollLeft=this.scrollLeft-f},c=a=>{if(a.preventDefault(),a.stopPropagation(),!this.mouseDown)return;let u=a.pageY-i.offsetTop,f=u-this.startY;if(isNaN(u)){let p=a.changedTouches[0].pageY-i.offsetTop-this.startY;i.scrollTop=this.scrollTop-p}else i.scrollTop=this.scrollTop-f},s=()=>{this.mouseDown=!1};r==1?(i.addEventListener("mousemove",c,!1),i.addEventListener("mousedown",o,!1),i.addEventListener("mouseup",s,!1),i.addEventListener("mouseleave",s,!1),i.addEventListener("touchmove",c,!1),i.addEventListener("touchstart",o,!1),i.addEventListener("touchend",s,!1)):(i.addEventListener("mousemove",l,!1),i.addEventListener("mousedown",t,!1),i.addEventListener("mouseup",s,!1),i.addEventListener("mouseleave",s,!1),i.addEventListener("touchmove",l,!1),i.addEventListener("touchstart",t,!1),i.addEventListener("touchend",s,!1))}};var w=new Map,J=[{document:"./README",section:"README",dim:"N/A",ref:"readme"},{document:"./STYLING",section:"Doucment Syling",dim:"N/A",ref:"styling"},{document:"./CONTRIBUTING",section:"How to Contribute",dim:"N/A",ref:"contributing"},{document:"TODPS2",section:"Tales of Destiny",dim:"2D",ref:"todps2"},{document:"TODPS2-C",section:"Tales of Destiny Characters",dim:"2D",ref:"todps2-c"},{document:"TODPS2-B",section:"Tales of Destiny Bosses",dim:"2D",ref:"todps2-b"},{document:"TOL",section:"Tales of Legendia",dim:"2D",ref:"tol"},{document:"TOA",section:"Tales of Arise",dim:"3D",ref:"toa"},{document:"TOV",section:"Tales of Vesperia",dim:"3D",ref:"tov"},{document:"TOTA",section:"Tales of the Abyss",dim:"3D",ref:"tota"},{document:"TOX2",section:"Tales of Xillia 2",dim:"3D",ref:"tox2"},{document:"TOZ",section:"Tales of Zestiria",dim:"3D",ref:"toz"},{document:"HOME",section:"HOME",dim:"N/A",ref:""}],L=null,E=null,C=new Y(q,J),Z=new W(C,J),De=new U(C),ue=new z,kr=J.map(e=>e.document.includes("./")?ue.parseGFM(e.document).then(n=>{w.set(e,n)}):e.document=="HOME"?ue.asyncRead("./home.html").then(n=>{w.set(e,n)}):ue.parseGFM("./tech/"+e.document.toLowerCase()).then(n=>{w.set(e,n)})),k=null,Be=!1;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Ne):Ne();function Ne(){document.querySelectorAll("div#nav-bar__title, p.footer-container__help--links").forEach(e=>{q(e)}),Promise.all(kr).then(()=>{L=new $(w,q),L.initSearchIcons(),L.initOnboardingIcon(),E=new V(C),C.scrollInit(),C.logoInit(),window.addEventListener("popstate",t=>{t.preventDefault(),t.stopPropagation(),t.state?N({...t.state,pushState:!1}):N({document:"HOME",section:"HOME",pushState:!1})});let e=document.location.pathname;e=e.substring(1);let n=e,r=e.split("/"),i="";r.length>1&&(i=r[1],n=r[0]);for(let t of J)if(t.ref==n){i!=""?(N({...t,redirect:"#"+i,pushState:!1}),window.history.replaceState(JSON.parse(JSON.stringify({...t,redirect:"#"+i})),t.section,e)):(N({...t,pushState:!1}),window.history.replaceState(JSON.parse(JSON.stringify(t)),t.section,e));break}})}function yr(){document.querySelectorAll("img#title-text__img, span.content__redirect").forEach(e=>{q(e)});for(let e of document.querySelectorAll(".content__home__showcase-item--play"))e.addEventListener("click",function(){if(event.currentTarget.innerHTML=="play_circle"){event.currentTarget.innerHTML="stop_circle";let n=document.createElement("video");n.src=event.currentTarget.dataset.video,n.className="content__home__showcase-item--video",n.autoplay=!0,n.controls=!1,n.muted=!0,n.loop=!0,event.currentTarget.parentElement.appendChild(n),setTimeout(r=>{r.style.opacity=1},50,n)}else{let n=event.currentTarget.parentElement.querySelector(".content__home__showcase-item--video");n!=null?(n.style.opacity=0,setTimeout(([r,i])=>{i.remove(),r.innerHTML="play_circle"},500,[event.currentTarget,n])):event.currentTarget.innerHTML="play_circle"}})}function q(e){let n=document.querySelector("#nav-bar__search--input");n?.blur(),e.removeEventListener("click",qe),e.addEventListener("click",qe)}function qe(e){e.preventDefault(),e.stopPropagation();let n=document.querySelector("#nav-bar__search--input");n!=null&&(document.activeElement.blur(),n.blur()),N(e.currentTarget.dataset)}function N(e){var n=null;Be?Re(e):(n=new Promise(r=>{import("./katex.min.js").then(i=>{De.setKatex(i.default);let t=document.createElement("link");t.rel="stylesheet",t.crossOrigin="anonymous",t.href="styles/katex.min.css",t.onload=()=>{r("KaTeX JS and CSS loaded")},document.head.appendChild(t)})}),n.then(()=>{Be=!0,Re(e)}))}function Re(e){let n=document.getElementById("content");L.clearFunction(),C.addLogoVelocity(),e.document=="HOME"?(Cr(n,e),n.style.minHeight="600px"):e.document.includes("./")?(n.style.minHeight="600px",Er(n,e)):(n.style.minHeight="100vh",Ar(n,e))}function Cr(e,n){let r=k;if(k=n.document,k!=r){E.clearHeadings(),C.updateStatus("HOME","HOME",!1),E.clearSectionTOC();let i=null;for(let[t,o]of w.entries())if(t.document==="HOME"){i=o;break}e.innerHTML=i,document.title="Tales Tech Encyclopedia",document.querySelector('meta[name="description"]').setAttribute("content","Tales Tech Encyclopedia (TTE), is a project that aims to document techniques and mechanics on the games of the 'Tales of Series'."),n.pushState==null&&window.history.pushState(JSON.parse(JSON.stringify(n)),window.title,"/"),yr(),L.initOnboardingIcon()}}function Er(e,n){let r=k;if(k=n.document,k!=r){E.clearHeadings(),C.updateStatus(n.document,n.section,!1),E.clearSectionTOC();let i=n.document,t=null;for(let[l,c]of w.entries())if(l.document===i){t=c;break}e.innerHTML=t,He(),document.title="Tales Tech Encyclopedia",document.querySelector('meta[name="description"]').setAttribute("content","Tales Tech Encyclopedia (TTE), is a project that aims to document techniques and mechanics on the games of the 'Tales of Series'.");let o="/"+k.toLowerCase();n.pushState==null&&window.history.pushState(JSON.parse(JSON.stringify(n)),window.title,o),document.querySelector("#nav-bar").scrollIntoView({behavior:"smooth"})}}function Ar(e,n){C.updateStatus(n.document,n.section,!0);let r=k;if(k=n.document,k==r)n.redirect!=null?(L.revealID(n.redirect.substring(1)),document.querySelector(n.redirect).scrollIntoView({behavior:"smooth"})):document.querySelector("#nav-bar").scrollIntoView({behavior:"smooth"});else{E.clearHeadings(),E.clearSectionTOC();let i=n.document,t=null;for(let[l,c]of w.entries())if(l.document===i){t=c;break}e.style.visibility="hidden",e.innerHTML=t,document.title="TTE - "+n.section,document.querySelector('meta[name="description"]').setAttribute("content","Tales Tech Encyclopedia (TTE) article on "+n.section+".");let o="/"+k.toLowerCase()+(n.redirect&&n.redirect!=="NONE"?"/"+n.redirect.substring(1):"");n.pushState==null&&window.history.pushState(JSON.parse(JSON.stringify(n)),window.title,o),Z.collapseHeadings(e),Sr(),n.redirect!=null?n.redirect!="NONE"&&(L.revealID(n.redirect.substring(1)),setTimeout(()=>{document.querySelector(n.redirect).scrollIntoView({behavior:"smooth"})},250)):document.querySelector("#nav-bar").scrollIntoView({behavior:"smooth"})}}function He(){E.createTOC(k),document.querySelectorAll(".content__toc--search").forEach(e=>{q(e)}),De.compileDirectives(),Z.shareHeadings()}function Sr(){document.querySelectorAll(".content__selectorbox--item").forEach(e=>{e.style.setProperty("--highlight-color",e.dataset.highlight),e.addEventListener("click",n=>{document.querySelectorAll(".content__selectorbox--item").forEach(i=>{i.className="content__selectorbox--item"}),n.currentTarget.className="content__selectorbox--item selected";let r=Z.returnH2Collection().filter(i=>i[0]==n.currentTarget.dataset.open);document.getElementById("content__currenth2").innerHTML=r[0][2],document.querySelectorAll(".content__collapse").forEach(i=>{i.addEventListener("click",Z.collapseHeadingStyle)}),He(),E.highlightTOC()})}),document.querySelectorAll(".content__selectorbox--item")[0].click()}export{q as addPageChangeEvent,He as updatePage};
//# sourceMappingURL=main.js.map
