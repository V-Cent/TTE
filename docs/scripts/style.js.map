{
  "version": 3,
  "sources": ["../../src/style.js"],
  "sourcesContent": ["// style.js contains most of the cosmetic functions.\r\n\r\n// TODO - VS recomments this being a class... Maybe? Also is a table .js file needed?\r\nexport function sortTables() {\r\n  var getCellValue = function (tr, idx) {\r\n    return tr.children[idx].innerText || tr.children[idx].textContent;\r\n  };\r\n\r\n  var comparer = function (idx, asc) {\r\n    return function (a, b) {\r\n      return (function (v1, v2) {\r\n        return v1 !== \"\" && v2 !== \"\" && !isNaN(v1) && !isNaN(v2)\r\n          ? v1 - v2\r\n          : v1.toString().localeCompare(v2);\r\n      })(getCellValue(asc ? a : b, idx), getCellValue(asc ? b : a, idx));\r\n    };\r\n  };\r\n\r\n  document.querySelectorAll(\"th\").forEach((th) =>\r\n    th.addEventListener(\"click\", () => {\r\n      const table = th.closest(\"table\");\r\n      const tbody = table.querySelector(\"tbody\");\r\n      Array.from(tbody.querySelectorAll(\"tr\"))\r\n        .sort(\r\n          comparer(\r\n            Array.from(th.parentNode.children).indexOf(th),\r\n            (this.asc = !this.asc)\r\n          )\r\n        )\r\n        .forEach((tr) => tbody.appendChild(tr));\r\n    })\r\n  );\r\n}\r\n\r\nexport function treatSpoilers() {\r\n  document.querySelectorAll(\".spoiler\").forEach((spoilerElement) => {\r\n    spoilerElement.addEventListener(\"click\", (event) => {\r\n      event.target.style.background = \"transparent\";\r\n    });\r\n  });\r\n}\r\n\r\nexport function styleImages() {\r\n  var imageList = document.getElementsByTagName(\"img\");\r\n  var contentElement = document.getElementById(\"content\");\r\n  var i;\r\n  for (var i = 0; i < imageList.length; i++) {\r\n    if (contentElement.contains(imageList[i])) {\r\n      imageList[i].classList.add(\"content__figure\");\r\n    }\r\n  }\r\n}\r\n\r\n// --- Functions related to checkbox customization\r\n\r\nexport function styleCheckboxes() {\r\n  //Add a line-through to each checked input\r\n  document.querySelectorAll(\"input\").forEach((taggedElement) => {\r\n    if (taggedElement.checked) {\r\n      taggedElement.parentElement.style.textDecorationLine = \"line-through\";\r\n    }\r\n  });\r\n}\r\n\r\n// --- Function for collapsing headers on tech documents\r\nexport function collapseHeaders(page) {\r\n  let currentH4 = null;\r\n  let currentH3 = null;\r\n  let currentH2 = null;\r\n  let newInner = \"\";\r\n  let currentHTML = page.innerHTML.split(\"\\n\");\r\n  for (let i = 0; i < currentHTML.length; i++) {\r\n    // Iterates over all the lines from the created HTML and uses it to create a new document with collapsing headers\r\n    if (currentHTML[i].includes('h4 id=\"')) {\r\n      // Close the div if a h4 is in progress\r\n      if (currentH4) {\r\n        newInner = newInner + \"</div></div>\" + \"\\n\";\r\n      }\r\n\r\n      // Finding reference ID (the id from the original header)\r\n      currentH4 = currentHTML[i].substring(\r\n        currentHTML[i].indexOf('h4 id=\"') + 7\r\n      );\r\n      currentH4 = currentH4.substring(0, currentH4.indexOf('\"'));\r\n\r\n      // Starts a div for the current header, divided into title and content\r\n      newInner = newInner + '<div class=\"content__h4\">' + \"\\n\";\r\n      newInner =\r\n        newInner +\r\n        '<button class=\"content__collapse\" data-open=\"' +\r\n        currentH4 +\r\n        \" \" +\r\n        currentH3 +\r\n        \" \" +\r\n        currentH2 +\r\n        '\"><span class=\"material-icons md-light md-36\">remove</span></button>';\r\n      newInner = newInner + currentHTML[i] + \"\\n\";\r\n      newInner = newInner + '<div class=\"' + currentH4 + '\">' + \"\\n\";\r\n    } else if (currentHTML[i].includes('h3 id=\"')) {\r\n      // Close the div if a h4 or h3 is in progress\r\n      if (currentH4) {\r\n        newInner = newInner + \"</div></div>\" + \"\\n\";\r\n        currentH4 = null;\r\n      }\r\n      if (currentH3) {\r\n        newInner = newInner + \"</div></div>\" + \"\\n\";\r\n      }\r\n\r\n      // Finding reference ID (the id from the original header)\r\n      currentH3 = currentHTML[i].substring(\r\n        currentHTML[i].indexOf('h3 id=\"') + 7\r\n      );\r\n      currentH3 = currentH3.substring(0, currentH3.indexOf('\"'));\r\n\r\n      // Starts a div for the current header, divided into title and content\r\n      newInner = newInner + '<div class=\"content__h3\">' + \"\\n\";\r\n      newInner =\r\n        newInner +\r\n        '<button class=\"content__collapse\" data-open=\"' +\r\n        currentH3 +\r\n        \" \" +\r\n        currentH2 +\r\n        '\"><span class=\"material-icons md-light md-36\">expand_more</span></button>';\r\n      newInner = newInner + currentHTML[i] + \"\\n\";\r\n      newInner = newInner + '<div class=\"' + currentH3 + '\" hidden>' + \"\\n\";\r\n    } else if (\r\n      currentHTML[i].includes('h2 id=\"') &&\r\n      !currentHTML[i].includes(\"table-of-contents\")\r\n    ) {\r\n      // Close the div if a h4, h3 or h2 is in progress\r\n      if (currentH4) {\r\n        newInner = newInner + \"</div></div>\" + \"\\n\";\r\n        currentH4 = null;\r\n      }\r\n      if (currentH3) {\r\n        newInner = newInner + \"</div></div>\" + \"\\n\";\r\n        currentH3 = null;\r\n      }\r\n      if (currentH2) {\r\n        newInner = newInner + \"</div></div>\" + \"\\n\";\r\n      }\r\n\r\n      // Finding reference ID (the id from the original header)\r\n      currentH2 = currentHTML[i].substring(\r\n        currentHTML[i].indexOf('h2 id=\"') + 7\r\n      );\r\n      currentH2 = currentH2.substring(0, currentH2.indexOf('\"'));\r\n\r\n      // Starts a div for the current header, divided into title and content\r\n      newInner = newInner + '<div class=\"content__h2\">' + \"\\n\";\r\n      newInner =\r\n        newInner +\r\n        '<button class=\"content__collapse\" data-open=\"' +\r\n        currentH2 +\r\n        '\"><span class=\"material-icons md-light md-36\">expand_less</span></button>';\r\n      newInner = newInner + currentHTML[i] + \"\\n\";\r\n      newInner = newInner + '<div class=\"' + currentH2 + '\">' + \"\\n\";\r\n    } else {\r\n      newInner = newInner + currentHTML[i] + \"\\n\";\r\n    }\r\n  }\r\n  // Closes divs if any is still open\r\n  if (currentH4) {\r\n    newInner = newInner + \"</div></div>\" + \"\\n\";\r\n  }\r\n  if (currentH3) {\r\n    newInner = newInner + \"</div></div>\" + \"\\n\";\r\n  }\r\n  if (currentH2) {\r\n    newInner = newInner + \"</div></div>\" + \"\\n\";\r\n  }\r\n  page.innerHTML = newInner;\r\n\r\n  // Adds click events for the buttons\r\n  document.querySelectorAll(\".content__collapse\").forEach((button) => {\r\n    button.addEventListener(\"click\", collapseHeaderStyle);\r\n  });\r\n}\r\n\r\n// --- Function for click events on collapse icons\r\nfunction collapseHeaderStyle(event) {\r\n  // Check the tags related to the current button\r\n  let openTags = event.currentTarget.dataset.open.split(\" \");\r\n  for (let i = 0; i < openTags.length; i++) {\r\n    targetList = document.getElementsByClassName(openTags[i]);\r\n    // Get all objects that are possibly hidden\r\n    for (let target of targetList) {\r\n      if (target.hidden) {\r\n        target.hidden = false;\r\n        // Change the button depending on the current art\r\n        if (event.currentTarget.firstChild.innerHTML == \"expand_more\") {\r\n          event.currentTarget.firstChild.innerHTML = \"expand_less\";\r\n        } else {\r\n          event.currentTarget.firstChild.innerHTML = \"remove\";\r\n        }\r\n      } else if (i == 0) {\r\n        // Only hide if click target is the current heading level and is currently not hidden.\r\n        target.hidden = true;\r\n        // Change the button depending on the current art\r\n        if (event.currentTarget.firstChild.innerHTML == \"expand_less\") {\r\n          event.currentTarget.firstChild.innerHTML = \"expand_more\";\r\n        } else {\r\n          event.currentTarget.firstChild.innerHTML = \"add\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n"],
  "mappings": "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",
  "names": ["sortTables", "getCellValue", "tr", "idx", "comparer", "asc", "a", "b", "v1", "v2", "th", "tbody", "treatSpoilers", "spoilerElement", "event", "styleImages", "imageList", "contentElement", "i", "styleCheckboxes", "taggedElement", "collapseHeaders", "page", "currentH4", "currentH3", "currentH2", "newInner", "currentHTML", "button", "collapseHeaderStyle", "openTags", "target"]
}
