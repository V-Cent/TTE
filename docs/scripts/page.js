(()=>{function ge(){document.querySelectorAll(".nav-bar__tab-bar--links").forEach(e=>{e.addEventListener("mouseover",()=>{P(e,e.dataset.section)}),e.addEventListener("mouseleave",()=>{F()})})}document.readyState!=="loading"?ge():document.addEventListener("DOMContentLoaded",ge);function P(e,r){let n=document.createElement("tooltip");n.id="nav-bar__tooltip";let l=document.createTextNode(r);if(e!=null){n.innerHTML="",n.appendChild(l),document.getElementsByTagName("tooltip")[0]&&document.getElementsByTagName("tooltip")[0].remove();let o=e.getBoundingClientRect();n.style.top=o.bottom-10+"px",n.style.left=o.right+"px",document.body.appendChild(n)}}function F(){document.getElementsByTagName("tooltip")[0]&&document.getElementsByTagName("tooltip")[0].remove()}var me=[["yellow","#f8d959"],["pink","#fe796f"],["teal","#45c9c9"],["green","#58f15b"],["red","#e74a41"],["blue","#205aaa"]];function ve(){var e=function(n,l){return n.children[l].innerText||n.children[l].textContent},r=function(n,l){return function(o,i){return function(c,t){return c!==""&&t!==""&&!isNaN(c)&&!isNaN(t)?c-t:c.toString().localeCompare(t)}(e(l?o:i,n),e(l?i:o,n))}};document.querySelectorAll("th").forEach(n=>n.addEventListener("click",()=>{let o=n.closest("table").querySelector("tbody");Array.from(o.querySelectorAll("tr")).sort(r(Array.from(n.parentNode.children).indexOf(n),this.asc=!this.asc)).forEach(i=>o.appendChild(i))}))}function be(){document.querySelectorAll(".spoiler").forEach(e=>{e.addEventListener("click",r=>{r.target.style.background="transparent"})})}function xe(){for(var e=document.getElementsByTagName("img"),r=document.getElementById("content"),n,n=0;n<e.length;n++)r.contains(e[n])&&e[n].classList.add("content__figure")}var z=!1,k=[],E,L;function _e(e){k=[];let r=null,n=null,l=null,o="",i="",c=!0,t=e.innerHTML.split(`
`),s=document.getElementById("content");for(let h=0;h<t.length;h++)if(t[h].includes('h4 id="')){r&&(o=o+`</div></div>
`),r=t[h].substring(t[h].indexOf('h4 id="')+7),r=r.substring(0,r.indexOf('"')),o=o+`<div class="content__h4">
`;let p=t[h].indexOf('h4 id="')+7+r.length+1,b=' data-open="'+r+" "+n+" "+l+'"',v=t[h].substr(0,p)+b+t[h].substr(p);o=o+v+`
`,o=o+'<div class="'+r+`">
`}else t[h].includes('h3 id="')?(r&&(o=o+`</div></div>
`,r=null),n&&(o=o+`<hr class="content__h3--divider" draggable="false" /></div></div>
`),n=t[h].substring(t[h].indexOf('h3 id="')+7),n=n.substring(0,n.indexOf('"')),o=o+`<div class="content__h3">
`,o=o+'<button class="content__collapse" data-open="'+n+" "+l+'"><span class="material-symbols-rounded">expand_circle_up</span></button>',o=o+t[h]+`
`,o=o+'<div class="'+n+`">
`):t[h].includes('h2 id="')?(c=!1,r&&(o=o+`</div></div>
`,r=null),n&&(o=o+`</div></div>
`,n=null),l&&(o=o+`</div></div>
`,k.push([l,currentH2Text,o]),o=""),l=t[h].substring(t[h].indexOf('h2 id="')+7),l=l.substring(0,l.indexOf('"')),currentH2Text=t[h].substring(t[h].indexOf('">')+2),currentH2Text=currentH2Text.substring(0,currentH2Text.indexOf("</h2>")),o=o+'<div class="content__h2" id="'+l+`">
`,o=o+'<div class="'+l+`">
`):c?i=i+t[h]+`
`:o=o+t[h]+`
`;r&&(o=o+`</div></div>
`),n&&(o=o+`</div></div>
`),l&&(o=o+`</div></div>
`,k.push([l,currentH2Text,o]),o="");var u='<div id="content__selector"><div id="content__selectorbox">';let a=0;for(;a<k.length;)h2Tag=k[a][0],h2Text=k[a][1],h2Color=me[a%me.length],u=u+'<div class="content__selectorbox--item" data-open="'+h2Tag+'" data-highlight="'+h2Color[1]+'">',u=u+h2Text+"</div>",a++;u=u+'</div><hr id="content__selectorhr"></hr></div><div id="content__currenth2"></div>',k.length>0?e.innerHTML=i+u:e.innerHTML=i;let f=document.querySelector("#content__selectorbox"),m=function(h){z=!0,E=h.pageX-f.offsetLeft,isNaN(E)&&(E=h.changedTouches[0].pageX-f.offsetLeft),L=f.scrollLeft},g=function(h){z=!1};f.addEventListener("mousemove",h=>{if(h.preventDefault(),h.stopPropagation(),!z)return;let p=h.pageX-f.offsetLeft,b=p-E;if(isNaN(p)){let I=h.changedTouches[0].pageX-f.offsetLeft-E;f.scrollLeft=L-I}else f.scrollLeft=L-b}),f.addEventListener("mousedown",m,!1),f.addEventListener("mouseup",g,!1),f.addEventListener("mouseleave",g,!1),f.addEventListener("touchmove",h=>{if(h.preventDefault(),h.stopPropagation(),!z)return;let p=h.pageX-f.offsetLeft,b=p-E;if(isNaN(p)){let I=h.changedTouches[0].pageX-f.offsetLeft-E;f.scrollLeft=L-I}else f.scrollLeft=L-b}),f.addEventListener("touchstart",m,!1),f.addEventListener("touchend",g,!1),s.style.visibility="visible"}function ke(e){let r=e.currentTarget.dataset.open.split(" ");for(let n=0;n<r.length;n++){targetList=document.getElementsByClassName(r[n]);for(let l of targetList)l.hidden?(l.hidden=!1,e.currentTarget.firstChild.innerHTML=="expand_circle_down"?e.currentTarget.firstChild.innerHTML="expand_circle_up":e.currentTarget.firstChild.innerHTML="remove"):n==0&&(l.hidden=!0,e.currentTarget.firstChild.innerHTML=="expand_circle_up"?e.currentTarget.firstChild.innerHTML="expand_circle_down":e.currentTarget.firstChild.innerHTML="add")}}var $;function Ie(e){return $=$||document.createElement("textarea"),$.innerHTML="&"+e+";",$.value}var Ve=Object.prototype.hasOwnProperty;function Ge(e,r){return e?Ve.call(e,r):!1}function Ne(e){var r=[].slice.call(arguments,1);return r.forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(l){e[l]=n[l]})}}),e}var Xe=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function D(e){return e.indexOf("\\")<0?e:e.replace(Xe,"$1")}function qe(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function ne(e){if(e>65535){e-=65536;var r=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(r,n)}return String.fromCharCode(e)}var We=/&([a-z#][a-z0-9]{1,31});/gi,Je=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function Qe(e,r){var n=0,l=Ie(r);return r!==l?l:r.charCodeAt(0)===35&&Je.test(r)&&(n=r[1].toLowerCase()==="x"?parseInt(r.slice(2),16):parseInt(r.slice(1),10),qe(n))?ne(n):e}function S(e){return e.indexOf("&")<0?e:e.replace(We,Qe)}var Ye=/[&<>"]/,Ke=/[&<>"]/g,er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function rr(e){return er[e]}function x(e){return Ye.test(e)?e.replace(Ke,rr):e}var d={};d.blockquote_open=function(){return`<blockquote>
`};d.blockquote_close=function(e,r){return"</blockquote>"+T(e,r)};d.code=function(e,r){return e[r].block?"<pre><code>"+x(e[r].content)+"</code></pre>"+T(e,r):"<code>"+x(e[r].content)+"</code>"};d.fence=function(e,r,n,l,o){var i=e[r],c="",t=n.langPrefix,s="",u,a,f;if(i.params){if(u=i.params.split(/\s+/g),a=u.join(" "),Ge(o.rules.fence_custom,u[0]))return o.rules.fence_custom[u[0]](e,r,n,l,o);s=x(S(D(a))),c=' class="'+t+s+'"'}return n.highlight?f=n.highlight.apply(n.highlight,[i.content].concat(u))||x(i.content):f=x(i.content),"<pre><code"+c+">"+f+"</code></pre>"+T(e,r)};d.fence_custom={};d.heading_open=function(e,r){return"<h"+e[r].hLevel+">"};d.heading_close=function(e,r){return"</h"+e[r].hLevel+`>
`};d.hr=function(e,r,n){return(n.xhtmlOut?"<hr />":"<hr>")+T(e,r)};d.bullet_list_open=function(){return`<ul>
`};d.bullet_list_close=function(e,r){return"</ul>"+T(e,r)};d.list_item_open=function(){return"<li>"};d.list_item_close=function(){return`</li>
`};d.ordered_list_open=function(e,r){var n=e[r],l=n.order>1?' start="'+n.order+'"':"";return"<ol"+l+`>
`};d.ordered_list_close=function(e,r){return"</ol>"+T(e,r)};d.paragraph_open=function(e,r){return e[r].tight?"":"<p>"};d.paragraph_close=function(e,r){var n=!(e[r].tight&&r&&e[r-1].type==="inline"&&!e[r-1].content);return(e[r].tight?"":"</p>")+(n?T(e,r):"")};d.link_open=function(e,r,n){var l=e[r].title?' title="'+x(S(e[r].title))+'"':"",o=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+x(e[r].href)+'"'+l+o+">"};d.link_close=function(){return"</a>"};d.image=function(e,r,n){var l=' src="'+x(e[r].src)+'"',o=e[r].title?' title="'+x(S(e[r].title))+'"':"",i=' alt="'+(e[r].alt?x(S(D(e[r].alt))):"")+'"',c=n.xhtmlOut?" /":"";return"<img"+l+i+o+c+">"};d.table_open=function(){return`<table>
`};d.table_close=function(){return`</table>
`};d.thead_open=function(){return`<thead>
`};d.thead_close=function(){return`</thead>
`};d.tbody_open=function(){return`<tbody>
`};d.tbody_close=function(){return`</tbody>
`};d.tr_open=function(){return"<tr>"};d.tr_close=function(){return`</tr>
`};d.th_open=function(e,r){var n=e[r];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"};d.th_close=function(){return"</th>"};d.td_open=function(e,r){var n=e[r];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"};d.td_close=function(){return"</td>"};d.strong_open=function(){return"<strong>"};d.strong_close=function(){return"</strong>"};d.em_open=function(){return"<em>"};d.em_close=function(){return"</em>"};d.del_open=function(){return"<del>"};d.del_close=function(){return"</del>"};d.ins_open=function(){return"<ins>"};d.ins_close=function(){return"</ins>"};d.mark_open=function(){return"<mark>"};d.mark_close=function(){return"</mark>"};d.sub=function(e,r){return"<sub>"+x(e[r].content)+"</sub>"};d.sup=function(e,r){return"<sup>"+x(e[r].content)+"</sup>"};d.hardbreak=function(e,r,n){return n.xhtmlOut?`<br />
`:`<br>
`};d.softbreak=function(e,r,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};d.text=function(e,r){return x(e[r].content)};d.htmlblock=function(e,r){return e[r].content};d.htmltag=function(e,r){return e[r].content};d.abbr_open=function(e,r){return'<abbr title="'+x(S(e[r].title))+'">'};d.abbr_close=function(){return"</abbr>"};d.footnote_ref=function(e,r){var n=Number(e[r].id+1).toString(),l="fnref"+n;return e[r].subId>0&&(l+=":"+e[r].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+l+'">['+n+"]</a></sup>"};d.footnote_block_open=function(e,r,n){var l=n.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return l+`<section class="footnotes">
<ol class="footnotes-list">
`};d.footnote_block_close=function(){return`</ol>
</section>
`};d.footnote_open=function(e,r){var n=Number(e[r].id+1).toString();return'<li id="fn'+n+'"  class="footnote-item">'};d.footnote_close=function(){return`</li>
`};d.footnote_anchor=function(e,r){var n=Number(e[r].id+1).toString(),l="fnref"+n;return e[r].subId>0&&(l+=":"+e[r].subId),' <a href="#'+l+'" class="footnote-backref">\u21A9</a>'};d.dl_open=function(){return`<dl>
`};d.dt_open=function(){return"<dt>"};d.dd_open=function(){return"<dd>"};d.dl_close=function(){return`</dl>
`};d.dt_close=function(){return`</dt>
`};d.dd_close=function(){return`</dd>
`};function Le(e,r){return++r>=e.length-2?r:e[r].type==="paragraph_open"&&e[r].tight&&e[r+1].type==="inline"&&e[r+1].content.length===0&&e[r+2].type==="paragraph_close"&&e[r+2].tight?Le(e,r+2):r}var T=d.getBreak=function(r,n){return n=Le(r,n),n<r.length&&r[n].type==="list_item_close"?"":`
`};function oe(){this.rules=Ne({},d),this.getBreak=d.getBreak}oe.prototype.renderInline=function(e,r,n){for(var l=this.rules,o=e.length,i=0,c="";o--;)c+=l[e[i].type](e,i++,r,n,this);return c};oe.prototype.render=function(e,r,n){for(var l=this.rules,o=e.length,i=-1,c="";++i<o;)e[i].type==="inline"?c+=this.renderInline(e[i].children,r,n):c+=l[e[i].type](e,i,r,n,this);return c};function _(){this.__rules__=[],this.__cache__=null}_.prototype.__find__=function(e){for(var r=this.__rules__.length,n=-1;r--;)if(this.__rules__[++n].name===e)return n;return-1};_.prototype.__compile__=function(){var e=this,r=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(l){r.indexOf(l)<0&&r.push(l)})}),e.__cache__={},r.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(l){l.enabled&&(n&&l.alt.indexOf(n)<0||e.__cache__[n].push(l.fn))})})};_.prototype.at=function(e,r,n){var l=this.__find__(e),o=n||{};if(l===-1)throw new Error("Parser rule not found: "+e);this.__rules__[l].fn=r,this.__rules__[l].alt=o.alt||[],this.__cache__=null};_.prototype.before=function(e,r,n,l){var o=this.__find__(e),i=l||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:r,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};_.prototype.after=function(e,r,n,l){var o=this.__find__(e),i=l||{};if(o===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:r,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};_.prototype.push=function(e,r,n){var l=n||{};this.__rules__.push({name:e,enabled:!0,fn:r,alt:l.alt||[]}),this.__cache__=null};_.prototype.enable=function(e,r){e=Array.isArray(e)?e:[e],r&&this.__rules__.forEach(function(n){n.enabled=!1}),e.forEach(function(n){var l=this.__find__(n);if(l<0)throw new Error("Rules manager: invalid rule name "+n);this.__rules__[l].enabled=!0},this),this.__cache__=null};_.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(r){var n=this.__find__(r);if(n<0)throw new Error("Rules manager: invalid rule name "+r);this.__rules__[n].enabled=!1},this),this.__cache__=null};_.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function nr(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function M(e,r,n,l,o){this.src=e,this.env=l,this.options=n,this.parser=r,this.tokens=o,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}M.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};M.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level};M.prototype.cacheSet=function(e,r){for(var n=this.cache.length;n<=e;n++)this.cache.push(0);this.cache[e]=r};M.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function R(e,r){var n,l,o,i=-1,c=e.posMax,t=e.pos,s=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=r+1,e.isInLabel=!0,n=1;e.pos<c;){if(o=e.src.charCodeAt(e.pos),o===91)n++;else if(o===93&&(n--,n===0)){l=!0;break}e.parser.skipToken(e)}return l?(i=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=n-1,e.pos=t,e.isInLabel=s,i}function lr(e,r,n,l){var o,i,c,t,s,u;if(e.charCodeAt(0)!==42||e.charCodeAt(1)!==91||e.indexOf("]:")===-1||(o=new M(e,r,n,l,[]),i=R(o,1),i<0||e.charCodeAt(i+1)!==58))return-1;for(t=o.posMax,c=i+2;c<t&&o.src.charCodeAt(c)!==10;c++);return s=e.slice(2,i),u=e.slice(i+2,c).trim(),u.length===0?-1:(l.abbreviations||(l.abbreviations={}),typeof l.abbreviations[":"+s]>"u"&&(l.abbreviations[":"+s]=u),c)}function or(e){var r=e.tokens,n,l,o,i;if(!e.inlineMode){for(n=1,l=r.length-1;n<l;n++)if(r[n-1].type==="paragraph_open"&&r[n].type==="inline"&&r[n+1].type==="paragraph_close"){for(o=r[n].content;o.length&&(i=lr(o,e.inline,e.options,e.env),!(i<0));)o=o.slice(i).trim();r[n].content=o,o.length||(r[n-1].tight=!0,r[n+1].tight=!0)}}}function le(e){var r=S(e);try{r=decodeURI(r)}catch{}return encodeURI(r)}function De(e,r){var n,l,o,i=r,c=e.posMax;if(e.src.charCodeAt(r)===60){for(r++;r<c;){if(n=e.src.charCodeAt(r),n===10)return!1;if(n===62)return o=le(D(e.src.slice(i+1,r))),e.parser.validateLink(o)?(e.pos=r+1,e.linkContent=o,!0):!1;if(n===92&&r+1<c){r+=2;continue}r++}return!1}for(l=0;r<c&&(n=e.src.charCodeAt(r),!(n===32||n<32||n===127));){if(n===92&&r+1<c){r+=2;continue}if(n===40&&(l++,l>1)||n===41&&(l--,l<0))break;r++}return i===r||(o=D(e.src.slice(i,r)),!e.parser.validateLink(o))?!1:(e.linkContent=o,e.pos=r,!0)}function Re(e,r){var n,l=r,o=e.posMax,i=e.src.charCodeAt(r);if(i!==34&&i!==39&&i!==40)return!1;for(r++,i===40&&(i=41);r<o;){if(n=e.src.charCodeAt(r),n===i)return e.pos=r+1,e.linkContent=D(e.src.slice(l+1,r)),!0;if(n===92&&r+1<o){r+=2;continue}r++}return!1}function He(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function ir(e,r,n,l){var o,i,c,t,s,u,a,f,m;if(e.charCodeAt(0)!==91||e.indexOf("]:")===-1||(o=new M(e,r,n,l,[]),i=R(o,0),i<0||e.charCodeAt(i+1)!==58))return-1;for(t=o.posMax,c=i+2;c<t&&(s=o.src.charCodeAt(c),!(s!==32&&s!==10));c++);if(!De(o,c))return-1;for(a=o.linkContent,c=o.pos,u=c,c=c+1;c<t&&(s=o.src.charCodeAt(c),!(s!==32&&s!==10));c++);for(c<t&&u!==c&&Re(o,c)?(f=o.linkContent,c=o.pos):(f="",c=u);c<t&&o.src.charCodeAt(c)===32;)c++;return c<t&&o.src.charCodeAt(c)!==10?-1:(m=He(e.slice(1,i)),typeof l.references[m]>"u"&&(l.references[m]={title:f,href:a}),c)}function tr(e){var r=e.tokens,n,l,o,i;if(e.env.references=e.env.references||{},!e.inlineMode){for(n=1,l=r.length-1;n<l;n++)if(r[n].type==="inline"&&r[n-1].type==="paragraph_open"&&r[n+1].type==="paragraph_close"){for(o=r[n].content;o.length&&(i=ir(o,e.inline,e.options,e.env),!(i<0));)o=o.slice(i).trim();r[n].content=o,o.length||(r[n-1].tight=!0,r[n+1].tight=!0)}}}function cr(e){var r=e.tokens,n,l,o;for(l=0,o=r.length;l<o;l++)n=r[l],n.type==="inline"&&e.inline.parse(n.content,e.options,e.env,n.children)}function sr(e){var r,n,l,o,i,c,t,s,u,a=0,f=!1,m={};if(e.env.footnotes&&(e.tokens=e.tokens.filter(function(g){return g.type==="footnote_reference_open"?(f=!0,s=[],u=g.label,!1):g.type==="footnote_reference_close"?(f=!1,m[":"+u]=s,!1):(f&&s.push(g),!f)}),!!e.env.footnotes.list)){for(c=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:a++}),r=0,n=c.length;r<n;r++){for(e.tokens.push({type:"footnote_open",id:r,level:a++}),c[r].tokens?(t=[],t.push({type:"paragraph_open",tight:!1,level:a++}),t.push({type:"inline",content:"",level:a,children:c[r].tokens}),t.push({type:"paragraph_close",tight:!1,level:--a})):c[r].label&&(t=m[":"+c[r].label]),e.tokens=e.tokens.concat(t),e.tokens[e.tokens.length-1].type==="paragraph_close"?i=e.tokens.pop():i=null,o=c[r].count>0?c[r].count:1,l=0;l<o;l++)e.tokens.push({type:"footnote_anchor",id:r,subId:l,level:a});i&&e.tokens.push(i),e.tokens.push({type:"footnote_close",level:--a})}e.tokens.push({type:"footnote_block_close",level:--a})}}var ye=` 
()[]'".,!?-`;function Q(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function ar(e){var r,n,l,o,i,c,t,s,u,a,f,m,g=e.tokens;if(e.env.abbreviations){for(e.env.abbrRegExp||(m="(^|["+ye.split("").map(Q).join("")+"])("+Object.keys(e.env.abbreviations).map(function(h){return h.substr(1)}).sort(function(h,p){return p.length-h.length}).map(Q).join("|")+")($|["+ye.split("").map(Q).join("")+"])",e.env.abbrRegExp=new RegExp(m,"g")),a=e.env.abbrRegExp,n=0,l=g.length;n<l;n++)if(g[n].type==="inline"){for(o=g[n].children,r=o.length-1;r>=0;r--)if(i=o[r],i.type==="text"){for(s=0,c=i.content,a.lastIndex=0,u=i.level,t=[];f=a.exec(c);)a.lastIndex>s&&t.push({type:"text",content:c.slice(s,f.index+f[1].length),level:u}),t.push({type:"abbr_open",title:e.env.abbreviations[":"+f[2]],level:u++}),t.push({type:"text",content:f[2],level:u}),t.push({type:"abbr_close",level:--u}),s=a.lastIndex-f[3].length;t.length&&(s<c.length&&t.push({type:"text",content:c.slice(s),level:u}),g[n].children=o=[].concat(o.slice(0,r),t,o.slice(r+1)))}}}}var ur=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,fr=/\((c|tm|r|p)\)/ig,pr={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function hr(e){return e.indexOf("(")<0?e:e.replace(fr,function(r,n){return pr[n.toLowerCase()]})}function dr(e){var r,n,l,o,i;if(e.options.typographer){for(i=e.tokens.length-1;i>=0;i--)if(e.tokens[i].type==="inline")for(o=e.tokens[i].children,r=o.length-1;r>=0;r--)n=o[r],n.type==="text"&&(l=n.content,l=hr(l),ur.test(l)&&(l=l.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1\u2014$2").replace(/(^|\s)--(\s|$)/mg,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1\u2013$2")),n.content=l)}}var gr=/['"]/,Ce=/['"]/g,mr=/[-\s()\[\]]/,Ae="\u2019";function Ee(e,r){return r<0||r>=e.length?!1:!mr.test(e[r])}function N(e,r,n){return e.substr(0,r)+n+e.substr(r+1)}function vr(e){var r,n,l,o,i,c,t,s,u,a,f,m,g,h,p,b,v;if(e.options.typographer){for(v=[],p=e.tokens.length-1;p>=0;p--)if(e.tokens[p].type==="inline"){for(b=e.tokens[p].children,v.length=0,r=0;r<b.length;r++)if(n=b[r],!(n.type!=="text"||gr.test(n.text))){for(t=b[r].level,g=v.length-1;g>=0&&!(v[g].level<=t);g--);v.length=g+1,l=n.content,i=0,c=l.length;e:for(;i<c&&(Ce.lastIndex=i,o=Ce.exec(l),!!o);){if(s=!Ee(l,o.index-1),i=o.index+1,h=o[0]==="'",u=!Ee(l,i),!u&&!s){h&&(n.content=N(n.content,o.index,Ae));continue}if(f=!u,m=!s,m){for(g=v.length-1;g>=0&&(a=v[g],!(v[g].level<t));g--)if(a.single===h&&v[g].level===t){a=v[g],h?(b[a.token].content=N(b[a.token].content,a.pos,e.options.quotes[2]),n.content=N(n.content,o.index,e.options.quotes[3])):(b[a.token].content=N(b[a.token].content,a.pos,e.options.quotes[0]),n.content=N(n.content,o.index,e.options.quotes[1])),v.length=g;continue e}}f?v.push({token:r,pos:o.index,single:h,level:t}):m&&h&&(n.content=N(n.content,o.index,Ae))}}}}}var Y=[["block",nr],["abbr",or],["references",tr],["inline",cr],["footnote_tail",sr],["abbr2",ar],["replacements",dr],["smartquotes",vr]];function Be(){this.options={},this.ruler=new _;for(var e=0;e<Y.length;e++)this.ruler.push(Y[e][0],Y[e][1])}Be.prototype.process=function(e){var r,n,l;for(l=this.ruler.getRules(""),r=0,n=l.length;r<n;r++)l[r](e)};function w(e,r,n,l,o){var i,c,t,s,u,a,f;for(this.src=e,this.parser=r,this.options=n,this.env=l,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",c=this.src,a=0,f=!1,t=s=a=0,u=c.length;s<u;s++){if(i=c.charCodeAt(s),!f)if(i===32){a++;continue}else f=!0;(i===10||s===u-1)&&(i!==10&&s++,this.bMarks.push(t),this.eMarks.push(s),this.tShift.push(a),f=!1,a=0,t=s+1)}this.bMarks.push(c.length),this.eMarks.push(c.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}w.prototype.isEmpty=function(r){return this.bMarks[r]+this.tShift[r]>=this.eMarks[r]};w.prototype.skipEmptyLines=function(r){for(var n=this.lineMax;r<n&&!(this.bMarks[r]+this.tShift[r]<this.eMarks[r]);r++);return r};w.prototype.skipSpaces=function(r){for(var n=this.src.length;r<n&&this.src.charCodeAt(r)===32;r++);return r};w.prototype.skipChars=function(r,n){for(var l=this.src.length;r<l&&this.src.charCodeAt(r)===n;r++);return r};w.prototype.skipCharsBack=function(r,n,l){if(r<=l)return r;for(;r>l;)if(n!==this.src.charCodeAt(--r))return r+1;return r};w.prototype.getLines=function(r,n,l,o){var i,c,t,s,u,a=r;if(r>=n)return"";if(a+1===n)return c=this.bMarks[a]+Math.min(this.tShift[a],l),t=o?this.eMarks[a]+1:this.eMarks[a],this.src.slice(c,t);for(s=new Array(n-r),i=0;a<n;a++,i++)u=this.tShift[a],u>l&&(u=l),u<0&&(u=0),c=this.bMarks[a]+u,a+1<n||o?t=this.eMarks[a]+1:t=this.eMarks[a],s[i]=this.src.slice(c,t);return s.join("")};function br(e,r,n){var l,o;if(e.tShift[r]-e.blkIndent<4)return!1;for(o=l=r+1;l<n;){if(e.isEmpty(l)){l++;continue}if(e.tShift[l]-e.blkIndent>=4){l++,o=l;continue}break}return e.line=l,e.tokens.push({type:"code",content:e.getLines(r,o,4+e.blkIndent,!0),block:!0,lines:[r,e.line],level:e.level}),!0}function xr(e,r,n,l){var o,i,c,t,s,u=!1,a=e.bMarks[r]+e.tShift[r],f=e.eMarks[r];if(a+3>f||(o=e.src.charCodeAt(a),o!==126&&o!==96)||(s=a,a=e.skipChars(a,o),i=a-s,i<3)||(c=e.src.slice(a,f).trim(),c.indexOf("`")>=0))return!1;if(l)return!0;for(t=r;t++,!(t>=n||(a=s=e.bMarks[t]+e.tShift[t],f=e.eMarks[t],a<f&&e.tShift[t]<e.blkIndent));)if(e.src.charCodeAt(a)===o&&!(e.tShift[t]-e.blkIndent>=4)&&(a=e.skipChars(a,o),!(a-s<i)&&(a=e.skipSpaces(a),!(a<f)))){u=!0;break}return i=e.tShift[r],e.line=t+(u?1:0),e.tokens.push({type:"fence",params:c,content:e.getLines(r+1,t,i,!0),lines:[r,e.line],level:e.level}),!0}function _r(e,r,n,l){var o,i,c,t,s,u,a,f,m,g,h,p=e.bMarks[r]+e.tShift[r],b=e.eMarks[r];if(p>b||e.src.charCodeAt(p++)!==62||e.level>=e.options.maxNesting)return!1;if(l)return!0;for(e.src.charCodeAt(p)===32&&p++,s=e.blkIndent,e.blkIndent=0,t=[e.bMarks[r]],e.bMarks[r]=p,p=p<b?e.skipSpaces(p):p,i=p>=b,c=[e.tShift[r]],e.tShift[r]=p-e.bMarks[r],f=e.parser.ruler.getRules("blockquote"),o=r+1;o<n&&(p=e.bMarks[o]+e.tShift[o],b=e.eMarks[o],!(p>=b));o++){if(e.src.charCodeAt(p++)===62){e.src.charCodeAt(p)===32&&p++,t.push(e.bMarks[o]),e.bMarks[o]=p,p=p<b?e.skipSpaces(p):p,i=p>=b,c.push(e.tShift[o]),e.tShift[o]=p-e.bMarks[o];continue}if(i)break;for(h=!1,m=0,g=f.length;m<g;m++)if(f[m](e,o,n,!0)){h=!0;break}if(h)break;t.push(e.bMarks[o]),c.push(e.tShift[o]),e.tShift[o]=-1337}for(u=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:a=[r,0],level:e.level++}),e.parser.tokenize(e,r,o),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=u,a[1]=e.line,m=0;m<c.length;m++)e.bMarks[m+r]=t[m],e.tShift[m+r]=c[m];return e.blkIndent=s,!0}function kr(e,r,n,l){var o,i,c,t=e.bMarks[r],s=e.eMarks[r];if(t+=e.tShift[r],t>s||(o=e.src.charCodeAt(t++),o!==42&&o!==45&&o!==95))return!1;for(i=1;t<s;){if(c=e.src.charCodeAt(t++),c!==o&&c!==32)return!1;c===o&&i++}return i<3?!1:(l||(e.line=r+1,e.tokens.push({type:"hr",lines:[r,e.line],level:e.level})),!0)}function Se(e,r){var n,l,o;return l=e.bMarks[r]+e.tShift[r],o=e.eMarks[r],l>=o||(n=e.src.charCodeAt(l++),n!==42&&n!==45&&n!==43)||l<o&&e.src.charCodeAt(l)!==32?-1:l}function Te(e,r){var n,l=e.bMarks[r]+e.tShift[r],o=e.eMarks[r];if(l+1>=o||(n=e.src.charCodeAt(l++),n<48||n>57))return-1;for(;;){if(l>=o)return-1;if(n=e.src.charCodeAt(l++),!(n>=48&&n<=57)){if(n===41||n===46)break;return-1}}return l<o&&e.src.charCodeAt(l)!==32?-1:l}function yr(e,r){var n,l,o=e.level+2;for(n=r+2,l=e.tokens.length-2;n<l;n++)e.tokens[n].level===o&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}function Cr(e,r,n,l){var o,i,c,t,s,u,a,f,m,g,h,p,b,v,I,G,X,pe,he=!0,W,O,de,J;if((f=Te(e,r))>=0)b=!0;else if((f=Se(e,r))>=0)b=!1;else return!1;if(e.level>=e.options.maxNesting)return!1;if(p=e.src.charCodeAt(f-1),l)return!0;for(I=e.tokens.length,b?(a=e.bMarks[r]+e.tShift[r],h=Number(e.src.substr(a,f-a-1)),e.tokens.push({type:"ordered_list_open",order:h,lines:X=[r,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:X=[r,0],level:e.level++}),o=r,G=!1,W=e.parser.ruler.getRules("list");o<n&&(v=e.skipSpaces(f),m=e.eMarks[o],v>=m?g=1:g=v-f,g>4&&(g=1),g<1&&(g=1),i=f-e.bMarks[o]+g,e.tokens.push({type:"list_item_open",lines:pe=[r,0],level:e.level++}),t=e.blkIndent,s=e.tight,c=e.tShift[r],u=e.parentType,e.tShift[r]=v-e.bMarks[r],e.blkIndent=i,e.tight=!0,e.parentType="list",e.parser.tokenize(e,r,n,!0),(!e.tight||G)&&(he=!1),G=e.line-r>1&&e.isEmpty(e.line-1),e.blkIndent=t,e.tShift[r]=c,e.tight=s,e.parentType=u,e.tokens.push({type:"list_item_close",level:--e.level}),o=r=e.line,pe[1]=o,v=e.bMarks[r],!(o>=n||e.isEmpty(o)||e.tShift[o]<e.blkIndent));){for(J=!1,O=0,de=W.length;O<de;O++)if(W[O](e,o,n,!0)){J=!0;break}if(J)break;if(b){if(f=Te(e,o),f<0)break}else if(f=Se(e,o),f<0)break;if(p!==e.src.charCodeAt(f-1))break}return e.tokens.push({type:b?"ordered_list_close":"bullet_list_close",level:--e.level}),X[1]=o,e.line=o,he&&yr(e,I),!0}function Ar(e,r,n,l){var o,i,c,t,s,u=e.bMarks[r]+e.tShift[r],a=e.eMarks[r];if(u+4>a||e.src.charCodeAt(u)!==91||e.src.charCodeAt(u+1)!==94||e.level>=e.options.maxNesting)return!1;for(t=u+2;t<a;t++){if(e.src.charCodeAt(t)===32)return!1;if(e.src.charCodeAt(t)===93)break}return t===u+2||t+1>=a||e.src.charCodeAt(++t)!==58?!1:(l||(t++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),s=e.src.slice(u+2,t-2),e.env.footnotes.refs[":"+s]=-1,e.tokens.push({type:"footnote_reference_open",label:s,level:e.level++}),o=e.bMarks[r],i=e.tShift[r],c=e.parentType,e.tShift[r]=e.skipSpaces(t)-t,e.bMarks[r]=t,e.blkIndent+=4,e.parentType="footnote",e.tShift[r]<e.blkIndent&&(e.tShift[r]+=e.blkIndent,e.bMarks[r]-=e.blkIndent),e.parser.tokenize(e,r,n,!0),e.parentType=c,e.blkIndent-=4,e.tShift[r]=i,e.bMarks[r]=o,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0)}function Er(e,r,n,l){var o,i,c,t=e.bMarks[r]+e.tShift[r],s=e.eMarks[r];if(t>=s||(o=e.src.charCodeAt(t),o!==35||t>=s))return!1;for(i=1,o=e.src.charCodeAt(++t);o===35&&t<s&&i<=6;)i++,o=e.src.charCodeAt(++t);return i>6||t<s&&o!==32?!1:(l||(s=e.skipCharsBack(s,32,t),c=e.skipCharsBack(s,35,t),c>t&&e.src.charCodeAt(c-1)===32&&(s=c),e.line=r+1,e.tokens.push({type:"heading_open",hLevel:i,lines:[r,e.line],level:e.level}),t<s&&e.tokens.push({type:"inline",content:e.src.slice(t,s).trim(),level:e.level+1,lines:[r,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:i,level:e.level})),!0)}function Sr(e,r,n){var l,o,i,c=r+1;return c>=n||e.tShift[c]<e.blkIndent||e.tShift[c]-e.blkIndent>3||(o=e.bMarks[c]+e.tShift[c],i=e.eMarks[c],o>=i)||(l=e.src.charCodeAt(o),l!==45&&l!==61)||(o=e.skipChars(o,l),o=e.skipSpaces(o),o<i)?!1:(o=e.bMarks[r]+e.tShift[r],e.line=c+1,e.tokens.push({type:"heading_open",hLevel:l===61?1:2,lines:[r,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(o,e.eMarks[r]).trim(),level:e.level+1,lines:[r,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:l===61?1:2,level:e.level}),!0)}var Oe={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){Oe[e]=!0});var Tr=/^<([a-zA-Z]{1,15})[\s\/>]/,Mr=/^<\/([a-zA-Z]{1,15})[\s>]/;function wr(e){var r=e|32;return r>=97&&r<=122}function Ir(e,r,n,l){var o,i,c,t=e.bMarks[r],s=e.eMarks[r],u=e.tShift[r];if(t+=u,!e.options.html||u>3||t+2>=s||e.src.charCodeAt(t)!==60)return!1;if(o=e.src.charCodeAt(t+1),o===33||o===63){if(l)return!0}else if(o===47||wr(o)){if(o===47){if(i=e.src.slice(t,s).match(Mr),!i)return!1}else if(i=e.src.slice(t,s).match(Tr),!i)return!1;if(Oe[i[1].toLowerCase()]!==!0)return!1;if(l)return!0}else return!1;for(c=r+1;c<e.lineMax&&!e.isEmpty(c);)c++;return e.line=c,e.tokens.push({type:"htmlblock",level:e.level,lines:[r,e.line],content:e.getLines(r,c,0,!0)}),!0}function K(e,r){var n=e.bMarks[r]+e.blkIndent,l=e.eMarks[r];return e.src.substr(n,l-n)}function Nr(e,r,n,l){var o,i,c,t,s,u,a,f,m,g,h;if(r+2>n||(s=r+1,e.tShift[s]<e.blkIndent)||(c=e.bMarks[s]+e.tShift[s],c>=e.eMarks[s])||(o=e.src.charCodeAt(c),o!==124&&o!==45&&o!==58)||(i=K(e,r+1),!/^[-:| ]+$/.test(i))||(u=i.split("|"),u<=2))return!1;for(f=[],t=0;t<u.length;t++){if(m=u[t].trim(),!m){if(t===0||t===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?f.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?f.push("left"):f.push("")}if(i=K(e,r).trim(),i.indexOf("|")===-1||(u=i.replace(/^\||\|$/g,"").split("|"),f.length!==u.length))return!1;if(l)return!0;for(e.tokens.push({type:"table_open",lines:g=[r,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[r,r+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[r,r+1],level:e.level++}),t=0;t<u.length;t++)e.tokens.push({type:"th_open",align:f[t],lines:[r,r+1],level:e.level++}),e.tokens.push({type:"inline",content:u[t].trim(),lines:[r,r+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:h=[r+2,0],level:e.level++}),s=r+2;s<n&&!(e.tShift[s]<e.blkIndent||(i=K(e,s).trim(),i.indexOf("|")===-1));s++){for(u=i.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),t=0;t<u.length;t++)e.tokens.push({type:"td_open",align:f[t],level:e.level++}),a=u[t].substring(u[t].charCodeAt(0)===124?1:0,u[t].charCodeAt(u[t].length-1)===124?u[t].length-1:u[t].length).trim(),e.tokens.push({type:"inline",content:a,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),g[1]=h[1]=s,e.line=s,!0}function j(e,r){var n,l,o=e.bMarks[r]+e.tShift[r],i=e.eMarks[r];return o>=i||(l=e.src.charCodeAt(o++),l!==126&&l!==58)||(n=e.skipSpaces(o),o===n)||n>=i?-1:n}function qr(e,r){var n,l,o=e.level+2;for(n=r+2,l=e.tokens.length-2;n<l;n++)e.tokens[n].level===o&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}function Lr(e,r,n,l){var o,i,c,t,s,u,a,f,m,g,h,p,b,v;if(l)return e.ddIndent<0?!1:j(e,r)>=0;if(a=r+1,e.isEmpty(a)&&++a>n||e.tShift[a]<e.blkIndent||(o=j(e,a),o<0)||e.level>=e.options.maxNesting)return!1;u=e.tokens.length,e.tokens.push({type:"dl_open",lines:s=[r,0],level:e.level++}),c=r,i=a;e:for(;;){for(v=!0,b=!1,e.tokens.push({type:"dt_open",lines:[c,c],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(c,c+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[c,c],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:t=[a,0],level:e.level++}),p=e.tight,m=e.ddIndent,f=e.blkIndent,h=e.tShift[i],g=e.parentType,e.blkIndent=e.ddIndent=e.tShift[i]+2,e.tShift[i]=o-e.bMarks[i],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,i,n,!0),(!e.tight||b)&&(v=!1),b=e.line-i>1&&e.isEmpty(e.line-1),e.tShift[i]=h,e.tight=p,e.parentType=g,e.blkIndent=f,e.ddIndent=m,e.tokens.push({type:"dd_close",level:--e.level}),t[1]=a=e.line,a>=n||e.tShift[a]<e.blkIndent)break e;if(o=j(e,a),o<0)break;i=a}if(a>=n||(c=a,e.isEmpty(c))||e.tShift[c]<e.blkIndent||(i=c+1,i>=n)||(e.isEmpty(i)&&i++,i>=n)||e.tShift[i]<e.blkIndent||(o=j(e,i),o<0))break}return e.tokens.push({type:"dl_close",level:--e.level}),s[1]=a,e.line=a,v&&qr(e,u),!0}function Dr(e,r){var n,l,o,i,c,t=r+1,s;if(n=e.lineMax,t<n&&!e.isEmpty(t)){for(s=e.parser.ruler.getRules("paragraph");t<n&&!e.isEmpty(t);t++)if(!(e.tShift[t]-e.blkIndent>3)){for(o=!1,i=0,c=s.length;i<c;i++)if(s[i](e,t,n,!0)){o=!0;break}if(o)break}}return l=e.getLines(r,t,e.blkIndent,!1).trim(),e.line=t,l.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[r,e.line],level:e.level}),e.tokens.push({type:"inline",content:l,level:e.level+1,lines:[r,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var U=[["code",br],["fences",xr,["paragraph","blockquote","list"]],["blockquote",_r,["paragraph","blockquote","list"]],["hr",kr,["paragraph","blockquote","list"]],["list",Cr,["paragraph","blockquote"]],["footnote",Ar,["paragraph"]],["heading",Er,["paragraph","blockquote"]],["lheading",Sr],["htmlblock",Ir,["paragraph","blockquote"]],["table",Nr,["paragraph"]],["deflist",Lr,["paragraph"]],["paragraph",Dr]];function ie(){this.ruler=new _;for(var e=0;e<U.length;e++)this.ruler.push(U[e][0],U[e][1],{alt:(U[e][2]||[]).slice()})}ie.prototype.tokenize=function(e,r,n){for(var l=this.ruler.getRules(""),o=l.length,i=r,c=!1,t,s;i<n&&(e.line=i=e.skipEmptyLines(i),!(i>=n||e.tShift[i]<e.blkIndent));){for(s=0;s<o&&(t=l[s](e,i,n,!1),!t);s++);if(e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),i=e.line,i<n&&e.isEmpty(i)){if(c=!0,i++,i<n&&e.parentType==="list"&&e.isEmpty(i))break;e.line=i}}};var Rr=/[\n\t]/g,Hr=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,Br=/\u00a0/g;ie.prototype.parse=function(e,r,n,l){var o,i=0,c=0;if(!e)return[];e=e.replace(Br," "),e=e.replace(Hr,`
`),e.indexOf("	")>=0&&(e=e.replace(Rr,function(t,s){var u;return e.charCodeAt(s)===10?(i=s+1,c=0,t):(u="    ".slice((s-i-c)%4),c=s-i+1,u)})),o=new w(e,this,r,n,l),this.tokenize(o,o.line,o.lineMax)};function Or(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function Pr(e,r){for(var n=e.pos;n<e.posMax&&!Or(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(r||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}function Fr(e,r){var n,l,o=e.pos;if(e.src.charCodeAt(o)!==10)return!1;if(n=e.pending.length-1,l=e.posMax,!r)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){for(var i=n-2;i>=0;i--)if(e.pending.charCodeAt(i)!==32){e.pending=e.pending.substring(0,i+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(o++;o<l&&e.src.charCodeAt(o)===32;)o++;return e.pos=o,!0}var te=[];for(ee=0;ee<256;ee++)te.push(0);var ee;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){te[e.charCodeAt(0)]=1});function zr(e,r){var n,l=e.pos,o=e.posMax;if(e.src.charCodeAt(l)!==92)return!1;if(l++,l<o){if(n=e.src.charCodeAt(l),n<256&&te[n]!==0)return r||(e.pending+=e.src[l]),e.pos+=2,!0;if(n===10){for(r||e.push({type:"hardbreak",level:e.level}),l++;l<o&&e.src.charCodeAt(l)===32;)l++;return e.pos=l,!0}}return r||(e.pending+="\\"),e.pos++,!0}function $r(e,r){var n,l,o,i,c,t=e.pos,s=e.src.charCodeAt(t);if(s!==96)return!1;for(n=t,t++,l=e.posMax;t<l&&e.src.charCodeAt(t)===96;)t++;for(o=e.src.slice(n,t),i=c=t;(i=e.src.indexOf("`",c))!==-1;){for(c=i+1;c<l&&e.src.charCodeAt(c)===96;)c++;if(c-i===o.length)return r||e.push({type:"code",content:e.src.slice(t,i).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=c,!0}return r||(e.pending+=o),e.pos+=o.length,!0}function jr(e,r){var n,l,o,i=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==126||r||c+4>=i||e.src.charCodeAt(c+1)!==126||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===126)||s===126||s===32||s===10)return!1;for(l=c+2;l<i&&e.src.charCodeAt(l)===126;)l++;if(l>c+3)return e.pos+=l-c,r||(e.pending+=e.src.slice(c,l)),!0;for(e.pos=c+2,o=1;e.pos+1<i;){if(e.src.charCodeAt(e.pos)===126&&e.src.charCodeAt(e.pos+1)===126&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<i?e.src.charCodeAt(e.pos+2):-1,s!==126&&t!==126&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,r||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=i,!0):(e.pos=c,!1)}function Ur(e,r){var n,l,o,i=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==43||r||c+4>=i||e.src.charCodeAt(c+1)!==43||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===43)||s===43||s===32||s===10)return!1;for(l=c+2;l<i&&e.src.charCodeAt(l)===43;)l++;if(l!==c+2)return e.pos+=l-c,r||(e.pending+=e.src.slice(c,l)),!0;for(e.pos=c+2,o=1;e.pos+1<i;){if(e.src.charCodeAt(e.pos)===43&&e.src.charCodeAt(e.pos+1)===43&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<i?e.src.charCodeAt(e.pos+2):-1,s!==43&&t!==43&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,r||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=i,!0):(e.pos=c,!1)}function Zr(e,r){var n,l,o,i=e.posMax,c=e.pos,t,s;if(e.src.charCodeAt(c)!==61||r||c+4>=i||e.src.charCodeAt(c+1)!==61||e.level>=e.options.maxNesting||(t=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),t===61)||s===61||s===32||s===10)return!1;for(l=c+2;l<i&&e.src.charCodeAt(l)===61;)l++;if(l!==c+2)return e.pos+=l-c,r||(e.pending+=e.src.slice(c,l)),!0;for(e.pos=c+2,o=1;e.pos+1<i;){if(e.src.charCodeAt(e.pos)===61&&e.src.charCodeAt(e.pos+1)===61&&(t=e.src.charCodeAt(e.pos-1),s=e.pos+2<i?e.src.charCodeAt(e.pos+2):-1,s!==61&&t!==61&&(t!==32&&t!==10?o--:s!==32&&s!==10&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,r||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=i,!0):(e.pos=c,!1)}function Me(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function we(e,r){var n=r,l,o,i,c=!0,t=!0,s=e.posMax,u=e.src.charCodeAt(r);for(l=r>0?e.src.charCodeAt(r-1):-1;n<s&&e.src.charCodeAt(n)===u;)n++;return n>=s&&(c=!1),i=n-r,i>=4?c=t=!1:(o=n<s?e.src.charCodeAt(n):-1,(o===32||o===10)&&(c=!1),(l===32||l===10)&&(t=!1),u===95&&(Me(l)&&(c=!1),Me(o)&&(t=!1))),{can_open:c,can_close:t,delims:i}}function Vr(e,r){var n,l,o,i,c,t,s,u=e.posMax,a=e.pos,f=e.src.charCodeAt(a);if(f!==95&&f!==42||r)return!1;if(s=we(e,a),n=s.delims,!s.can_open)return e.pos+=n,r||(e.pending+=e.src.slice(a,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=a+n,t=[n];e.pos<u;){if(e.src.charCodeAt(e.pos)===f){if(s=we(e,e.pos),l=s.delims,s.can_close){for(i=t.pop(),c=l;i!==c;){if(c<i){t.push(i-c);break}if(c-=i,t.length===0)break;e.pos+=i,i=t.pop()}if(t.length===0){n=i,o=!0;break}e.pos+=l;continue}s.can_open&&t.push(l),e.pos+=l;continue}e.parser.skipToken(e)}return o?(e.posMax=e.pos,e.pos=a+n,r||((n===2||n===3)&&e.push({type:"strong_open",level:e.level++}),(n===1||n===3)&&e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),(n===1||n===3)&&e.push({type:"em_close",level:--e.level}),(n===2||n===3)&&e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+n,e.posMax=u,!0):(e.pos=a,!1)}var Gr=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Xr(e,r){var n,l,o=e.posMax,i=e.pos;if(e.src.charCodeAt(i)!==126||r||i+2>=o||e.level>=e.options.maxNesting)return!1;for(e.pos=i+1;e.pos<o;){if(e.src.charCodeAt(e.pos)===126){n=!0;break}e.parser.skipToken(e)}return!n||i+1===e.pos||(l=e.src.slice(i+1,e.pos),l.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=i,!1):(e.posMax=e.pos,e.pos=i+1,r||e.push({type:"sub",level:e.level,content:l.replace(Gr,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)}var Wr=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function Jr(e,r){var n,l,o=e.posMax,i=e.pos;if(e.src.charCodeAt(i)!==94||r||i+2>=o||e.level>=e.options.maxNesting)return!1;for(e.pos=i+1;e.pos<o;){if(e.src.charCodeAt(e.pos)===94){n=!0;break}e.parser.skipToken(e)}return!n||i+1===e.pos||(l=e.src.slice(i+1,e.pos),l.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=i,!1):(e.posMax=e.pos,e.pos=i+1,r||e.push({type:"sup",level:e.level,content:l.replace(Wr,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)}function Qr(e,r){var n,l,o,i,c,t,s,u,a=!1,f=e.pos,m=e.posMax,g=e.pos,h=e.src.charCodeAt(g);if(h===33&&(a=!0,h=e.src.charCodeAt(++g)),h!==91||e.level>=e.options.maxNesting||(n=g+1,l=R(e,g),l<0))return!1;if(t=l+1,t<m&&e.src.charCodeAt(t)===40){for(t++;t<m&&(u=e.src.charCodeAt(t),!(u!==32&&u!==10));t++);if(t>=m)return!1;for(g=t,De(e,t)?(i=e.linkContent,t=e.pos):i="",g=t;t<m&&(u=e.src.charCodeAt(t),!(u!==32&&u!==10));t++);if(t<m&&g!==t&&Re(e,t))for(c=e.linkContent,t=e.pos;t<m&&(u=e.src.charCodeAt(t),!(u!==32&&u!==10));t++);else c="";if(t>=m||e.src.charCodeAt(t)!==41)return e.pos=f,!1;t++}else{if(e.linkLevel>0)return!1;for(;t<m&&(u=e.src.charCodeAt(t),!(u!==32&&u!==10));t++);if(t<m&&e.src.charCodeAt(t)===91&&(g=t+1,t=R(e,t),t>=0?o=e.src.slice(g,t++):t=g-1),o||(typeof o>"u"&&(t=l+1),o=e.src.slice(n,l)),s=e.env.references[He(o)],!s)return e.pos=f,!1;i=s.href,c=s.title}return r||(e.pos=n,e.posMax=l,a?e.push({type:"image",src:i,title:c,alt:e.src.substr(n,l-n),level:e.level}):(e.push({type:"link_open",href:i,title:c,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=t,e.posMax=m,!0}function Yr(e,r){var n,l,o,i,c=e.posMax,t=e.pos;return t+2>=c||e.src.charCodeAt(t)!==94||e.src.charCodeAt(t+1)!==91||e.level>=e.options.maxNesting||(n=t+2,l=R(e,t+1),l<0)?!1:(r||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),o=e.env.footnotes.list.length,e.pos=n,e.posMax=l,e.push({type:"footnote_ref",id:o,level:e.level}),e.linkLevel++,i=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[o]={tokens:e.tokens.splice(i)},e.linkLevel--),e.pos=l+1,e.posMax=c,!0)}function Kr(e,r){var n,l,o,i,c=e.posMax,t=e.pos;if(t+3>c||!e.env.footnotes||!e.env.footnotes.refs||e.src.charCodeAt(t)!==91||e.src.charCodeAt(t+1)!==94||e.level>=e.options.maxNesting)return!1;for(l=t+2;l<c;l++){if(e.src.charCodeAt(l)===32||e.src.charCodeAt(l)===10)return!1;if(e.src.charCodeAt(l)===93)break}return l===t+2||l>=c||(l++,n=e.src.slice(t+2,l-1),typeof e.env.footnotes.refs[":"+n]>"u")?!1:(r||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(o=e.env.footnotes.list.length,e.env.footnotes.list[o]={label:n,count:0},e.env.footnotes.refs[":"+n]=o):o=e.env.footnotes.refs[":"+n],i=e.env.footnotes.list[o].count,e.env.footnotes.list[o].count++,e.push({type:"footnote_ref",id:o,subId:i,level:e.level})),e.pos=l,e.posMax=c,!0)}var en=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],rn=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,nn=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function ln(e,r){var n,l,o,i,c,t=e.pos;return e.src.charCodeAt(t)!==60||(n=e.src.slice(t),n.indexOf(">")<0)?!1:(l=n.match(nn),l?en.indexOf(l[1].toLowerCase())<0||(i=l[0].slice(1,-1),c=le(i),!e.parser.validateLink(i))?!1:(r||(e.push({type:"link_open",href:c,level:e.level}),e.push({type:"text",content:i,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=l[0].length,!0):(o=n.match(rn),o?(i=o[0].slice(1,-1),c=le("mailto:"+i),e.parser.validateLink(c)?(r||(e.push({type:"link_open",href:c,level:e.level}),e.push({type:"text",content:i,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=o[0].length,!0):!1):!1))}function Z(e,r){return e=e.source,r=r||"",function n(l,o){return l?(o=o.source||o,e=e.replace(l,o),n):new RegExp(e,r)}}var on=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,tn=/[^"'=<>`\x00-\x20]+/,cn=/'[^']*'/,sn=/"[^"]*"/,an=Z(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",tn)("single_quoted",cn)("double_quoted",sn)(),un=Z(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",on)("attr_value",an)(),fn=Z(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",un)(),pn=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,hn=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,dn=/<[?].*?[?]>/,gn=/<![A-Z]+\s+[^>]*>/,mn=/<!\[CDATA\[[\s\S]*?\]\]>/,vn=Z(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",fn)("close_tag",pn)("comment",hn)("processing",dn)("declaration",gn)("cdata",mn)();function bn(e){var r=e|32;return r>=97&&r<=122}function xn(e,r){var n,l,o,i=e.pos;return!e.options.html||(o=e.posMax,e.src.charCodeAt(i)!==60||i+2>=o)||(n=e.src.charCodeAt(i+1),n!==33&&n!==63&&n!==47&&!bn(n))||(l=e.src.slice(i).match(vn),!l)?!1:(r||e.push({type:"htmltag",content:e.src.slice(i,i+l[0].length),level:e.level}),e.pos+=l[0].length,!0)}var _n=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,kn=/^&([a-z][a-z0-9]{1,31});/i;function yn(e,r){var n,l,o,i=e.pos,c=e.posMax;if(e.src.charCodeAt(i)!==38)return!1;if(i+1<c){if(n=e.src.charCodeAt(i+1),n===35){if(o=e.src.slice(i).match(_n),o)return r||(l=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),e.pending+=qe(l)?ne(l):ne(65533)),e.pos+=o[0].length,!0}else if(o=e.src.slice(i).match(kn),o){var t=Ie(o[1]);if(o[1]!==t)return r||(e.pending+=t),e.pos+=o[0].length,!0}}return r||(e.pending+="&"),e.pos++,!0}var re=[["text",Pr],["newline",Fr],["escape",zr],["backticks",$r],["del",jr],["ins",Ur],["mark",Zr],["emphasis",Vr],["sub",Xr],["sup",Jr],["links",Qr],["footnote_inline",Yr],["footnote_ref",Kr],["autolink",ln],["htmltag",xn],["entity",yn]];function V(){this.ruler=new _;for(var e=0;e<re.length;e++)this.ruler.push(re[e][0],re[e][1]);this.validateLink=Cn}V.prototype.skipToken=function(e){var r=this.ruler.getRules(""),n=r.length,l=e.pos,o,i;if((i=e.cacheGet(l))>0){e.pos=i;return}for(o=0;o<n;o++)if(r[o](e,!0)){e.cacheSet(l,e.pos);return}e.pos++,e.cacheSet(l,e.pos)};V.prototype.tokenize=function(e){for(var r=this.ruler.getRules(""),n=r.length,l=e.posMax,o,i;e.pos<l;){for(i=0;i<n&&(o=r[i](e,!1),!o);i++);if(o){if(e.pos>=l)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};V.prototype.parse=function(e,r,n,l){var o=new M(e,this,r,n,l);this.tokenize(o)};function Cn(e){var r=["vbscript","javascript","file","data"],n=e.trim().toLowerCase();return n=S(n),!(n.indexOf(":")!==-1&&r.indexOf(n.split(":")[0])!==-1)}var An={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},En={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},Sn={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},Tn={default:An,full:En,commonmark:Sn};function Pe(e,r,n){this.src=r,this.env=n,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function C(e,r){typeof e!="string"&&(r=e,e="default"),r&&r.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new V,this.block=new ie,this.core=new Be,this.renderer=new oe,this.ruler=new _,this.options={},this.configure(Tn[e]),this.set(r||{})}C.prototype.set=function(e){Ne(this.options,e)};C.prototype.configure=function(e){var r=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&r.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&r[n].ruler.enable(e.components[n].rules,!0)})};C.prototype.use=function(e,r){return e(this,r),this};C.prototype.parse=function(e,r){var n=new Pe(this,e,r);return this.core.process(n),n.tokens};C.prototype.render=function(e,r){return r=r||{},this.renderer.render(this.parse(e,r),this.options,r)};C.prototype.parseInline=function(e,r){var n=new Pe(this,e,r);return n.inlineMode=!0,this.core.process(n),n.tokens};C.prototype.renderInline=function(e,r){return r=r||{},this.renderer.render(this.parseInline(e,r),this.options,r)};function Fe(){document.querySelectorAll("div#nav-bar__title, p.footer-container__help--links, a.nav-bar__search--results").forEach(n=>{ce(n)});let e=document.querySelector("#nav-bar__search--icon");e.addEventListener("click",B),e.targetParam="search";let r=document.querySelector("#nav-bar__games--icon");r.addEventListener("click",B),r.targetParam="games",fe()}document.readyState!=="loading"?Fe():document.addEventListener("DOMContentLoaded",Fe);function fe(){Bn(),wn(),ve(),be(),xe()}function Mn(){document.querySelectorAll(".content__selectorbox--item").forEach(e=>{e.style.setProperty("--highlight-color",e.dataset.highlight),e.addEventListener("click",r=>{document.querySelectorAll(".content__selectorbox--item").forEach(l=>{l.className="content__selectorbox--item"}),r.currentTarget.className="content__selectorbox--item selected";let n=k.filter(l=>l[0]==r.currentTarget.dataset.open);document.getElementById("content__currenth2").innerHTML=n[0][2],document.querySelectorAll(".content__collapse").forEach(l=>{l.addEventListener("click",ke)}),fe()})}),document.querySelectorAll(".content__selectorbox--item")[0].click()}function wn(){document.querySelectorAll(".tagging").forEach(e=>{let r=e.dataset.tags,n=JSON.parse(r.replace(/'/g,'"'));if(n.todo){let l=document.createElement("span");l.className="material-symbols-rounded",l.style.color="goldenrod",l.style.marginRight="15px",l.style.cursor="help",l.textContent="error_outline",e.appendChild(l),l.addEventListener("mouseover",()=>{P(l,"This section needs work, is not confirmed or needs testing.")}),l.addEventListener("mouseleave",()=>{F(l)})}if(n.versions){let l="Versions: ";l=l.concat(n.versions),l=l.concat(".");let o=document.createElement("span");o.className="material-symbols-rounded",o.style.marginRight="15px",o.style.cursor="help",o.textContent="devices",e.appendChild(o),o.addEventListener("mouseover",()=>{P(o,l)}),o.addEventListener("mouseleave",()=>{F(o)})}if(n.media)if(n.forcedvideo){let l=document.createElement("video");l.width="640",l.height="480",l.preload="metadata",l.style.order=2,l.style.width="100%",l.style.outline="none",l.controls=!0,l.muted=!0,l.loop=!0;let o=document.createElement("source");o.src=n.media,o.type="video/mp4",l.appendChild(o),e.appendChild(l)}else{let l=document.createElement("span");l.dataset.media=n.media,l.className="material-symbols-rounded",l.style.marginRight="15px",l.style.cursor="pointer",l.textContent="play_circle",e.appendChild(l),l.addEventListener("click",o=>{let i=o.target.nextSibling;if(i==null){let c=document.createElement("video");c.width="640",c.height="480",c.preload="metadata",c.style.order=2,c.style.width="100%",c.style.outline="none",c.controls=!0,c.muted=!0,c.loop=!0;let t=document.createElement("source");t.src=o.target.dataset.media,t.type="video/mp4",c.appendChild(t),o.target.parentNode.appendChild(c)}else i.remove()})}})}function ze(e){let r,n,l;for(n=document.getElementsByClassName("nav-bar__tab-bar--content"),r=0;r<n.length;r++)n[r].style.display="none";for(l=document.getElementsByClassName("nav-bar__tab-bar--links"),r=0;r<l.length;r++)l[r].className=l[r].className.replace(" active","");if(!(e.currentTarget.dataset.document=="HOME"||e.currentTarget.dataset.document.includes("./")))for(r=0;r<l.length;r++)l[r].dataset.document==e.currentTarget.dataset.document&&(l[r].className+=" active");let o=document.getElementById("section-container__text"),i=document.getElementById("content");if(e.currentTarget.dataset.document=="HOME")i.innerHTML="UNDER CONSTRUCTION",o.innerHTML="HOME";else{if(e.currentTarget.dataset.document.includes("./"))o.innerHTML=e.currentTarget.dataset.section,ue(e.currentTarget.dataset.document).then(c=>{i.innerHTML=c,fe(),q()});else{o.innerHTML=e.currentTarget.dataset.section;let c=e.currentTarget.dataset;ue(("./tech/"+e.currentTarget.dataset.document).toLowerCase()).then(t=>{i.style.visibility="hidden",i.innerHTML=t,_e(i),Mn(),q(),c.redirect!=null&&(Ze(c.redirect.substring(1)),document.querySelector(c.redirect).scrollIntoView({behavior:"smooth"}))})}e.currentTarget.dataset.redirect==null&&document.documentElement.scrollTo({top:0,behavior:"smooth"})}}function ce(e){e.removeEventListener("click",ze),e.addEventListener("click",ze)}var A=new C("full",{html:!0,typographer:!1}),In=A.renderer.rules.em_open,Nn=A.renderer.rules.em_close,$e=A.renderer.rules.heading_close,se=!1,ae=!1,qn={r:"red",b:"blue",g:"green",y:"yellow",p:"pink",t:"teal","!":"spoiler"};A.renderer.rules.heading_open=function(e,r,n,l){if(e[r+1].content[0]==":"){if(se=!0,e[r+1].content[1]=="{"){let o=Ue(e,r),i="<h"+e[r].hLevel+' id="'+e[r+1].content.replace(/\s+/g,"-").toLowerCase()+'">';return o+i}}else return"<h"+e[r].hLevel+' id="'+e[r+1].content.replace(/\s+/g,"-").toLowerCase()+'">'};A.renderer.rules.em_open=function(e,r,n,l){return Ln(e,r,n,l,In)};A.renderer.rules.heading_close=function(e,r,n,l){return se?(se=!1,$e(e,r,n,l).concat("</span>").replace(/\n/g," ")+`
`):$e(e,r,n,l)};A.renderer.rules.em_close=function(e,r,n,l){return ae?(ae=!1,"</span>"):Nn(e,r,n,l)};function Ln(e,r,n,l,o){if(e[r+1].type=="text")if(e[r+1].content[0]==":"){if(ae=!0,e[r+1].content[1]=="{")return Ue(e,r);{let i=e[r+1].content[1];return e[r+1].content=e[r+1].content.slice(2),'<span class="'+qn[i]+'">'}}else return o(e,r,n,l);else return o(e,r,n,l)}function Ue(e,r){let n=e[r+1].content.indexOf("}"),l=e[r+1].content.substring(1,n+1);return e[r+1].content=e[r+1].content.slice(n+2),e[r+1].type=="inline"&&(e[r+1].children[0].content=e[r+1].content),'<span class="tagging" data-tags="'+l+'">'}function Dn(e){return new Promise(function(r,n){let l=new XMLHttpRequest;l.open("GET",e,!0),l.onload=function(){this.status>=200&&this.status<300?r(l.response):n({status:this.status,statusText:l.statusText})},l.onerror=function(){n({status:this.status,statusText:l.statusText})},l.send()})}async function ue(e){let r=await Dn(e+".md");if(r.length<=1||r==null)return"";let n="";return n=A.render(r),n}var H=!1,y=null;function B(){if(H)return;let e=event.currentTarget.targetParam;if(y=e,e=="search"?je("#nav-bar__search"):je("#nav-bar__games"),document.querySelector(".nav-bar__search--results")==null&&Hn(),e=="games"){let l=document.querySelector("#nav-bar__gamesbox").children;for(elem of l)elem.style.display="inline-block";document.querySelector("#nav-bar__games--hr2D").style.display="none",document.querySelector("#nav-bar__games--hr3D").style.display="none"}}function je(e){if(H)return;document.querySelector(e).removeEventListener("click",B);var n=e+"box",l=e+"--input",o=e+"--icon",i=document.querySelector(n),c=document.querySelector(l);if(i==null){let u=document.createElement("div"),a=document.createElement("div");u.id="nav-bar__searchbox",a.id="nav-bar__gamesbox",u.style.width="0px",a.style.width="0px",a.tabIndex="0";let f=document.createElement("input");f.id="nav-bar__search--input",u.appendChild(f),document.querySelector("#nav-bar__search").appendChild(u),document.querySelector("#nav-bar__games").appendChild(a),f.addEventListener("keyup",Rn),f.addEventListener("focusout",h=>{let p=document.querySelector("#nav-bar__search");h.stopPropagation(),p.contains(h.relatedTarget)||q()}),a.addEventListener("focusout",h=>{let p=document.querySelector("#nav-bar__games");h.stopPropagation(),p.contains(h.relatedTarget)||q()}),c=f}i=document.querySelector(n);var t=220;y=="search"?document.body.clientWidth>=480&&(t=360):t=300,i.style.width=t+"px";let s=document.querySelector(o);s.className="material-symbols-rounded logo-fadeout",s.removeEventListener("click",B),s.addEventListener("click",q),y=="search"?(c=document.querySelector(l),c.focus()):i.focus(),i.className="fadein"}function q(){if(y==null)return;var e,r,n=document.querySelector("#nav-bar__searchbox"),l=document.querySelector("#nav-bar__gamesbox");if(n==null||l==null)return;H=!0;var o=null;y=="search"?o=n:o=l;let i="#nav-bar__"+y;if(y=="search"){for(e=o.getElementsByTagName("a"),r=0;r<e.length;r++)e[r].style.display="none";document.querySelector(i+"--hr").style.display="none"}else{for(figs=o.getElementsByTagName("figure"),r=0;r<figs.length;r++)figs[r].style.display="none";document.querySelector(i+"--hr2D").style.display="none",document.querySelector(i+"--hr3D").style.display="none"}var c=document.querySelector(i+"--icon");c.className="material-symbols-rounded logo-fadein",c.removeEventListener("click",q),c.addEventListener("click",B),y=="search"?(c.targetParam="search",setTimeout(()=>{n.className="fadeout",H=!1},"300")):(c.targetParam="games",setTimeout(()=>{l.className="fadeout",H=!1},"300")),y=null}function Rn(){var e,r,n,l,o="#nav-bar__search";if(y=="games")return;e=document.querySelector(o+"--input"),r=e.value.toUpperCase().trim(),filterArray=r.split(" "),n=document.querySelector(o+"box").getElementsByTagName("a");let c=0;for(l=0;l<n.length;l++){txtValue=n[l].textContent||n[l].innerText,txtValue=txtValue+" "+n[l].dataset.section+" "+n[l].dataset.document;let t=txtValue.toUpperCase(),s=!0;for(let u of filterArray.values())t.includes(u)&&r.length!==0||(s=!1);s?(c<6||y=="games"?n[l].style.display="block":n[l].style.display="none",c=c+1):n[l].style.display="none"}c>0?document.querySelector(o+"--hr").style.display="block":document.querySelector(o+"--hr").style.display="none"}function Hn(){var e=document.getElementsByClassName("game-instances--links"),r="",n="",l="",o=0,i=document.querySelector("#nav-bar__searchbox"),c=document.querySelector("#nav-bar__gamesbox");for(i.insertAdjacentHTML("beforeend","<hr id='nav-bar__search--hr'  tabindex='0' style='display: none;'>"),c.insertAdjacentHTML("beforeend",'<span style="cursor: default;height: 50px; display: block; float: right; padding-left: 30px;"></span>'),c.insertAdjacentHTML("beforeend","<hr id='nav-bar__games--hr2D'  tabindex='0' style='display: none;'>"),c.insertAdjacentHTML("beforeend","<hr id='nav-bar__games--hr3D'  tabindex='0' style='display: none;'>"),o=0;o<e.length;o++){let f=o;ue("./tech/"+e[o].dataset.document.toLowerCase()).then(m=>{let g=m,h=new DOMParser,p="";p=p.concat('<figure class="nav-bar__games--wrapper" data-document="'),p=p.concat(e[f].dataset.document),p=p.concat('" data-dim="'),p=p.concat(e[f].dataset.dim),p=p.concat('" tabindex="0" data-section="'),p=p.concat(e[f].dataset.section),p=p.concat('"><figcaption>'),p=p.concat(e[f].dataset.document),p=p.concat('</figcaption><img  class="nav-bar__search--results" src="media/'),p=p.concat(e[f].dataset.document.toLowerCase().trim()),p=p.concat("/"),p=p.concat(e[f].dataset.document.trim()),p=p.concat('ICONs.webp"></img></figure>'),e[f].dataset.dim=="2D"?document.querySelector("#nav-bar__games--hr2D").insertAdjacentHTML("beforebegin",p):document.querySelector("#nav-bar__games--hr3D").insertAdjacentHTML("beforebegin",p),p="",document.querySelectorAll("figure.nav-bar__games--wrapper").forEach(v=>{ce(v)});let b=h.parseFromString(g,"text/html");b.querySelectorAll("h1").forEach(v=>{r=r.concat('<a data-document="'),r=r.concat(e[f].dataset.document),r=r.concat('" class = "nav-bar__search--results" tabindex="0" data-section="'),r=r.concat(e[f].dataset.section),r=r.concat('" data-redirect="#'),r=r.concat(v.id),r=r.concat('"><b>'),r=r.concat(e[f].dataset.section),r=r.concat("</b> </a>")}),b.querySelectorAll("h3").forEach(v=>{r=r.concat('<a data-document="'),r=r.concat(e[f].dataset.document),r=r.concat('" class = "nav-bar__search--results" tabindex="0" data-section="'),r=r.concat(e[f].dataset.section),r=r.concat('" data-redirect="#'),r=r.concat(v.id),r=r.concat('"><b>'),r=r.concat(e[f].dataset.document),r=r.concat("</b> <br>&nbsp;&nbsp;&nbsp;"),r=r.concat(v.textContent),r=r.concat("</a>")}),b.querySelectorAll("h4").forEach(v=>{r=r.concat('<a data-document="'),r=r.concat(e[f].dataset.document),r=r.concat('" class = "nav-bar__search--results" tabindex="0" data-section="'),r=r.concat(e[f].dataset.section),r=r.concat('" data-redirect="#'),r=r.concat(v.id),r=r.concat('"><b>'),r=r.concat(e[f].dataset.document),r=r.concat("</b> <br>&nbsp;&nbsp;&nbsp;"),r=r.concat(v.textContent),r=r.concat("</a>")}),i.insertAdjacentHTML("beforeend",r),r="",document.querySelectorAll("a.nav-bar__search--results").forEach(v=>{ce(v)})})}}function Ze(e){if(targetHeading=document.getElementById(e),targetHeading==null){h2Section=0;for(let l=0;l<k.length;l++)if(k[l][2].includes(`id="${e}"`)){h2Section=l;break}document.querySelectorAll(".content__selectorbox--item")[h2Section].click()}targetHeading=document.getElementById(e);let r=null,n=!1;targetHeading.tagName=="H4"?targetHeading.dataset.open!=null&&(r=targetHeading.dataset.open.split(" "),n=!0):targetHeading.parentNode.className.includes("content__")?targetHeading.parentNode.firstElementChild.dataset.open!=null&&(r=targetHeading.parentNode.firstElementChild.dataset.open.split(" "),n=!0):targetHeading.parentNode.parentNode.firstElementChild.dataset.open!=null&&(r=targetHeading.parentNode.parentNode.firstElementChild.dataset.open.split(" "),n=!0),n&&r.forEach(l=>{let o=document.getElementsByClassName(l);for(let i of o)i.hidden&&(i.hidden=!1,i.parentNode.className.includes("content__")?i.parentNode.firstElementChild.firstChild.innerHTML=="expand_more"?i.parentNode.firstElementChild.firstChild.innerHTML="expand_less":i.parentNode.firstElementChild.firstChild.innerHTML="remove":i.parentNode.parentNode.firstElementChild.firstChild.innerHTML=="expand_more"?i.parentNode.parentNode.firstElementChild.firstChild.innerHTML="expand_less":i.parentNode.parentNode.firstElementChild.firstChild.innerHTML="remove")})}function Bn(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(r){r.preventDefault(),Ze(this.getAttribute("href").substring(1)),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})})}})();
//# sourceMappingURL=page.js.map
